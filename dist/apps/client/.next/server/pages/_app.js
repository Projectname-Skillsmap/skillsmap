/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "./src/components/Curtain/curtain.module.css":
/*!***************************************************!*\
  !*** ./src/components/Curtain/curtain.module.css ***!
  \***************************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"container\": \"curtain_container__mJOGN\",\n\t\"in\": \"curtain_in__AtBQy\",\n\t\"out\": \"curtain_out__oh4_q\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9DdXJ0YWluL2N1cnRhaW4ubW9kdWxlLmNzcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DdXJ0YWluL2N1cnRhaW4ubW9kdWxlLmNzcz9kMjMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImNvbnRhaW5lclwiOiBcImN1cnRhaW5fY29udGFpbmVyX19tSk9HTlwiLFxuXHRcImluXCI6IFwiY3VydGFpbl9pbl9fQXRCUXlcIixcblx0XCJvdXRcIjogXCJjdXJ0YWluX291dF9fb2g0X3FcIlxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/Curtain/curtain.module.css\n");

/***/ }),

/***/ "./src/changes/changes.ts":
/*!********************************!*\
  !*** ./src/changes/changes.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"deleteChangesHistory\": () => (/* binding */ deleteChangesHistory),\n/* harmony export */   \"recordChange\": () => (/* binding */ recordChange)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ChangeSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    initialState: [],\n    name: \"Change\",\n    reducers: {\n        recordChange (state, action) {\n            console.log({\n                id: action.payload.id,\n                type: action.payload.type\n            });\n            return [\n                ...state,\n                {\n                    id: action.payload.id,\n                    type: action.payload.type,\n                    entity: action.payload.entity\n                }, \n            ];\n        },\n        deleteChangesHistory () {\n            return [];\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeSlice.reducer);\nconst { recordChange , deleteChangesHistory  } = ChangeSlice.actions;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hhbmdlcy9jaGFuZ2VzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThEO0FBUTlELE1BQU1DLFdBQVcsR0FBR0QsNkRBQVcsQ0FBQztJQUM5QkUsWUFBWSxFQUFFLEVBQUU7SUFDaEJDLElBQUksRUFBRSxRQUFRO0lBQ2RDLFFBQVEsRUFBRTtRQUNSQyxZQUFZLEVBQUNDLEtBQUssRUFBRUMsTUFBNkIsRUFBRTtZQUNqREMsT0FBTyxDQUFDQyxHQUFHLENBQUM7Z0JBQ1ZDLEVBQUUsRUFBRUgsTUFBTSxDQUFDSSxPQUFPLENBQUNELEVBQUU7Z0JBQ3JCRSxJQUFJLEVBQUVMLE1BQU0sQ0FBQ0ksT0FBTyxDQUFDQyxJQUFJO2FBQzFCLENBQUMsQ0FBQztZQUNILE9BQU87bUJBQ0ZOLEtBQUs7Z0JBQ1I7b0JBQ0VJLEVBQUUsRUFBRUgsTUFBTSxDQUFDSSxPQUFPLENBQUNELEVBQUU7b0JBQ3JCRSxJQUFJLEVBQUVMLE1BQU0sQ0FBQ0ksT0FBTyxDQUFDQyxJQUFJO29CQUN6QkMsTUFBTSxFQUFFTixNQUFNLENBQUNJLE9BQU8sQ0FBQ0UsTUFBTTtpQkFDOUI7YUFDRixDQUFDO1NBQ0g7UUFFREMsb0JBQW9CLElBQUc7WUFDckIsT0FBTyxFQUFFLENBQUM7U0FDWDtLQUNGO0NBQ0YsQ0FBQztBQUVGLGlFQUFlYixXQUFXLENBQUNjLE9BQU8sRUFBQztBQUM1QixNQUFNLEVBQUVWLFlBQVksR0FBRVMsb0JBQW9CLEdBQUUsR0FBR2IsV0FBVyxDQUFDZSxPQUFPLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2hhbmdlcy9jaGFuZ2VzLnRzPzNjM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2xpY2UsIFBheWxvYWRBY3Rpb24gfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDaGFuZ2Uge1xyXG4gIHR5cGU6IFwiQUREXCIgfCBcIkRFTEVURVwiO1xyXG4gIGVudGl0eTogXCJOT0RFXCIgfCBcIkVER0VcIjtcclxuICBpZDogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBDaGFuZ2VTbGljZSA9IGNyZWF0ZVNsaWNlKHtcclxuICBpbml0aWFsU3RhdGU6IFtdIGFzIENoYW5nZVtdLFxyXG4gIG5hbWU6IFwiQ2hhbmdlXCIsXHJcbiAgcmVkdWNlcnM6IHtcclxuICAgIHJlY29yZENoYW5nZShzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPENoYW5nZT4pIHtcclxuICAgICAgY29uc29sZS5sb2coe1xyXG4gICAgICAgIGlkOiBhY3Rpb24ucGF5bG9hZC5pZCxcclxuICAgICAgICB0eXBlOiBhY3Rpb24ucGF5bG9hZC50eXBlLFxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIFtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogYWN0aW9uLnBheWxvYWQuaWQsXHJcbiAgICAgICAgICB0eXBlOiBhY3Rpb24ucGF5bG9hZC50eXBlLFxyXG4gICAgICAgICAgZW50aXR5OiBhY3Rpb24ucGF5bG9hZC5lbnRpdHksXHJcbiAgICAgICAgfSxcclxuICAgICAgXTtcclxuICAgIH0sXHJcblxyXG4gICAgZGVsZXRlQ2hhbmdlc0hpc3RvcnkoKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDaGFuZ2VTbGljZS5yZWR1Y2VyO1xyXG5leHBvcnQgY29uc3QgeyByZWNvcmRDaGFuZ2UsIGRlbGV0ZUNoYW5nZXNIaXN0b3J5IH0gPSBDaGFuZ2VTbGljZS5hY3Rpb25zO1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlU2xpY2UiLCJDaGFuZ2VTbGljZSIsImluaXRpYWxTdGF0ZSIsIm5hbWUiLCJyZWR1Y2VycyIsInJlY29yZENoYW5nZSIsInN0YXRlIiwiYWN0aW9uIiwiY29uc29sZSIsImxvZyIsImlkIiwicGF5bG9hZCIsInR5cGUiLCJlbnRpdHkiLCJkZWxldGVDaGFuZ2VzSGlzdG9yeSIsInJlZHVjZXIiLCJhY3Rpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/changes/changes.ts\n");

/***/ }),

/***/ "./src/components/Card/card-slice.ts":
/*!*******************************************!*\
  !*** ./src/components/Card/card-slice.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CardSlice\": () => (/* binding */ CardSlice),\n/* harmony export */   \"createConnection\": () => (/* binding */ createConnection),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"deleteHandlers\": () => (/* binding */ deleteHandlers),\n/* harmony export */   \"rebuildHandlers\": () => (/* binding */ rebuildHandlers),\n/* harmony export */   \"updateHandlers\": () => (/* binding */ updateHandlers)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CardSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    name: \"counter\",\n    initialState: {\n        handlers: {},\n        edge: {}\n    },\n    reducers: {\n        rebuildHandlers (_, action) {\n            console.log(action.payload);\n            return {\n                handlers: action.payload,\n                edge: {}\n            };\n        },\n        updateHandlers (state, action) {\n            console.log(action.payload);\n            const newState = {\n                ...state,\n                handlers: {\n                    ...state.handlers,\n                    [action.payload.handler.id]: [\n                        ...state.handlers[action.payload.handler.id] || [],\n                        {\n                            handleX: action.payload.handler.handlerX,\n                            handleY: action.payload.handler.handlerY,\n                            targetID: action.payload.handler.targetID,\n                            type: action.payload.handler.type\n                        }, \n                    ]\n                }\n            };\n            // console.log(newState);\n            return newState;\n        },\n        deleteHandlers (state, action) {\n            console.log(\"THE STACK IS:\", state.handlers);\n            console.log(\"THE ID IS:\", action.payload.stack);\n            const stackAfterHandlerRemoval = (state.handlers[action.payload.stack] || []).filter((handler)=>handler.targetID !== action.payload.id\n            );\n            console.log(stackAfterHandlerRemoval);\n            return {\n                ...state,\n                handlers: {\n                    ...state.handlers,\n                    [action.payload.stack]: stackAfterHandlerRemoval\n                }\n            };\n        },\n        createConnection (state, action) {\n            return {\n                ...state,\n                edge: action.payload\n            };\n        }\n    }\n});\n// Action creators are generated for each case reducer function\nconst { updateHandlers , rebuildHandlers , createConnection , deleteHandlers ,  } = CardSlice.actions;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CardSlice.reducer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQ2YsR0FBR3ZCLFNBQVMsQ0FBQzRCLE9BQU8sQ0FBQztBQUV0QixpRUFBZTVCLFNBQVMsQ0FBQzZCLE9BQU8sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NhcmQvY2FyZC1zbGljZS50cz9lNzJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNsaWNlLCBQYXlsb2FkQWN0aW9uIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgeyBFZGdlIH0gZnJvbSAncmVhY3QtZmxvdy1yZW5kZXJlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFuZGxlclN0YWNrIHtcbiAgW2lkOiBzdHJpbmddOiB7XG4gICAgaGFuZGxlWDogbnVtYmVyO1xuICAgIGhhbmRsZVk6IG51bWJlcjtcbiAgICB0YXJnZXRJRDogc3RyaW5nO1xuICAgIHR5cGU6ICd0YXJnZXQnIHwgJ3NvdXJjZSc7XG4gIH1bXTtcbn1cblxuaW50ZXJmYWNlIENhcmRJbnRlcm5hbHMge1xuICBoYW5kbGVyczogSGFuZGxlclN0YWNrO1xuICBlZGdlOiBFZGdlO1xufVxuXG5pbnRlcmZhY2UgSGFuZGxlciB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6ICd0YXJnZXQnIHwgJ3NvdXJjZSc7XG4gIHRhcmdldElEOiBzdHJpbmc7XG4gIGhhbmRsZXJYOiBudW1iZXI7XG4gIGhhbmRsZXJZOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBDYXJkU2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICdjb3VudGVyJyxcbiAgaW5pdGlhbFN0YXRlOiB7XG4gICAgaGFuZGxlcnM6IHt9IGFzIEhhbmRsZXJTdGFjayxcbiAgICBlZGdlOiB7fSBhcyBFZGdlLFxuICB9IGFzIENhcmRJbnRlcm5hbHMsXG4gIHJlZHVjZXJzOiB7XG4gICAgcmVidWlsZEhhbmRsZXJzKF8sIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxIYW5kbGVyU3RhY2s+KSB7XG4gICAgICBjb25zb2xlLmxvZyhhY3Rpb24ucGF5bG9hZCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoYW5kbGVyczogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGVkZ2U6IHt9IGFzIEVkZ2UsXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICB1cGRhdGVIYW5kbGVycyhcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcbiAgICAgICAgaGFuZGxlcjogSGFuZGxlcjtcbiAgICAgIH0+XG4gICAgKSB7XG4gICAgICBjb25zb2xlLmxvZyhhY3Rpb24ucGF5bG9hZCk7XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGhhbmRsZXJzOiB7XG4gICAgICAgICAgLi4uc3RhdGUuaGFuZGxlcnMsXG4gICAgICAgICAgW2FjdGlvbi5wYXlsb2FkLmhhbmRsZXIuaWRdOiBbXG4gICAgICAgICAgICAuLi4oc3RhdGUuaGFuZGxlcnNbYWN0aW9uLnBheWxvYWQuaGFuZGxlci5pZF0gfHwgW10pLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBoYW5kbGVYOiBhY3Rpb24ucGF5bG9hZC5oYW5kbGVyLmhhbmRsZXJYLFxuICAgICAgICAgICAgICBoYW5kbGVZOiBhY3Rpb24ucGF5bG9hZC5oYW5kbGVyLmhhbmRsZXJZLFxuICAgICAgICAgICAgICB0YXJnZXRJRDogYWN0aW9uLnBheWxvYWQuaGFuZGxlci50YXJnZXRJRCxcbiAgICAgICAgICAgICAgdHlwZTogYWN0aW9uLnBheWxvYWQuaGFuZGxlci50eXBlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKG5ld1N0YXRlKTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9LFxuXG4gICAgZGVsZXRlSGFuZGxlcnMoXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjx7XG4gICAgICAgIHN0YWNrOiBzdHJpbmc7XG4gICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICB9PlxuICAgICkge1xuICAgICAgY29uc29sZS5sb2coJ1RIRSBTVEFDSyBJUzonLCBzdGF0ZS5oYW5kbGVycyk7XG4gICAgICBjb25zb2xlLmxvZygnVEhFIElEIElTOicsIGFjdGlvbi5wYXlsb2FkLnN0YWNrKTtcbiAgICAgIGNvbnN0IHN0YWNrQWZ0ZXJIYW5kbGVyUmVtb3ZhbCA9IChcbiAgICAgICAgc3RhdGUuaGFuZGxlcnNbYWN0aW9uLnBheWxvYWQuc3RhY2tdIHx8IFtdXG4gICAgICApLmZpbHRlcigoaGFuZGxlcikgPT4gaGFuZGxlci50YXJnZXRJRCAhPT0gYWN0aW9uLnBheWxvYWQuaWQpO1xuXG4gICAgICBjb25zb2xlLmxvZyhzdGFja0FmdGVySGFuZGxlclJlbW92YWwpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgaGFuZGxlcnM6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5oYW5kbGVycyxcbiAgICAgICAgICBbYWN0aW9uLnBheWxvYWQuc3RhY2tdOiBzdGFja0FmdGVySGFuZGxlclJlbW92YWwsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBjcmVhdGVDb25uZWN0aW9uKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248RWRnZT4pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBlZGdlOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vLyBBY3Rpb24gY3JlYXRvcnMgYXJlIGdlbmVyYXRlZCBmb3IgZWFjaCBjYXNlIHJlZHVjZXIgZnVuY3Rpb25cbmV4cG9ydCBjb25zdCB7XG4gIHVwZGF0ZUhhbmRsZXJzLFxuICByZWJ1aWxkSGFuZGxlcnMsXG4gIGNyZWF0ZUNvbm5lY3Rpb24sXG4gIGRlbGV0ZUhhbmRsZXJzLFxufSA9IENhcmRTbGljZS5hY3Rpb25zO1xuXG5leHBvcnQgZGVmYXVsdCBDYXJkU2xpY2UucmVkdWNlcjtcbiJdLCJuYW1lcyI6WyJjcmVhdGVTbGljZSIsIkNhcmRTbGljZSIsIm5hbWUiLCJpbml0aWFsU3RhdGUiLCJoYW5kbGVycyIsImVkZ2UiLCJyZWR1Y2VycyIsInJlYnVpbGRIYW5kbGVycyIsIl8iLCJhY3Rpb24iLCJjb25zb2xlIiwibG9nIiwicGF5bG9hZCIsInVwZGF0ZUhhbmRsZXJzIiwic3RhdGUiLCJuZXdTdGF0ZSIsImhhbmRsZXIiLCJpZCIsImhhbmRsZVgiLCJoYW5kbGVyWCIsImhhbmRsZVkiLCJoYW5kbGVyWSIsInRhcmdldElEIiwidHlwZSIsImRlbGV0ZUhhbmRsZXJzIiwic3RhY2siLCJzdGFja0FmdGVySGFuZGxlclJlbW92YWwiLCJmaWx0ZXIiLCJjcmVhdGVDb25uZWN0aW9uIiwiYWN0aW9ucyIsInJlZHVjZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/Card/card-slice.ts\n");

/***/ }),

/***/ "./src/components/Curtain/Curtain.tsx":
/*!********************************************!*\
  !*** ./src/components/Curtain/Curtain.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"startAnimation$\": () => (/* binding */ startAnimation$)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"rxjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _curtain_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./curtain.module.css */ \"./src/components/Curtain/curtain.module.css\");\n/* harmony import */ var _curtain_module_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_curtain_module_css__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst startAnimation$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__.Subject();\nconst navigationEnd$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__.Subject();\nconst Curtain = ()=>{\n    const { 0: animation , 1: setState  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        className: (_curtain_module_css__WEBPACK_IMPORTED_MODULE_4___default().container),\n        duration: 500\n    });\n    const page = (0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)().query.level;\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        navigationEnd$.next(page);\n    }, [\n        page\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        startAnimation$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.tap)((time)=>setState({\n                className: `${(_curtain_module_css__WEBPACK_IMPORTED_MODULE_4___default().container)} ${(_curtain_module_css__WEBPACK_IMPORTED_MODULE_4___default()[\"in\"])}`,\n                duration: time\n            })\n        ), (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.mergeMap)((time)=>navigationEnd$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.tap)(()=>setState({\n                    className: `${(_curtain_module_css__WEBPACK_IMPORTED_MODULE_4___default().container)} ${(_curtain_module_css__WEBPACK_IMPORTED_MODULE_4___default().out)}`,\n                    duration: time\n                })\n            ), (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.delay)(time), (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.tap)(()=>setState({\n                    className: (_curtain_module_css__WEBPACK_IMPORTED_MODULE_4___default().container),\n                    duration: time\n                })\n            ))\n        )).subscribe();\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: animation.className,\n        style: {\n            transition: `all ${animation.duration}ms cubic-bezier(0.165, 0.84, 0.44, 1)`\n        }\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ratas\\\\web_projects\\\\skillsmap\\\\skillsmap\\\\apps\\\\client\\\\src\\\\components\\\\Curtain\\\\Curtain.tsx\",\n        lineNumber: 54,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Curtain);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9DdXJ0YWluL0N1cnRhaW4udHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQXdDO0FBQ0k7QUFDUztBQUNIO0FBQzNDLE1BQU1RLGVBQWUsR0FBRyxJQUFJSCx5Q0FBTyxFQUFVLENBQUM7QUFDckQsTUFBTUksY0FBYyxHQUFHLElBQUlKLHlDQUFPLEVBQVU7QUFPNUMsTUFBTUssT0FBTyxHQUFHLElBQU07SUFDcEIsTUFBTSxFQWJSLEdBYVNDLFNBQVMsR0FibEIsR0Fhb0JDLFFBQVEsTUFBSVYsK0NBQVEsQ0FBWTtRQUNoRFcsU0FBUyxFQUFFTixzRUFBd0I7UUFDbkNRLFFBQVEsRUFBRSxHQUFHO0tBQ2QsQ0FBQztJQUNGLE1BQU1DLElBQUksR0FBR2hCLHNEQUFTLEVBQUUsQ0FBQ2lCLEtBQUssQ0FBQ0MsS0FBSztJQUVwQ2pCLGdEQUFTLENBQUMsSUFBTTtRQUNkUSxjQUFjLENBQUNVLElBQUksQ0FBQ0gsSUFBSSxDQUFDLENBQUM7S0FDM0IsRUFBRTtRQUFDQSxJQUFJO0tBQUMsQ0FBQyxDQUFDO0lBRVhmLGdEQUFTLENBQUMsSUFBTTtRQUNkTyxlQUFlLENBQ1pZLElBQUksQ0FDSGQseUNBQUcsQ0FBQyxDQUFDZSxJQUFJLEdBQ1BULFFBQVEsQ0FBQztnQkFDUEMsU0FBUyxFQUFFLENBQUMsRUFBRU4sc0VBQXdCLENBQUMsQ0FBQyxFQUFFQSxrRUFBaUIsQ0FBQyxDQUFDO2dCQUM3RFEsUUFBUSxFQUFFTSxJQUFJO2FBQ2YsQ0FBQztRQUFBLENBQ0gsRUFDRGpCLDhDQUFRLENBQUMsQ0FBQ2lCLElBQUksR0FDWlosY0FBYyxDQUFDVyxJQUFJLENBQ2pCZCx5Q0FBRyxDQUFDLElBQ0ZNLFFBQVEsQ0FBQztvQkFDUEMsU0FBUyxFQUFFLENBQUMsRUFBRU4sc0VBQXdCLENBQUMsQ0FBQyxFQUFFQSxnRUFBa0IsQ0FBQyxDQUFDO29CQUM5RFEsUUFBUSxFQUFFTSxJQUFJO2lCQUNmLENBQUM7WUFBQSxDQUNILEVBQ0RsQiwyQ0FBSyxDQUFDa0IsSUFBSSxDQUFDLEVBQ1hmLHlDQUFHLENBQUMsSUFDRk0sUUFBUSxDQUFDO29CQUNQQyxTQUFTLEVBQUVOLHNFQUF3QjtvQkFDbkNRLFFBQVEsRUFBRU0sSUFBSTtpQkFDZixDQUFDO1lBQUEsQ0FDSCxDQUNGO1FBQUEsQ0FDRixDQUNGLENBQ0FHLFNBQVMsRUFBRSxDQUFDO0tBQ2hCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDUCxxQkFDRSw4REFBQ0MsS0FBRztRQUNGWixTQUFTLEVBQUVGLFNBQVMsQ0FBQ0UsU0FBUztRQUM5QmEsS0FBSyxFQUFFO1lBQ0xDLFVBQVUsRUFBRSxDQUFDLElBQUksRUFBRWhCLFNBQVMsQ0FBQ0ksUUFBUSxDQUFDLHFDQUFxQyxDQUFDO1NBQzdFOzs7OztpQkFBUSxDQUNYO0NBQ0g7QUFFRCxpRUFBZUwsT0FBTyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ3VydGFpbi9DdXJ0YWluLnRzeD9kMjAwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGRlbGF5LCBtZXJnZU1hcCwgU3ViamVjdCwgdGFwIH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IGN1cnRhaW5fX3N0eWxlIGZyb20gXCIuL2N1cnRhaW4ubW9kdWxlLmNzc1wiO1xyXG5leHBvcnQgY29uc3Qgc3RhcnRBbmltYXRpb24kID0gbmV3IFN1YmplY3Q8bnVtYmVyPigpO1xyXG5jb25zdCBuYXZpZ2F0aW9uRW5kJCA9IG5ldyBTdWJqZWN0PHN0cmluZz4oKTtcclxuXHJcbmludGVyZmFjZSBBbmltYXRpb24ge1xyXG4gIGNsYXNzTmFtZTogc3RyaW5nO1xyXG4gIGR1cmF0aW9uOiBudW1iZXI7XHJcbn1cclxuXHJcbmNvbnN0IEN1cnRhaW4gPSAoKSA9PiB7XHJcbiAgY29uc3QgW2FuaW1hdGlvbiwgc2V0U3RhdGVdID0gdXNlU3RhdGU8QW5pbWF0aW9uPih7XHJcbiAgICBjbGFzc05hbWU6IGN1cnRhaW5fX3N0eWxlLmNvbnRhaW5lcixcclxuICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgfSk7XHJcbiAgY29uc3QgcGFnZSA9IHVzZVJvdXRlcigpLnF1ZXJ5LmxldmVsIGFzIHN0cmluZztcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIG5hdmlnYXRpb25FbmQkLm5leHQocGFnZSk7XHJcbiAgfSwgW3BhZ2VdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHN0YXJ0QW5pbWF0aW9uJFxyXG4gICAgICAucGlwZShcclxuICAgICAgICB0YXAoKHRpbWUpID0+XHJcbiAgICAgICAgICBzZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogYCR7Y3VydGFpbl9fc3R5bGUuY29udGFpbmVyfSAke2N1cnRhaW5fX3N0eWxlLmlufWAsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aW1lLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApLFxyXG4gICAgICAgIG1lcmdlTWFwKCh0aW1lKSA9PlxyXG4gICAgICAgICAgbmF2aWdhdGlvbkVuZCQucGlwZShcclxuICAgICAgICAgICAgdGFwKCgpID0+XHJcbiAgICAgICAgICAgICAgc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBgJHtjdXJ0YWluX19zdHlsZS5jb250YWluZXJ9ICR7Y3VydGFpbl9fc3R5bGUub3V0fWAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGltZSxcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBkZWxheSh0aW1lKSxcclxuICAgICAgICAgICAgdGFwKCgpID0+XHJcbiAgICAgICAgICAgICAgc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjdXJ0YWluX19zdHlsZS5jb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogdGltZSxcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICAgIC5zdWJzY3JpYmUoKTtcclxuICB9LCBbXSk7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgY2xhc3NOYW1lPXthbmltYXRpb24uY2xhc3NOYW1lfVxyXG4gICAgICBzdHlsZT17e1xyXG4gICAgICAgIHRyYW5zaXRpb246IGBhbGwgJHthbmltYXRpb24uZHVyYXRpb259bXMgY3ViaWMtYmV6aWVyKDAuMTY1LCAwLjg0LCAwLjQ0LCAxKWAsXHJcbiAgICAgIH19PjwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDdXJ0YWluO1xyXG4iXSwibmFtZXMiOlsidXNlUm91dGVyIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJkZWxheSIsIm1lcmdlTWFwIiwiU3ViamVjdCIsInRhcCIsImN1cnRhaW5fX3N0eWxlIiwic3RhcnRBbmltYXRpb24kIiwibmF2aWdhdGlvbkVuZCQiLCJDdXJ0YWluIiwiYW5pbWF0aW9uIiwic2V0U3RhdGUiLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJkdXJhdGlvbiIsInBhZ2UiLCJxdWVyeSIsImxldmVsIiwibmV4dCIsInBpcGUiLCJ0aW1lIiwiaW4iLCJvdXQiLCJzdWJzY3JpYmUiLCJkaXYiLCJzdHlsZSIsInRyYW5zaXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/Curtain/Curtain.tsx\n");

/***/ }),

/***/ "./src/components/Curtain/curtain-slice.ts":
/*!*************************************************!*\
  !*** ./src/components/Curtain/curtain-slice.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"changeLevel\": () => (/* binding */ changeLevel),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n\nconst curtainSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    initialState: \"web\",\n    name: \"curtain\",\n    reducers: {\n        changeLevel (_, action) {\n            return action.payload;\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (curtainSlice.reducer);\nconst { changeLevel  } = curtainSlice.actions;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9DdXJ0YWluL2N1cnRhaW4tc2xpY2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4RDtBQUU5RCxNQUFNQyxZQUFZLEdBQUdELDZEQUFXLENBQUM7SUFDL0JFLFlBQVksRUFBRSxLQUFLO0lBQ25CQyxJQUFJLEVBQUUsU0FBUztJQUNmQyxRQUFRLEVBQUU7UUFDUkMsV0FBVyxFQUFDQyxDQUFDLEVBQUVDLE1BQTZCLEVBQUU7WUFDNUMsT0FBT0EsTUFBTSxDQUFDQyxPQUFPLENBQUM7U0FDdkI7S0FDRjtDQUNGLENBQUM7QUFFRixpRUFBZVAsWUFBWSxDQUFDUSxPQUFPLEVBQUM7QUFDN0IsTUFBTSxFQUFFSixXQUFXLEdBQUUsR0FBR0osWUFBWSxDQUFDUyxPQUFPLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DdXJ0YWluL2N1cnRhaW4tc2xpY2UudHM/NzQxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTbGljZSwgUGF5bG9hZEFjdGlvbiB9IGZyb20gXCJAcmVkdXhqcy90b29sa2l0XCI7XHJcblxyXG5jb25zdCBjdXJ0YWluU2xpY2UgPSBjcmVhdGVTbGljZSh7XHJcbiAgaW5pdGlhbFN0YXRlOiBcIndlYlwiLFxyXG4gIG5hbWU6IFwiY3VydGFpblwiLFxyXG4gIHJlZHVjZXJzOiB7XHJcbiAgICBjaGFuZ2VMZXZlbChfLCBhY3Rpb246IFBheWxvYWRBY3Rpb248c3RyaW5nPikge1xyXG4gICAgICByZXR1cm4gYWN0aW9uLnBheWxvYWQ7XHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3VydGFpblNsaWNlLnJlZHVjZXI7XHJcbmV4cG9ydCBjb25zdCB7IGNoYW5nZUxldmVsIH0gPSBjdXJ0YWluU2xpY2UuYWN0aW9ucztcclxuIl0sIm5hbWVzIjpbImNyZWF0ZVNsaWNlIiwiY3VydGFpblNsaWNlIiwiaW5pdGlhbFN0YXRlIiwibmFtZSIsInJlZHVjZXJzIiwiY2hhbmdlTGV2ZWwiLCJfIiwiYWN0aW9uIiwicGF5bG9hZCIsInJlZHVjZXIiLCJhY3Rpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/Curtain/curtain-slice.ts\n");

/***/ }),

/***/ "./src/components/Toolbar/Buttons/Add-Card/add-card.slice.ts":
/*!*******************************************************************!*\
  !*** ./src/components/Toolbar/Buttons/Add-Card/add-card.slice.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createNodeFrom\": () => (/* binding */ createNodeFrom),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n\nconst addCardSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    initialState: {},\n    name: \"add-card\",\n    reducers: {\n        createNodeFrom (_, action) {\n            return action.payload;\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (addCardSlice.reducer);\nconst { createNodeFrom  } = addCardSlice.actions;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9Ub29sYmFyL0J1dHRvbnMvQWRkLUNhcmQvYWRkLWNhcmQuc2xpY2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4RDtBQUc5RCxNQUFNQyxZQUFZLEdBQUdELDZEQUFXLENBQUM7SUFDL0JFLFlBQVksRUFBRSxFQUFFO0lBQ2hCQyxJQUFJLEVBQUUsVUFBVTtJQUNoQkMsUUFBUSxFQUFFO1FBQ1JDLGNBQWMsRUFBQ0MsQ0FBQyxFQUFFQyxNQUF3QyxFQUFFO1lBQzFELE9BQU9BLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDO1NBQ3ZCO0tBQ0Y7Q0FDRixDQUFDO0FBRUYsaUVBQWVQLFlBQVksQ0FBQ1EsT0FBTyxFQUFDO0FBQzdCLE1BQU0sRUFBRUosY0FBYyxHQUFFLEdBQUdKLFlBQVksQ0FBQ1MsT0FBTyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVG9vbGJhci9CdXR0b25zL0FkZC1DYXJkL2FkZC1jYXJkLnNsaWNlLnRzPzI1MTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2xpY2UsIFBheWxvYWRBY3Rpb24gfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcbmltcG9ydCB7IENhcmRQYXlsb2FkIH0gZnJvbSAnQHV0aWxzL2NhcmQnO1xuaW1wb3J0IHsgTm9kZSB9IGZyb20gJ3JlYWN0LWZsb3ctcmVuZGVyZXInO1xuY29uc3QgYWRkQ2FyZFNsaWNlID0gY3JlYXRlU2xpY2Uoe1xuICBpbml0aWFsU3RhdGU6IHt9IGFzIE5vZGU8Q2FyZFBheWxvYWQ+LFxuICBuYW1lOiAnYWRkLWNhcmQnLFxuICByZWR1Y2Vyczoge1xuICAgIGNyZWF0ZU5vZGVGcm9tKF8sIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxOb2RlPENhcmRQYXlsb2FkPj4pIHtcbiAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZDtcbiAgICB9LFxuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFkZENhcmRTbGljZS5yZWR1Y2VyO1xuZXhwb3J0IGNvbnN0IHsgY3JlYXRlTm9kZUZyb20gfSA9IGFkZENhcmRTbGljZS5hY3Rpb25zO1xuIl0sIm5hbWVzIjpbImNyZWF0ZVNsaWNlIiwiYWRkQ2FyZFNsaWNlIiwiaW5pdGlhbFN0YXRlIiwibmFtZSIsInJlZHVjZXJzIiwiY3JlYXRlTm9kZUZyb20iLCJfIiwiYWN0aW9uIiwicGF5bG9hZCIsInJlZHVjZXIiLCJhY3Rpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/Toolbar/Buttons/Add-Card/add-card.slice.ts\n");

/***/ }),

/***/ "./src/graphql/apollo-client.tsx":
/*!***************************************!*\
  !*** ./src/graphql/apollo-client.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @apollo/client */ \"@apollo/client\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst client = new _apollo_client__WEBPACK_IMPORTED_MODULE_1__.ApolloClient({\n    uri: \"http://localhost:5000/graphql\",\n    cache: new _apollo_client__WEBPACK_IMPORTED_MODULE_1__.InMemoryCache()\n});\nconst Apollo = ({ children  })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_apollo_client__WEBPACK_IMPORTED_MODULE_1__.ApolloProvider, {\n        client: client,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ratas\\\\web_projects\\\\skillsmap\\\\skillsmap\\\\apps\\\\client\\\\src\\\\graphql\\\\apollo-client.tsx\",\n        lineNumber: 10,\n        columnNumber: 10\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Apollo);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ3JhcGhxbC9hcG9sbG8tY2xpZW50LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQTZFO0FBRzdFLE1BQU1HLE1BQU0sR0FBRyxJQUFJSCx3REFBWSxDQUFDO0lBQzlCSSxHQUFHLEVBQUUsK0JBQStCO0lBQ3BDQyxLQUFLLEVBQUUsSUFBSUoseURBQWEsRUFBRTtDQUMzQixDQUFDO0FBRUYsTUFBTUssTUFBTSxHQUFnQyxDQUFDLEVBQUVDLFFBQVEsR0FBRSxHQUFLO0lBQzVELHFCQUFPLDhEQUFDTCwwREFBYztRQUFDQyxNQUFNLEVBQUVBLE1BQU07a0JBQUdJLFFBQVE7Ozs7O2lCQUFrQixDQUFDO0NBQ3BFO0FBRUQsaUVBQWVELE1BQU0sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2Fwb2xsby1jbGllbnQudHN4P2U5OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBvbGxvQ2xpZW50LCBJbk1lbW9yeUNhY2hlLCBBcG9sbG9Qcm92aWRlciB9IGZyb20gJ0BhcG9sbG8vY2xpZW50JztcclxuaW1wb3J0IHsgRkMsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmNvbnN0IGNsaWVudCA9IG5ldyBBcG9sbG9DbGllbnQoe1xyXG4gIHVyaTogJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9ncmFwaHFsJyxcclxuICBjYWNoZTogbmV3IEluTWVtb3J5Q2FjaGUoKSxcclxufSk7XHJcblxyXG5jb25zdCBBcG9sbG86IEZDPHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9PiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcclxuICByZXR1cm4gPEFwb2xsb1Byb3ZpZGVyIGNsaWVudD17Y2xpZW50fT57Y2hpbGRyZW59PC9BcG9sbG9Qcm92aWRlcj47XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcG9sbG87XHJcbiJdLCJuYW1lcyI6WyJBcG9sbG9DbGllbnQiLCJJbk1lbW9yeUNhY2hlIiwiQXBvbGxvUHJvdmlkZXIiLCJjbGllbnQiLCJ1cmkiLCJjYWNoZSIsIkFwb2xsbyIsImNoaWxkcmVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/graphql/apollo-client.tsx\n");

/***/ }),

/***/ "./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @redux/store */ \"./src/redux/store.ts\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ \"react-redux\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_flow_renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-flow-renderer */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index.js\");\n/* harmony import */ var _src_components_Curtain_Curtain__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @src/components/Curtain/Curtain */ \"./src/components/Curtain/Curtain.tsx\");\n/* harmony import */ var _src_graphql_apollo_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @src/graphql/apollo-client */ \"./src/graphql/apollo-client.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_flow_renderer__WEBPACK_IMPORTED_MODULE_4__]);\nreact_flow_renderer__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\nfunction MyApp({ Component , pageProps  }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_graphql_apollo_client__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_redux__WEBPACK_IMPORTED_MODULE_3__.Provider, {\n            store: _redux_store__WEBPACK_IMPORTED_MODULE_2__.store,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_flow_renderer__WEBPACK_IMPORTED_MODULE_4__.ReactFlowProvider, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                        ...pageProps\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ratas\\\\web_projects\\\\skillsmap\\\\skillsmap\\\\apps\\\\client\\\\src\\\\pages\\\\_app.tsx\",\n                        lineNumber: 14,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_Curtain_Curtain__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\ratas\\\\web_projects\\\\skillsmap\\\\skillsmap\\\\apps\\\\client\\\\src\\\\pages\\\\_app.tsx\",\n                        lineNumber: 15,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\ratas\\\\web_projects\\\\skillsmap\\\\skillsmap\\\\apps\\\\client\\\\src\\\\pages\\\\_app.tsx\",\n                lineNumber: 13,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\ratas\\\\web_projects\\\\skillsmap\\\\skillsmap\\\\apps\\\\client\\\\src\\\\pages\\\\_app.tsx\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\ratas\\\\web_projects\\\\skillsmap\\\\skillsmap\\\\apps\\\\client\\\\src\\\\pages\\\\_app.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2FwcC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFrQztBQUVHO0FBQ0U7QUFDaUI7QUFDRjtBQUNOO0FBRWhELFNBQVNLLEtBQUssQ0FBQyxFQUFFQyxTQUFTLEdBQUVDLFNBQVMsR0FBWSxFQUFFO0lBQ2pELHFCQUNFLDhEQUFDSCxrRUFBTTtrQkFDTCw0RUFBQ0gsaURBQVE7WUFBQ0QsS0FBSyxFQUFFQSwrQ0FBSztzQkFDcEIsNEVBQUNFLGtFQUFpQjs7a0NBQ2hCLDhEQUFDSSxTQUFTO3dCQUFFLEdBQUdDLFNBQVM7Ozs7OzRCQUFJO2tDQUM1Qiw4REFBQ0osdUVBQU87Ozs7NEJBQUc7Ozs7OztvQkFDTzs7Ozs7Z0JBQ1g7Ozs7O1lBQ0osQ0FDVDtDQUNIO0FBRUQsaUVBQWVFLEtBQUssRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wYWdlcy9fYXBwLnRzeD9mOWQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi4vLi4vc3R5bGVzL2dsb2JhbHMuY3NzJztcclxuaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gJ25leHQvYXBwJztcclxuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICdAcmVkdXgvc3RvcmUnO1xyXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHsgUmVhY3RGbG93UHJvdmlkZXIgfSBmcm9tICdyZWFjdC1mbG93LXJlbmRlcmVyJztcclxuaW1wb3J0IEN1cnRhaW4gZnJvbSAnQHNyYy9jb21wb25lbnRzL0N1cnRhaW4vQ3VydGFpbic7XHJcbmltcG9ydCBBcG9sbG8gZnJvbSAnQHNyYy9ncmFwaHFsL2Fwb2xsby1jbGllbnQnO1xyXG5cclxuZnVuY3Rpb24gTXlBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xyXG4gIHJldHVybiAoXHJcbiAgICA8QXBvbGxvPlxyXG4gICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cclxuICAgICAgICA8UmVhY3RGbG93UHJvdmlkZXI+XHJcbiAgICAgICAgICA8Q29tcG9uZW50IHsuLi5wYWdlUHJvcHN9IC8+XHJcbiAgICAgICAgICA8Q3VydGFpbiAvPlxyXG4gICAgICAgIDwvUmVhY3RGbG93UHJvdmlkZXI+XHJcbiAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICA8L0Fwb2xsbz5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNeUFwcDtcclxuIl0sIm5hbWVzIjpbInN0b3JlIiwiUHJvdmlkZXIiLCJSZWFjdEZsb3dQcm92aWRlciIsIkN1cnRhaW4iLCJBcG9sbG8iLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/_app.tsx\n");

/***/ }),

/***/ "./src/redux/store.ts":
/*!****************************!*\
  !*** ./src/redux/store.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"store\": () => (/* binding */ store)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_Card_card_slice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @components/Card/card-slice */ \"./src/components/Card/card-slice.ts\");\n/* harmony import */ var _src_changes_changes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @src/changes/changes */ \"./src/changes/changes.ts\");\n/* harmony import */ var src_components_Curtain_curtain_slice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/components/Curtain/curtain-slice */ \"./src/components/Curtain/curtain-slice.ts\");\n/* harmony import */ var _widgets_SaveChanges_save_change_slice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @widgets/SaveChanges/save-change.slice */ \"./src/widgets/SaveChanges/save-change.slice.ts\");\n/* harmony import */ var _widgets_CustomizeCard_customize_card_slice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @widgets/CustomizeCard/customize-card.slice */ \"./src/widgets/CustomizeCard/customize-card.slice.ts\");\n/* harmony import */ var _components_Toolbar_Buttons_Add_Card_add_card_slice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @components/Toolbar/Buttons/Add-Card/add-card.slice */ \"./src/components/Toolbar/Buttons/Add-Card/add-card.slice.ts\");\n\n\n\n\n\n\n\nconst store = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.configureStore)({\n    reducer: {\n        card: _components_Card_card_slice__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        changes: _src_changes_changes__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        curtain: src_components_Curtain_curtain_slice__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        saveChanges: _widgets_SaveChanges_save_change_slice__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        customizeCard: _widgets_CustomizeCard_customize_card_slice__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n        newCard: _components_Toolbar_Buttons_Add_Card_add_card_slice__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVkdXgvc3RvcmUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWtEO0FBQ0g7QUFDSjtBQUNnQjtBQUNNO0FBQ087QUFDRTtBQUVuRSxNQUFNTyxLQUFLLEdBQUdQLGdFQUFjLENBQUM7SUFDbENRLE9BQU8sRUFBRTtRQUNQUCxJQUFJO1FBQ0pDLE9BQU87UUFDUEMsT0FBTztRQUNQQyxXQUFXO1FBQ1hDLGFBQWE7UUFDYkMsT0FBTztLQUNSO0NBQ0YsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHV4L3N0b3JlLnRzP2E1YjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlndXJlU3RvcmUgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xyXG5pbXBvcnQgY2FyZCBmcm9tIFwiQGNvbXBvbmVudHMvQ2FyZC9jYXJkLXNsaWNlXCI7XHJcbmltcG9ydCBjaGFuZ2VzIGZyb20gXCJAc3JjL2NoYW5nZXMvY2hhbmdlc1wiO1xyXG5pbXBvcnQgY3VydGFpbiBmcm9tIFwic3JjL2NvbXBvbmVudHMvQ3VydGFpbi9jdXJ0YWluLXNsaWNlXCI7XHJcbmltcG9ydCBzYXZlQ2hhbmdlcyBmcm9tIFwiQHdpZGdldHMvU2F2ZUNoYW5nZXMvc2F2ZS1jaGFuZ2Uuc2xpY2VcIjtcclxuaW1wb3J0IGN1c3RvbWl6ZUNhcmQgZnJvbSBcIkB3aWRnZXRzL0N1c3RvbWl6ZUNhcmQvY3VzdG9taXplLWNhcmQuc2xpY2VcIjtcclxuaW1wb3J0IG5ld0NhcmQgZnJvbSBcIkBjb21wb25lbnRzL1Rvb2xiYXIvQnV0dG9ucy9BZGQtQ2FyZC9hZGQtY2FyZC5zbGljZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN0b3JlID0gY29uZmlndXJlU3RvcmUoe1xyXG4gIHJlZHVjZXI6IHtcclxuICAgIGNhcmQsXHJcbiAgICBjaGFuZ2VzLFxyXG4gICAgY3VydGFpbixcclxuICAgIHNhdmVDaGFuZ2VzLFxyXG4gICAgY3VzdG9taXplQ2FyZCxcclxuICAgIG5ld0NhcmQsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBJbmZlciB0aGUgYFJvb3RTdGF0ZWAgYW5kIGBBcHBEaXNwYXRjaGAgdHlwZXMgZnJvbSB0aGUgc3RvcmUgaXRzZWxmXHJcbmV4cG9ydCB0eXBlIFJvb3RTdGF0ZSA9IFJldHVyblR5cGU8dHlwZW9mIHN0b3JlLmdldFN0YXRlPjtcclxuLy8gSW5mZXJyZWQgdHlwZToge3Bvc3RzOiBQb3N0c1N0YXRlLCBjb21tZW50czogQ29tbWVudHNTdGF0ZSwgdXNlcnM6IFVzZXJzU3RhdGV9XHJcbmV4cG9ydCB0eXBlIEFwcERpc3BhdGNoID0gdHlwZW9mIHN0b3JlLmRpc3BhdGNoO1xyXG4iXSwibmFtZXMiOlsiY29uZmlndXJlU3RvcmUiLCJjYXJkIiwiY2hhbmdlcyIsImN1cnRhaW4iLCJzYXZlQ2hhbmdlcyIsImN1c3RvbWl6ZUNhcmQiLCJuZXdDYXJkIiwic3RvcmUiLCJyZWR1Y2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/redux/store.ts\n");

/***/ }),

/***/ "./src/widgets/CustomizeCard/customize-card.slice.ts":
/*!***********************************************************!*\
  !*** ./src/widgets/CustomizeCard/customize-card.slice.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"close\": () => (/* binding */ close),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"name\": () => (/* binding */ name),\n/* harmony export */   \"open\": () => (/* binding */ open)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n\nconst customizeCardSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    initialState: {\n        visible: false\n    },\n    name: \"customize-card\",\n    reducers: {\n        open: ()=>{\n            return {\n                visible: true\n            };\n        },\n        close: ()=>{\n            return {\n                visible: false\n            };\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (customizeCardSlice.reducer);\nconst { close , open  } = customizeCardSlice.actions;\nconst name = customizeCardSlice.name;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2lkZ2V0cy9DdXN0b21pemVDYXJkL2N1c3RvbWl6ZS1jYXJkLnNsaWNlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUErQztBQUUvQyxNQUFNQyxrQkFBa0IsR0FBR0QsNkRBQVcsQ0FBQztJQUNyQ0UsWUFBWSxFQUFFO1FBQ1pDLE9BQU8sRUFBRSxLQUFLO0tBQ2Y7SUFDREMsSUFBSSxFQUFFLGdCQUFnQjtJQUN0QkMsUUFBUSxFQUFFO1FBQ1JDLElBQUksRUFBRSxJQUFNO1lBQ1YsT0FBTztnQkFDTEgsT0FBTyxFQUFFLElBQUk7YUFDZCxDQUFDO1NBQ0g7UUFDREksS0FBSyxFQUFFLElBQU07WUFDWCxPQUFPO2dCQUNMSixPQUFPLEVBQUUsS0FBSzthQUNmLENBQUM7U0FDSDtLQUNGO0NBQ0YsQ0FBQztBQUVGLGlFQUFlRixrQkFBa0IsQ0FBQ08sT0FBTyxFQUFDO0FBQ25DLE1BQU0sRUFBRUQsS0FBSyxHQUFFRCxJQUFJLEdBQUUsR0FBR0wsa0JBQWtCLENBQUNRLE9BQU8sQ0FBQztBQUNuRCxNQUFNTCxJQUFJLEdBQUdILGtCQUFrQixDQUFDRyxJQUFJLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2lkZ2V0cy9DdXN0b21pemVDYXJkL2N1c3RvbWl6ZS1jYXJkLnNsaWNlLnRzP2FjNTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2xpY2UgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xyXG5cclxuY29uc3QgY3VzdG9taXplQ2FyZFNsaWNlID0gY3JlYXRlU2xpY2Uoe1xyXG4gIGluaXRpYWxTdGF0ZToge1xyXG4gICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgfSxcclxuICBuYW1lOiBcImN1c3RvbWl6ZS1jYXJkXCIsXHJcbiAgcmVkdWNlcnM6IHtcclxuICAgIG9wZW46ICgpID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgIGNsb3NlOiAoKSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3VzdG9taXplQ2FyZFNsaWNlLnJlZHVjZXI7XHJcbmV4cG9ydCBjb25zdCB7IGNsb3NlLCBvcGVuIH0gPSBjdXN0b21pemVDYXJkU2xpY2UuYWN0aW9ucztcclxuZXhwb3J0IGNvbnN0IG5hbWUgPSBjdXN0b21pemVDYXJkU2xpY2UubmFtZTtcclxuIl0sIm5hbWVzIjpbImNyZWF0ZVNsaWNlIiwiY3VzdG9taXplQ2FyZFNsaWNlIiwiaW5pdGlhbFN0YXRlIiwidmlzaWJsZSIsIm5hbWUiLCJyZWR1Y2VycyIsIm9wZW4iLCJjbG9zZSIsInJlZHVjZXIiLCJhY3Rpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/widgets/CustomizeCard/customize-card.slice.ts\n");

/***/ }),

/***/ "./src/widgets/SaveChanges/save-change.slice.ts":
/*!******************************************************!*\
  !*** ./src/widgets/SaveChanges/save-change.slice.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"close\": () => (/* binding */ close),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"name\": () => (/* binding */ name),\n/* harmony export */   \"open\": () => (/* binding */ open)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n\nconst saveChangesSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    initialState: {\n        visible: false,\n        levelID: \"\"\n    },\n    name: \"save-changes\",\n    reducers: {\n        open (_, action) {\n            console.log(\"PASSED\");\n            return {\n                visible: true,\n                levelID: action.payload\n            };\n        },\n        close () {\n            return {\n                visible: false,\n                levelID: \"\"\n            };\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (saveChangesSlice.reducer);\nconst { close , open  } = saveChangesSlice.actions;\nconst name = saveChangesSlice.name;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2lkZ2V0cy9TYXZlQ2hhbmdlcy9zYXZlLWNoYW5nZS5zbGljZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBOEQ7QUFFOUQsTUFBTUMsZ0JBQWdCLEdBQUdELDZEQUFXLENBQUM7SUFDbkNFLFlBQVksRUFBRTtRQUFFQyxPQUFPLEVBQUUsS0FBSztRQUFFQyxPQUFPLEVBQUUsRUFBRTtLQUFFO0lBQzdDQyxJQUFJLEVBQUUsY0FBYztJQUNwQkMsUUFBUSxFQUFFO1FBQ1JDLElBQUksRUFBQ0MsQ0FBQyxFQUFFQyxNQUE2QixFQUFFO1lBQ3JDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN0QixPQUFPO2dCQUNMUixPQUFPLEVBQUUsSUFBSTtnQkFDYkMsT0FBTyxFQUFFSyxNQUFNLENBQUNHLE9BQU87YUFDeEIsQ0FBQztTQUNIO1FBQ0RDLEtBQUssSUFBRztZQUNOLE9BQU87Z0JBQ0xWLE9BQU8sRUFBRSxLQUFLO2dCQUNkQyxPQUFPLEVBQUUsRUFBRTthQUNaLENBQUM7U0FDSDtLQUNGO0NBQ0YsQ0FBQztBQUVGLGlFQUFlSCxnQkFBZ0IsQ0FBQ2EsT0FBTyxFQUFDO0FBQ2pDLE1BQU0sRUFBRUQsS0FBSyxHQUFFTixJQUFJLEdBQUUsR0FBR04sZ0JBQWdCLENBQUNjLE9BQU8sQ0FBQztBQUNqRCxNQUFNVixJQUFJLEdBQUdKLGdCQUFnQixDQUFDSSxJQUFJLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2lkZ2V0cy9TYXZlQ2hhbmdlcy9zYXZlLWNoYW5nZS5zbGljZS50cz83MDgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNsaWNlLCBQYXlsb2FkQWN0aW9uIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcclxuXHJcbmNvbnN0IHNhdmVDaGFuZ2VzU2xpY2UgPSBjcmVhdGVTbGljZSh7XHJcbiAgaW5pdGlhbFN0YXRlOiB7IHZpc2libGU6IGZhbHNlLCBsZXZlbElEOiBcIlwiIH0sXHJcbiAgbmFtZTogXCJzYXZlLWNoYW5nZXNcIixcclxuICByZWR1Y2Vyczoge1xyXG4gICAgb3BlbihfLCBhY3Rpb246IFBheWxvYWRBY3Rpb248c3RyaW5nPikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlBBU1NFRFwiKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICAgIGxldmVsSUQ6IGFjdGlvbi5wYXlsb2FkLFxyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgIGNsb3NlKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgIGxldmVsSUQ6IFwiXCIsXHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2F2ZUNoYW5nZXNTbGljZS5yZWR1Y2VyO1xyXG5leHBvcnQgY29uc3QgeyBjbG9zZSwgb3BlbiB9ID0gc2F2ZUNoYW5nZXNTbGljZS5hY3Rpb25zO1xyXG5leHBvcnQgY29uc3QgbmFtZSA9IHNhdmVDaGFuZ2VzU2xpY2UubmFtZTtcclxuIl0sIm5hbWVzIjpbImNyZWF0ZVNsaWNlIiwic2F2ZUNoYW5nZXNTbGljZSIsImluaXRpYWxTdGF0ZSIsInZpc2libGUiLCJsZXZlbElEIiwibmFtZSIsInJlZHVjZXJzIiwib3BlbiIsIl8iLCJhY3Rpb24iLCJjb25zb2xlIiwibG9nIiwicGF5bG9hZCIsImNsb3NlIiwicmVkdWNlciIsImFjdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/widgets/SaveChanges/save-change.slice.ts\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "@apollo/client":
/*!*********************************!*\
  !*** external "@apollo/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@apollo/client");

/***/ }),

/***/ "@reduxjs/toolkit":
/*!***********************************!*\
  !*** external "@reduxjs/toolkit" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@reduxjs/toolkit");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/router");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-draggable":
/*!**********************************!*\
  !*** external "react-draggable" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-draggable");

/***/ }),

/***/ "react-redux":
/*!******************************!*\
  !*** external "react-redux" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-redux");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "rxjs":
/*!***********************!*\
  !*** external "rxjs" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("rxjs");

/***/ }),

/***/ "classcat":
/*!***************************!*\
  !*** external "classcat" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = import("classcat");;

/***/ }),

/***/ "d3-selection":
/*!*******************************!*\
  !*** external "d3-selection" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("d3-selection");;

/***/ }),

/***/ "d3-zoom":
/*!**************************!*\
  !*** external "d3-zoom" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = import("d3-zoom");;

/***/ }),

/***/ "zustand":
/*!**************************!*\
  !*** external "zustand" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = import("zustand");;

/***/ }),

/***/ "zustand/context":
/*!**********************************!*\
  !*** external "zustand/context" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("zustand/context");;

/***/ }),

/***/ "zustand/shallow":
/*!**********************************!*\
  !*** external "zustand/shallow" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("zustand/shallow");;

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js":
/*!**********************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js ***!
  \**********************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"A\": () => (/* binding */ getBoundsofRects),\n/* harmony export */   \"B\": () => (/* binding */ BackgroundVariant),\n/* harmony export */   \"C\": () => (/* binding */ ConnectionMode),\n/* harmony export */   \"D\": () => (/* binding */ _arrayLikeToArray),\n/* harmony export */   \"E\": () => (/* binding */ _unsupportedIterableToArray),\n/* harmony export */   \"F\": () => (/* binding */ getD3Transition),\n/* harmony export */   \"G\": () => (/* binding */ fitView),\n/* harmony export */   \"H\": () => (/* binding */ pointToRendererPoint),\n/* harmony export */   \"M\": () => (/* binding */ MarkerType),\n/* harmony export */   \"P\": () => (/* binding */ Position),\n/* harmony export */   \"_\": () => (/* binding */ _slicedToArray),\n/* harmony export */   \"a\": () => (/* binding */ _defineProperty),\n/* harmony export */   \"b\": () => (/* binding */ useStore),\n/* harmony export */   \"c\": () => (/* binding */ addEdge),\n/* harmony export */   \"d\": () => (/* binding */ getMarkerId),\n/* harmony export */   \"e\": () => (/* binding */ getConnectedEdges),\n/* harmony export */   \"f\": () => (/* binding */ getDimensions),\n/* harmony export */   \"g\": () => (/* binding */ getHostForElement),\n/* harmony export */   \"h\": () => (/* binding */ PanOnScrollMode),\n/* harmony export */   \"i\": () => (/* binding */ clamp),\n/* harmony export */   \"j\": () => (/* binding */ getNodesInside),\n/* harmony export */   \"k\": () => (/* binding */ getSelectionChanges),\n/* harmony export */   \"l\": () => (/* binding */ getRectOfNodes),\n/* harmony export */   \"m\": () => (/* binding */ ConnectionLineType),\n/* harmony export */   \"n\": () => (/* binding */ isNumeric),\n/* harmony export */   \"o\": () => (/* binding */ Provider),\n/* harmony export */   \"p\": () => (/* binding */ createStore),\n/* harmony export */   \"q\": () => (/* binding */ applyEdgeChanges),\n/* harmony export */   \"r\": () => (/* binding */ rectToBox),\n/* harmony export */   \"s\": () => (/* binding */ applyNodeChanges),\n/* harmony export */   \"t\": () => (/* binding */ isNode),\n/* harmony export */   \"u\": () => (/* binding */ useStoreApi),\n/* harmony export */   \"v\": () => (/* binding */ isEdge),\n/* harmony export */   \"w\": () => (/* binding */ getOutgoers),\n/* harmony export */   \"x\": () => (/* binding */ getIncomers),\n/* harmony export */   \"y\": () => (/* binding */ updateEdge),\n/* harmony export */   \"z\": () => (/* binding */ getTransformForBounds)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zustand__WEBPACK_IMPORTED_MODULE_0__, zustand_context__WEBPACK_IMPORTED_MODULE_1__, d3_zoom__WEBPACK_IMPORTED_MODULE_2__]);\n([zustand__WEBPACK_IMPORTED_MODULE_0__, zustand_context__WEBPACK_IMPORTED_MODULE_1__, d3_zoom__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n  if (key in obj) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true,\r\n    });\r\n  } else {\r\n    obj[key] = value;\r\n  }\r\n\r\n  return obj;\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n  }\r\n\r\n  return arr2;\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\r\n  var n = Object.prototype.toString.call(o).slice(8, -1);\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen);\r\n}\r\n\r\nfunction _arrayWithHoles(arr) {\r\n  if (Array.isArray(arr)) return arr;\r\n}\r\n\r\nfunction _iterableToArrayLimit(arr, i) {\r\n  var _i =\r\n    arr == null\r\n      ? null\r\n      : (typeof Symbol !== \"undefined\" && arr[Symbol.iterator]) ||\r\n        arr[\"@@iterator\"];\r\n\r\n  if (_i == null) return;\r\n  var _arr = [];\r\n  var _n = true;\r\n  var _d = false;\r\n\r\n  var _s, _e;\r\n\r\n  try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n      _arr.push(_s.value);\r\n\r\n      if (i && _arr.length === i) break;\r\n    }\r\n  } catch (err) {\r\n    _d = true;\r\n    _e = err;\r\n  } finally {\r\n    try {\r\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\r\n    } finally {\r\n      if (_d) throw _e;\r\n    }\r\n  }\r\n\r\n  return _arr;\r\n}\r\n\r\nfunction _nonIterableRest() {\r\n  throw new TypeError(\r\n    \"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"\r\n  );\r\n}\r\n\r\nfunction _slicedToArray(arr, i) {\r\n  return (\r\n    _arrayWithHoles(arr) ||\r\n    _iterableToArrayLimit(arr, i) ||\r\n    _unsupportedIterableToArray(arr, i) ||\r\n    _nonIterableRest()\r\n  );\r\n}\r\n\r\nvar ConnectionMode;\r\n\r\n(function (ConnectionMode) {\r\n  ConnectionMode[\"Strict\"] = \"strict\";\r\n  ConnectionMode[\"Loose\"] = \"loose\";\r\n})(ConnectionMode || (ConnectionMode = {}));\r\n\r\nvar BackgroundVariant;\r\n\r\n(function (BackgroundVariant) {\r\n  BackgroundVariant[\"Lines\"] = \"lines\";\r\n  BackgroundVariant[\"Dots\"] = \"dots\";\r\n})(BackgroundVariant || (BackgroundVariant = {}));\r\n\r\nvar PanOnScrollMode;\r\n\r\n(function (PanOnScrollMode) {\r\n  PanOnScrollMode[\"Free\"] = \"free\";\r\n  PanOnScrollMode[\"Vertical\"] = \"vertical\";\r\n  PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\r\n})(PanOnScrollMode || (PanOnScrollMode = {}));\r\n\r\nvar ConnectionLineType;\r\n\r\n(function (ConnectionLineType) {\r\n  ConnectionLineType[\"Bezier\"] = \"default\";\r\n  ConnectionLineType[\"Straight\"] = \"straight\";\r\n  ConnectionLineType[\"Step\"] = \"step\";\r\n  ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\r\n  ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\r\n})(ConnectionLineType || (ConnectionLineType = {}));\r\n\r\nvar MarkerType;\r\n\r\n(function (MarkerType) {\r\n  MarkerType[\"Arrow\"] = \"arrow\";\r\n  MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\r\n})(MarkerType || (MarkerType = {}));\r\n\r\nvar Position;\r\n\r\n(function (Position) {\r\n  Position[\"Left\"] = \"left\";\r\n  Position[\"Top\"] = \"top\";\r\n  Position[\"Right\"] = \"right\";\r\n  Position[\"Bottom\"] = \"bottom\";\r\n})(Position || (Position = {}));\r\n\r\nvar getDimensions = function getDimensions(node) {\r\n  return {\r\n    width: node.offsetWidth,\r\n    height: node.offsetHeight,\r\n  };\r\n};\r\nvar clamp = function clamp(val) {\r\n  var min =\r\n    arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n  var max =\r\n    arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n  return Math.min(Math.max(val, min), max);\r\n};\r\nvar clampPosition = function clampPosition(position, extent) {\r\n  return {\r\n    x: clamp(position.x, extent[0][0], extent[1][0]),\r\n    y: clamp(position.y, extent[0][1], extent[1][1]),\r\n  };\r\n};\r\nvar getHostForElement = function getHostForElement(element) {\r\n  var _element$getRootNode, _window;\r\n\r\n  return (\r\n    ((_element$getRootNode = element.getRootNode) === null ||\r\n    _element$getRootNode === void 0\r\n      ? void 0\r\n      : _element$getRootNode.call(element)) ||\r\n    ((_window = window) === null || _window === void 0\r\n      ? void 0\r\n      : _window.document)\r\n  );\r\n};\r\nvar getBoundsOfBoxes = function getBoundsOfBoxes(box1, box2) {\r\n  return {\r\n    x: Math.min(box1.x, box2.x),\r\n    y: Math.min(box1.y, box2.y),\r\n    x2: Math.max(box1.x2, box2.x2),\r\n    y2: Math.max(box1.y2, box2.y2),\r\n  };\r\n};\r\nvar rectToBox = function rectToBox(_ref) {\r\n  var x = _ref.x,\r\n    y = _ref.y,\r\n    width = _ref.width,\r\n    height = _ref.height;\r\n  return {\r\n    x: x,\r\n    y: y,\r\n    x2: x + width,\r\n    y2: y + height,\r\n  };\r\n};\r\nvar boxToRect = function boxToRect(_ref2) {\r\n  var x = _ref2.x,\r\n    y = _ref2.y,\r\n    x2 = _ref2.x2,\r\n    y2 = _ref2.y2;\r\n  return {\r\n    x: x,\r\n    y: y,\r\n    width: x2 - x,\r\n    height: y2 - y,\r\n  };\r\n};\r\nvar getBoundsofRects = function getBoundsofRects(rect1, rect2) {\r\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\r\n};\r\nvar isNumeric = function isNumeric(n) {\r\n  return !isNaN(n) && isFinite(n);\r\n};\r\n\r\nfunction ownKeys$4(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly &&\r\n      (symbols = symbols.filter(function (sym) {\r\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n      })),\r\n      keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\n\r\nfunction _objectSpread$4(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2\r\n      ? ownKeys$4(Object(source), !0).forEach(function (key) {\r\n          _defineProperty(target, key, source[key]);\r\n        })\r\n      : Object.getOwnPropertyDescriptors\r\n      ? Object.defineProperties(\r\n          target,\r\n          Object.getOwnPropertyDescriptors(source)\r\n        )\r\n      : ownKeys$4(Object(source)).forEach(function (key) {\r\n          Object.defineProperty(\r\n            target,\r\n            key,\r\n            Object.getOwnPropertyDescriptor(source, key)\r\n          );\r\n        });\r\n  }\r\n  return target;\r\n}\r\n\r\nfunction handleParentExpand(res, updateItem) {\r\n  var parent = res.find(function (e) {\r\n    return e.id === updateItem.parentNode;\r\n  });\r\n\r\n  if (parent) {\r\n    var extendWidth = updateItem.position.x + updateItem.width - parent.width;\r\n    var extendHeight =\r\n      updateItem.position.y + updateItem.height - parent.height;\r\n\r\n    if (\r\n      extendWidth > 0 ||\r\n      extendHeight > 0 ||\r\n      updateItem.position.x < 0 ||\r\n      updateItem.position.y < 0\r\n    ) {\r\n      parent.style = _objectSpread$4({}, parent.style) || {};\r\n\r\n      if (extendWidth > 0) {\r\n        if (!parent.style.width) {\r\n          parent.style.width = parent.width;\r\n        }\r\n\r\n        parent.style.width += extendWidth;\r\n      }\r\n\r\n      if (extendHeight > 0) {\r\n        if (!parent.style.height) {\r\n          parent.style.height = parent.height;\r\n        }\r\n\r\n        parent.style.height += extendHeight;\r\n      }\r\n\r\n      if (updateItem.position.x < 0) {\r\n        var xDiff = Math.abs(updateItem.position.x);\r\n        parent.position.x = parent.position.x - xDiff;\r\n        parent.style.width += xDiff;\r\n        updateItem.position.x = 0;\r\n      }\r\n\r\n      if (updateItem.position.y < 0) {\r\n        var yDiff = Math.abs(updateItem.position.y);\r\n        parent.position.y = parent.position.y - yDiff;\r\n        parent.style.height += yDiff;\r\n        updateItem.position.y = 0;\r\n      }\r\n\r\n      parent.width = parent.style.width;\r\n      parent.height = parent.style.height;\r\n    }\r\n  }\r\n}\r\n\r\nfunction applyChanges(changes, elements) {\r\n  // unfortunately we need this hack to handle the setNodes and setEdges function of the\r\n  // useReactFlow hook.\r\n  if (\r\n    changes.some(function (c) {\r\n      return c.type === \"reset\";\r\n    })\r\n  ) {\r\n    return changes\r\n      .filter(function (c) {\r\n        return c.type === \"reset\";\r\n      })\r\n      .map(function (c) {\r\n        return c.item;\r\n      });\r\n  }\r\n\r\n  var initElements = changes\r\n    .filter(function (c) {\r\n      return c.type === \"add\";\r\n    })\r\n    .map(function (c) {\r\n      return c.item;\r\n    });\r\n  return elements.reduce(function (res, item) {\r\n    var currentChange = changes.find(function (c) {\r\n      return c.id === item.id;\r\n    });\r\n\r\n    if (currentChange) {\r\n      switch (currentChange.type) {\r\n        case \"select\": {\r\n          res.push(\r\n            _objectSpread$4(\r\n              _objectSpread$4({}, item),\r\n              {},\r\n              {\r\n                selected: currentChange.selected,\r\n              }\r\n            )\r\n          );\r\n          return res;\r\n        }\r\n\r\n        case \"position\": {\r\n          var updateItem = _objectSpread$4({}, item);\r\n\r\n          if (typeof currentChange.position !== \"undefined\") {\r\n            updateItem.position = currentChange.position;\r\n          }\r\n\r\n          if (typeof currentChange.dragging !== \"undefined\") {\r\n            updateItem.dragging = currentChange.dragging;\r\n          }\r\n\r\n          if (updateItem.expandParent) {\r\n            handleParentExpand(res, updateItem);\r\n          }\r\n\r\n          res.push(updateItem);\r\n          return res;\r\n        }\r\n\r\n        case \"dimensions\": {\r\n          var _updateItem = _objectSpread$4({}, item);\r\n\r\n          if (typeof currentChange.dimensions !== \"undefined\") {\r\n            _updateItem.width = currentChange.dimensions.width;\r\n            _updateItem.height = currentChange.dimensions.height;\r\n            /**\r\n             * when the \"dimensions\" event is fired, we only change\r\n             * the width and the height of the current node. Now we also\r\n             * update the handleBounds\r\n             */\r\n\r\n            _updateItem.handleBounds = currentChange.handleBounds;\r\n          }\r\n\r\n          if (_updateItem.expandParent) {\r\n            handleParentExpand(res, _updateItem);\r\n          }\r\n\r\n          res.push(_updateItem);\r\n          return res;\r\n        }\r\n\r\n        case \"remove\": {\r\n          return res;\r\n        }\r\n      }\r\n    }\r\n\r\n    res.push(item);\r\n    return res;\r\n  }, initElements);\r\n}\r\n\r\nfunction applyNodeChanges(changes, nodes) {\r\n  return applyChanges(changes, nodes);\r\n}\r\nfunction applyEdgeChanges(changes, edges) {\r\n  return applyChanges(changes, edges);\r\n}\r\nvar createSelectionChange = function createSelectionChange(id, selected) {\r\n  return {\r\n    id: id,\r\n    type: \"select\",\r\n    selected: selected,\r\n  };\r\n};\r\nfunction getSelectionChanges(items, selectedIds) {\r\n  return items.reduce(function (res, item) {\r\n    var willBeSelected = selectedIds.includes(item.id);\r\n\r\n    if (!item.selected && willBeSelected) {\r\n      item.selected = true;\r\n      res.push(createSelectionChange(item.id, true));\r\n    } else if (item.selected && !willBeSelected) {\r\n      item.selected = false;\r\n      res.push(createSelectionChange(item.id, false));\r\n    }\r\n\r\n    return res;\r\n  }, []);\r\n}\r\n\r\nfunction ownKeys$3(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly &&\r\n      (symbols = symbols.filter(function (sym) {\r\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n      })),\r\n      keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\n\r\nfunction _objectSpread$3(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2\r\n      ? ownKeys$3(Object(source), !0).forEach(function (key) {\r\n          _defineProperty(target, key, source[key]);\r\n        })\r\n      : Object.getOwnPropertyDescriptors\r\n      ? Object.defineProperties(\r\n          target,\r\n          Object.getOwnPropertyDescriptors(source)\r\n        )\r\n      : ownKeys$3(Object(source)).forEach(function (key) {\r\n          Object.defineProperty(\r\n            target,\r\n            key,\r\n            Object.getOwnPropertyDescriptor(source, key)\r\n          );\r\n        });\r\n  }\r\n  return target;\r\n}\r\nvar getHandleBounds = function getHandleBounds(nodeElement, scale) {\r\n  var bounds = nodeElement.getBoundingClientRect();\r\n  return {\r\n    source: getHandleBoundsByHandleType(\".source\", nodeElement, bounds, scale),\r\n    target: getHandleBoundsByHandleType(\".target\", nodeElement, bounds, scale),\r\n  };\r\n};\r\nvar getHandleBoundsByHandleType = function getHandleBoundsByHandleType(\r\n  selector,\r\n  nodeElement,\r\n  parentBounds,\r\n  k\r\n) {\r\n  var handles = nodeElement.querySelectorAll(selector);\r\n\r\n  if (!handles || !handles.length) {\r\n    return null;\r\n  }\r\n\r\n  var handlesArray = Array.from(handles);\r\n  return handlesArray.map(function (handle) {\r\n    var bounds = handle.getBoundingClientRect();\r\n    var dimensions = getDimensions(handle);\r\n    var handleId = handle.getAttribute(\"data-handleid\");\r\n    var handlePosition = handle.getAttribute(\"data-handlepos\");\r\n    return _objectSpread$3(\r\n      {\r\n        id: handleId,\r\n        position: handlePosition,\r\n        x: (bounds.left - parentBounds.left) / k,\r\n        y: (bounds.top - parentBounds.top) / k,\r\n      },\r\n      dimensions\r\n    );\r\n  });\r\n};\r\n\r\nfunction ownKeys$2(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly &&\r\n      (symbols = symbols.filter(function (sym) {\r\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n      })),\r\n      keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\n\r\nfunction _objectSpread$2(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2\r\n      ? ownKeys$2(Object(source), !0).forEach(function (key) {\r\n          _defineProperty(target, key, source[key]);\r\n        })\r\n      : Object.getOwnPropertyDescriptors\r\n      ? Object.defineProperties(\r\n          target,\r\n          Object.getOwnPropertyDescriptors(source)\r\n        )\r\n      : ownKeys$2(Object(source)).forEach(function (key) {\r\n          Object.defineProperty(\r\n            target,\r\n            key,\r\n            Object.getOwnPropertyDescriptor(source, key)\r\n          );\r\n        });\r\n  }\r\n  return target;\r\n}\r\nvar isEdge = function isEdge(element) {\r\n  return \"id\" in element && \"source\" in element && \"target\" in element;\r\n};\r\nvar isNode = function isNode(element) {\r\n  return \"id\" in element && !(\"source\" in element) && !(\"target\" in element);\r\n};\r\nvar getOutgoers = function getOutgoers(node, nodes, edges) {\r\n  if (!isNode(node)) {\r\n    return [];\r\n  }\r\n\r\n  var outgoerIds = edges\r\n    .filter(function (e) {\r\n      return e.source === node.id;\r\n    })\r\n    .map(function (e) {\r\n      return e.target;\r\n    });\r\n  return nodes.filter(function (n) {\r\n    return outgoerIds.includes(n.id);\r\n  });\r\n};\r\nvar getIncomers = function getIncomers(node, nodes, edges) {\r\n  if (!isNode(node)) {\r\n    return [];\r\n  }\r\n\r\n  var incomersIds = edges\r\n    .filter(function (e) {\r\n      return e.target === node.id;\r\n    })\r\n    .map(function (e) {\r\n      return e.source;\r\n    });\r\n  return nodes.filter(function (n) {\r\n    return incomersIds.includes(n.id);\r\n  });\r\n};\r\n\r\nvar getEdgeId = function getEdgeId(_ref) {\r\n  var source = _ref.source,\r\n    sourceHandle = _ref.sourceHandle,\r\n    target = _ref.target,\r\n    targetHandle = _ref.targetHandle;\r\n  return \"reactflow__edge-\"\r\n    .concat(source)\r\n    .concat(sourceHandle || \"\", \"-\")\r\n    .concat(target)\r\n    .concat(targetHandle || \"\");\r\n};\r\n\r\nvar getMarkerId = function getMarkerId(marker) {\r\n  if (typeof marker === \"undefined\") {\r\n    return \"\";\r\n  }\r\n\r\n  if (typeof marker === \"string\") {\r\n    return marker;\r\n  }\r\n\r\n  return Object.keys(marker)\r\n    .sort()\r\n    .map(function (key) {\r\n      return \"\".concat(key, \"=\").concat(marker[key]);\r\n    })\r\n    .join(\"&\");\r\n};\r\n\r\nvar connectionExists = function connectionExists(edge, edges) {\r\n  return edges.some(function (el) {\r\n    return (\r\n      el.source === edge.source &&\r\n      el.target === edge.target &&\r\n      (el.sourceHandle === edge.sourceHandle ||\r\n        (!el.sourceHandle && !edge.sourceHandle)) &&\r\n      (el.targetHandle === edge.targetHandle ||\r\n        (!el.targetHandle && !edge.targetHandle))\r\n    );\r\n  });\r\n};\r\n\r\nvar addEdge = function addEdge(edgeParams, edges) {\r\n  if (!edgeParams.source || !edgeParams.target) {\r\n    console.warn(\"Can't create edge. An edge needs a source and a target.\");\r\n    return edges;\r\n  }\r\n\r\n  var edge;\r\n\r\n  if (isEdge(edgeParams)) {\r\n    edge = _objectSpread$2({}, edgeParams);\r\n  } else {\r\n    edge = _objectSpread$2(\r\n      _objectSpread$2({}, edgeParams),\r\n      {},\r\n      {\r\n        id: getEdgeId(edgeParams),\r\n      }\r\n    );\r\n  }\r\n\r\n  if (connectionExists(edge, edges)) {\r\n    return edges;\r\n  }\r\n\r\n  return edges.concat(edge);\r\n};\r\nvar updateEdge = function updateEdge(oldEdge, newConnection, edges) {\r\n  if (!newConnection.source || !newConnection.target) {\r\n    console.warn(\"Can't create new edge. An edge needs a source and a target.\");\r\n    return edges;\r\n  }\r\n\r\n  var foundEdge = edges.find(function (e) {\r\n    return e.id === oldEdge.id;\r\n  });\r\n\r\n  if (!foundEdge) {\r\n    console.warn(\r\n      \"The old edge with id=\".concat(oldEdge.id, \" does not exist.\")\r\n    );\r\n    return edges;\r\n  } // Remove old edge and create the new edge with parameters of old edge.\r\n\r\n  var edge = _objectSpread$2(\r\n    _objectSpread$2({}, oldEdge),\r\n    {},\r\n    {\r\n      id: getEdgeId(newConnection),\r\n      source: newConnection.source,\r\n      target: newConnection.target,\r\n      sourceHandle: newConnection.sourceHandle,\r\n      targetHandle: newConnection.targetHandle,\r\n    }\r\n  );\r\n\r\n  return edges\r\n    .filter(function (e) {\r\n      return e.id !== oldEdge.id;\r\n    })\r\n    .concat(edge);\r\n};\r\nvar pointToRendererPoint = function pointToRendererPoint(\r\n  _ref2,\r\n  _ref3,\r\n  snapToGrid,\r\n  _ref4\r\n) {\r\n  var x = _ref2.x,\r\n    y = _ref2.y;\r\n\r\n  var _ref5 = _slicedToArray(_ref3, 3),\r\n    tx = _ref5[0],\r\n    ty = _ref5[1],\r\n    tScale = _ref5[2];\r\n\r\n  var _ref6 = _slicedToArray(_ref4, 2),\r\n    snapX = _ref6[0],\r\n    snapY = _ref6[1];\r\n\r\n  var position = {\r\n    x: (x - tx) / tScale,\r\n    y: (y - ty) / tScale,\r\n  };\r\n\r\n  if (snapToGrid) {\r\n    return {\r\n      x: snapX * Math.round(position.x / snapX),\r\n      y: snapY * Math.round(position.y / snapY),\r\n    };\r\n  }\r\n\r\n  return position;\r\n};\r\nvar getRectOfNodes = function getRectOfNodes(nodes) {\r\n  var box = nodes.reduce(\r\n    function (currBox, _ref7) {\r\n      var positionAbsolute = _ref7.positionAbsolute,\r\n        position = _ref7.position,\r\n        width = _ref7.width,\r\n        height = _ref7.height;\r\n      return getBoundsOfBoxes(\r\n        currBox,\r\n        rectToBox({\r\n          x: positionAbsolute ? positionAbsolute.x : position.x,\r\n          y: positionAbsolute ? positionAbsolute.y : position.y,\r\n          width: width || 0,\r\n          height: height || 0,\r\n        })\r\n      );\r\n    },\r\n    {\r\n      x: Infinity,\r\n      y: Infinity,\r\n      x2: -Infinity,\r\n      y2: -Infinity,\r\n    }\r\n  );\r\n  return boxToRect(box);\r\n};\r\nvar getNodesInside = function getNodesInside(nodeInternals, rect) {\r\n  var _ref8 =\r\n      arguments.length > 2 && arguments[2] !== undefined\r\n        ? arguments[2]\r\n        : [0, 0, 1],\r\n    _ref9 = _slicedToArray(_ref8, 3),\r\n    tx = _ref9[0],\r\n    ty = _ref9[1],\r\n    tScale = _ref9[2];\r\n\r\n  var partially =\r\n    arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\r\n  var excludeNonSelectableNodes =\r\n    arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\r\n  var rBox = rectToBox({\r\n    x: (rect.x - tx) / tScale,\r\n    y: (rect.y - ty) / tScale,\r\n    width: rect.width / tScale,\r\n    height: rect.height / tScale,\r\n  });\r\n  var visibleNodes = [];\r\n  nodeInternals.forEach(function (node) {\r\n    var positionAbsolute = node.positionAbsolute,\r\n      width = node.width,\r\n      height = node.height,\r\n      dragging = node.dragging,\r\n      _node$selectable = node.selectable,\r\n      selectable = _node$selectable === void 0 ? true : _node$selectable;\r\n\r\n    if (excludeNonSelectableNodes && !selectable) {\r\n      return false;\r\n    }\r\n\r\n    var nBox = rectToBox(\r\n      _objectSpread$2(\r\n        _objectSpread$2({}, positionAbsolute),\r\n        {},\r\n        {\r\n          width: width || 0,\r\n          height: height || 0,\r\n        }\r\n      )\r\n    );\r\n    var xOverlap = Math.max(\r\n      0,\r\n      Math.min(rBox.x2, nBox.x2) - Math.max(rBox.x, nBox.x)\r\n    );\r\n    var yOverlap = Math.max(\r\n      0,\r\n      Math.min(rBox.y2, nBox.y2) - Math.max(rBox.y, nBox.y)\r\n    );\r\n    var overlappingArea = Math.ceil(xOverlap * yOverlap);\r\n    var notInitialized =\r\n      typeof width === \"undefined\" ||\r\n      typeof height === \"undefined\" ||\r\n      width === null ||\r\n      height === null ||\r\n      dragging;\r\n    var partiallyVisible = partially && overlappingArea > 0;\r\n    var area = (width || 0) * (height || 0);\r\n    var isVisible =\r\n      notInitialized || partiallyVisible || overlappingArea >= area;\r\n\r\n    if (isVisible) {\r\n      visibleNodes.push(node);\r\n    }\r\n  });\r\n  return visibleNodes;\r\n};\r\nvar getConnectedEdges = function getConnectedEdges(nodes, edges) {\r\n  var nodeIds = nodes.map(function (node) {\r\n    return node.id;\r\n  });\r\n  return edges.filter(function (edge) {\r\n    return nodeIds.includes(edge.source) || nodeIds.includes(edge.target);\r\n  });\r\n};\r\nvar getTransformForBounds = function getTransformForBounds(\r\n  bounds,\r\n  width,\r\n  height,\r\n  minZoom,\r\n  maxZoom\r\n) {\r\n  var padding =\r\n    arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0.1;\r\n  var xZoom = width / (bounds.width * (1 + padding));\r\n  var yZoom = height / (bounds.height * (1 + padding));\r\n  var zoom = Math.min(xZoom, yZoom);\r\n  var clampedZoom = clamp(zoom, minZoom, maxZoom);\r\n  var boundsCenterX = bounds.x + bounds.width / 2;\r\n  var boundsCenterY = bounds.y + bounds.height / 2;\r\n  var x = width / 2 - boundsCenterX * clampedZoom;\r\n  var y = height / 2 - boundsCenterY * clampedZoom;\r\n  return [x, y, clampedZoom];\r\n};\r\nvar getD3Transition = function getD3Transition(selection) {\r\n  var duration =\r\n    arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n  return selection.transition().duration(duration);\r\n};\r\n\r\nfunction ownKeys$1(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly &&\r\n      (symbols = symbols.filter(function (sym) {\r\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n      })),\r\n      keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\n\r\nfunction _objectSpread$1(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2\r\n      ? ownKeys$1(Object(source), !0).forEach(function (key) {\r\n          _defineProperty(target, key, source[key]);\r\n        })\r\n      : Object.getOwnPropertyDescriptors\r\n      ? Object.defineProperties(\r\n          target,\r\n          Object.getOwnPropertyDescriptors(source)\r\n        )\r\n      : ownKeys$1(Object(source)).forEach(function (key) {\r\n          Object.defineProperty(\r\n            target,\r\n            key,\r\n            Object.getOwnPropertyDescriptor(source, key)\r\n          );\r\n        });\r\n  }\r\n  return target;\r\n}\r\n\r\nfunction calculateXYZPosition(node, nodeInternals, parentNodes, result) {\r\n  var _result$x,\r\n    _parentNode$position$,\r\n    _parentNode$position,\r\n    _result$y,\r\n    _parentNode$position$2,\r\n    _parentNode$position2,\r\n    _parentNode$z,\r\n    _result$z,\r\n    _parentNode$z2,\r\n    _result$z2;\r\n\r\n  if (!node.parentNode) {\r\n    return result;\r\n  }\r\n\r\n  var parentNode = nodeInternals.get(node.parentNode);\r\n  return calculateXYZPosition(parentNode, nodeInternals, parentNodes, {\r\n    x:\r\n      ((_result$x = result.x) !== null && _result$x !== void 0\r\n        ? _result$x\r\n        : 0) +\r\n      ((_parentNode$position$ =\r\n        (_parentNode$position = parentNode.position) === null ||\r\n        _parentNode$position === void 0\r\n          ? void 0\r\n          : _parentNode$position.x) !== null && _parentNode$position$ !== void 0\r\n        ? _parentNode$position$\r\n        : 0),\r\n    y:\r\n      ((_result$y = result.y) !== null && _result$y !== void 0\r\n        ? _result$y\r\n        : 0) +\r\n      ((_parentNode$position$2 =\r\n        (_parentNode$position2 = parentNode.position) === null ||\r\n        _parentNode$position2 === void 0\r\n          ? void 0\r\n          : _parentNode$position2.y) !== null &&\r\n      _parentNode$position$2 !== void 0\r\n        ? _parentNode$position$2\r\n        : 0),\r\n    z:\r\n      ((_parentNode$z = parentNode.z) !== null && _parentNode$z !== void 0\r\n        ? _parentNode$z\r\n        : 0) >\r\n      ((_result$z = result.z) !== null && _result$z !== void 0 ? _result$z : 0)\r\n        ? (_parentNode$z2 = parentNode.z) !== null && _parentNode$z2 !== void 0\r\n          ? _parentNode$z2\r\n          : 0\r\n        : (_result$z2 = result.z) !== null && _result$z2 !== void 0\r\n        ? _result$z2\r\n        : 0,\r\n  });\r\n}\r\n\r\nfunction createNodeInternals(nodes, nodeInternals) {\r\n  var nextNodeInternals = new Map();\r\n  var parentNodes = {};\r\n  nodes.forEach(function (node) {\r\n    var z = isNumeric(node.zIndex)\r\n      ? node.zIndex\r\n      : node.dragging || node.selected\r\n      ? 1000\r\n      : 0;\r\n\r\n    var internals = _objectSpread$1(\r\n      _objectSpread$1(_objectSpread$1({}, nodeInternals.get(node.id)), node),\r\n      {},\r\n      {\r\n        positionAbsolute: {\r\n          x: node.position.x,\r\n          y: node.position.y,\r\n        },\r\n        z: z,\r\n      }\r\n    );\r\n\r\n    if (node.parentNode) {\r\n      internals.parentNode = node.parentNode;\r\n      parentNodes[node.parentNode] = true;\r\n    }\r\n\r\n    nextNodeInternals.set(node.id, internals);\r\n  });\r\n  nextNodeInternals.forEach(function (node) {\r\n    if (node.parentNode && !nextNodeInternals.has(node.parentNode)) {\r\n      throw new Error(\"Parent node \".concat(node.parentNode, \" not found\"));\r\n    }\r\n\r\n    if (node.parentNode || parentNodes[node.id]) {\r\n      var _node$z;\r\n\r\n      var _calculateXYZPosition = calculateXYZPosition(\r\n          node,\r\n          nextNodeInternals,\r\n          parentNodes,\r\n          _objectSpread$1(\r\n            _objectSpread$1({}, node.position),\r\n            {},\r\n            {\r\n              z:\r\n                (_node$z = node.z) !== null && _node$z !== void 0 ? _node$z : 0,\r\n            }\r\n          )\r\n        ),\r\n        x = _calculateXYZPosition.x,\r\n        y = _calculateXYZPosition.y,\r\n        z = _calculateXYZPosition.z;\r\n\r\n      node.positionAbsolute = {\r\n        x: x,\r\n        y: y,\r\n      };\r\n      node.z = z;\r\n\r\n      if (parentNodes[node.id]) {\r\n        node.isParent = true;\r\n      }\r\n    }\r\n  });\r\n  return nextNodeInternals;\r\n}\r\nfunction isParentSelected(node, nodeInternals) {\r\n  if (!node.parentNode) {\r\n    return false;\r\n  }\r\n\r\n  var parentNode = nodeInternals.get(node.parentNode);\r\n\r\n  if (!parentNode) {\r\n    return false;\r\n  }\r\n\r\n  if (parentNode.selected) {\r\n    return true;\r\n  }\r\n\r\n  return isParentSelected(parentNode, nodeInternals);\r\n}\r\nfunction createPositionChange(_ref) {\r\n  var node = _ref.node,\r\n    diff = _ref.diff,\r\n    dragging = _ref.dragging,\r\n    nodeExtent = _ref.nodeExtent,\r\n    nodeInternals = _ref.nodeInternals;\r\n  var change = {\r\n    id: node.id,\r\n    type: \"position\",\r\n    dragging: !!dragging,\r\n  };\r\n\r\n  if (diff) {\r\n    var nextPosition = {\r\n      x: node.position.x + diff.x,\r\n      y: node.position.y + diff.y,\r\n    };\r\n    var currentExtent = node.extent || nodeExtent;\r\n\r\n    if (node.extent === \"parent\") {\r\n      if (node.parentNode && node.width && node.height) {\r\n        var parent = nodeInternals.get(node.parentNode);\r\n        currentExtent =\r\n          parent !== null &&\r\n          parent !== void 0 &&\r\n          parent.width &&\r\n          parent !== null &&\r\n          parent !== void 0 &&\r\n          parent.height\r\n            ? [\r\n                [0, 0],\r\n                [parent.width - node.width, parent.height - node.height],\r\n              ]\r\n            : currentExtent;\r\n      } else {\r\n        console.warn(\"Only child nodes can use parent extent\");\r\n        currentExtent = nodeExtent;\r\n      }\r\n    }\r\n\r\n    change.position = currentExtent\r\n      ? clampPosition(nextPosition, currentExtent)\r\n      : nextPosition;\r\n  }\r\n\r\n  return change;\r\n}\r\nfunction fitView(get) {\r\n  var options =\r\n    arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n  var _get = get(),\r\n    nodeInternals = _get.nodeInternals,\r\n    width = _get.width,\r\n    height = _get.height,\r\n    minZoom = _get.minZoom,\r\n    maxZoom = _get.maxZoom,\r\n    d3Zoom = _get.d3Zoom,\r\n    d3Selection = _get.d3Selection,\r\n    fitViewOnInitDone = _get.fitViewOnInitDone,\r\n    fitViewOnInit = _get.fitViewOnInit;\r\n\r\n  if (\r\n    (options.initial && !fitViewOnInitDone && fitViewOnInit) ||\r\n    !options.initial\r\n  ) {\r\n    if (d3Zoom && d3Selection) {\r\n      var nodes = Array.from(nodeInternals.values()).filter(function (n) {\r\n        return options.includeHiddenNodes\r\n          ? !n.parentNode && n.width && n.height\r\n          : !n.parentNode && !n.hidden;\r\n      });\r\n      var nodesInitialized = nodes.every(function (n) {\r\n        return n.width && n.height;\r\n      });\r\n\r\n      if (nodes.length > 0 && nodesInitialized) {\r\n        var _options$minZoom, _options$maxZoom, _options$padding;\r\n\r\n        var bounds = getRectOfNodes(nodes);\r\n\r\n        var _getTransformForBound = getTransformForBounds(\r\n            bounds,\r\n            width,\r\n            height,\r\n            (_options$minZoom = options.minZoom) !== null &&\r\n              _options$minZoom !== void 0\r\n              ? _options$minZoom\r\n              : minZoom,\r\n            (_options$maxZoom = options.maxZoom) !== null &&\r\n              _options$maxZoom !== void 0\r\n              ? _options$maxZoom\r\n              : maxZoom,\r\n            (_options$padding = options.padding) !== null &&\r\n              _options$padding !== void 0\r\n              ? _options$padding\r\n              : 0.1\r\n          ),\r\n          _getTransformForBound2 = _slicedToArray(_getTransformForBound, 3),\r\n          x = _getTransformForBound2[0],\r\n          y = _getTransformForBound2[1],\r\n          zoom = _getTransformForBound2[2];\r\n\r\n        var nextTransform = d3_zoom__WEBPACK_IMPORTED_MODULE_2__.zoomIdentity.translate(x, y).scale(zoom);\r\n\r\n        if (typeof options.duration === \"number\" && options.duration > 0) {\r\n          d3Zoom.transform(\r\n            getD3Transition(d3Selection, options.duration),\r\n            nextTransform\r\n          );\r\n        } else {\r\n          d3Zoom.transform(d3Selection, nextTransform);\r\n        }\r\n\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\r\n  nodeChanges.forEach(function (change) {\r\n    var node = nodeInternals.get(change.id);\r\n\r\n    if (node) {\r\n      nodeInternals.set(\r\n        node.id,\r\n        _objectSpread$1(\r\n          _objectSpread$1({}, node),\r\n          {},\r\n          {\r\n            selected: change.selected,\r\n          }\r\n        )\r\n      );\r\n    }\r\n  });\r\n  return new Map(nodeInternals);\r\n}\r\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\r\n  return edges.map(function (e) {\r\n    var change = edgeChanges.find(function (change) {\r\n      return change.id === e.id;\r\n    });\r\n\r\n    if (change) {\r\n      e.selected = change.selected;\r\n    }\r\n\r\n    return e;\r\n  });\r\n}\r\n\r\nvar infiniteExtent = [\r\n  [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\r\n  [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\r\n];\r\nvar initialState = {\r\n  width: 0,\r\n  height: 0,\r\n  transform: [0, 0, 1],\r\n  nodeInternals: new Map(),\r\n  edges: [],\r\n  onNodesChange: null,\r\n  onEdgesChange: null,\r\n  hasDefaultNodes: false,\r\n  hasDefaultEdges: false,\r\n  selectedNodesBbox: {\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0,\r\n  },\r\n  d3Zoom: null,\r\n  d3Selection: null,\r\n  d3ZoomHandler: undefined,\r\n  minZoom: 0.5,\r\n  maxZoom: 2,\r\n  translateExtent: infiniteExtent,\r\n  nodeExtent: infiniteExtent,\r\n  nodesSelectionActive: false,\r\n  userSelectionActive: false,\r\n  connectionNodeId: null,\r\n  connectionHandleId: null,\r\n  connectionHandleType: \"source\",\r\n  connectionPosition: {\r\n    x: 0,\r\n    y: 0,\r\n  },\r\n  connectionMode: ConnectionMode.Strict,\r\n  snapGrid: [15, 15],\r\n  snapToGrid: false,\r\n  nodesDraggable: true,\r\n  nodesConnectable: true,\r\n  elementsSelectable: true,\r\n  fitViewOnInit: false,\r\n  fitViewOnInitDone: false,\r\n  fitViewOnInitOptions: undefined,\r\n  multiSelectionActive: false,\r\n  reactFlowVersion: \"10.0.8\",\r\n  connectionStartHandle: null,\r\n  connectOnClick: true,\r\n};\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly &&\r\n      (symbols = symbols.filter(function (sym) {\r\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n      })),\r\n      keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2\r\n      ? ownKeys(Object(source), !0).forEach(function (key) {\r\n          _defineProperty(target, key, source[key]);\r\n        })\r\n      : Object.getOwnPropertyDescriptors\r\n      ? Object.defineProperties(\r\n          target,\r\n          Object.getOwnPropertyDescriptors(source)\r\n        )\r\n      : ownKeys(Object(source)).forEach(function (key) {\r\n          Object.defineProperty(\r\n            target,\r\n            key,\r\n            Object.getOwnPropertyDescriptor(source, key)\r\n          );\r\n        });\r\n  }\r\n  return target;\r\n}\r\n\r\nvar _createContext = (0,zustand_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(),\r\n  Provider = _createContext.Provider,\r\n  useStore = _createContext.useStore,\r\n  useStoreApi = _createContext.useStoreApi;\r\n\r\nvar createStore = function createStore() {\r\n  return (0,zustand__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(function (set, get) {\r\n    return _objectSpread(\r\n      _objectSpread({}, initialState),\r\n      {},\r\n      {\r\n        setNodes: function setNodes(nodes) {\r\n          set({\r\n            nodeInternals: createNodeInternals(nodes, get().nodeInternals),\r\n          });\r\n        },\r\n        setEdges: function setEdges(edges) {\r\n          var _get = get(),\r\n            defaultEdgeOptions = _get.defaultEdgeOptions;\r\n\r\n          if (defaultEdgeOptions) {\r\n            set({\r\n              edges: edges.map(function (e) {\r\n                return _objectSpread(_objectSpread({}, defaultEdgeOptions), e);\r\n              }),\r\n            });\r\n          } else {\r\n            set({\r\n              edges: edges,\r\n            });\r\n          }\r\n        },\r\n        setDefaultNodesAndEdges: function setDefaultNodesAndEdges(\r\n          nodes,\r\n          edges\r\n        ) {\r\n          var hasDefaultNodes = typeof nodes !== \"undefined\";\r\n          var hasDefaultEdges = typeof edges !== \"undefined\";\r\n          var nodeInternals = hasDefaultNodes\r\n            ? createNodeInternals(nodes, new Map())\r\n            : new Map();\r\n          var nextEdges = hasDefaultEdges ? edges : [];\r\n          set({\r\n            nodeInternals: nodeInternals,\r\n            edges: nextEdges,\r\n            hasDefaultNodes: hasDefaultNodes,\r\n            hasDefaultEdges: hasDefaultEdges,\r\n          });\r\n        },\r\n        updateNodeDimensions: function updateNodeDimensions(updates) {\r\n          var _get2 = get(),\r\n            onNodesChange = _get2.onNodesChange,\r\n            transform = _get2.transform,\r\n            nodeInternals = _get2.nodeInternals,\r\n            fitViewOnInit = _get2.fitViewOnInit,\r\n            fitViewOnInitDone = _get2.fitViewOnInitDone,\r\n            fitViewOnInitOptions = _get2.fitViewOnInitOptions;\r\n\r\n          var changes = updates.reduce(function (res, update) {\r\n            var node = nodeInternals.get(update.id);\r\n\r\n            if (node) {\r\n              var dimensions = getDimensions(update.nodeElement);\r\n              var doUpdate = !!(\r\n                dimensions.width &&\r\n                dimensions.height &&\r\n                (node.width !== dimensions.width ||\r\n                  node.height !== dimensions.height ||\r\n                  update.forceUpdate)\r\n              );\r\n\r\n              if (doUpdate) {\r\n                var handleBounds = getHandleBounds(\r\n                  update.nodeElement,\r\n                  transform[2]\r\n                );\r\n                nodeInternals.set(\r\n                  node.id,\r\n                  _objectSpread(\r\n                    _objectSpread({}, node),\r\n                    {},\r\n                    {\r\n                      handleBounds: handleBounds,\r\n                    },\r\n                    dimensions\r\n                  )\r\n                );\r\n                res.push({\r\n                  id: node.id,\r\n                  type: \"dimensions\",\r\n                  dimensions: dimensions,\r\n                  handleBounds: handleBounds,\r\n                });\r\n              }\r\n            }\r\n\r\n            return res;\r\n          }, []);\r\n          var nextFitViewOnInitDone =\r\n            fitViewOnInitDone ||\r\n            (fitViewOnInit &&\r\n              !fitViewOnInitDone &&\r\n              fitView(\r\n                get,\r\n                _objectSpread(\r\n                  {\r\n                    initial: true,\r\n                  },\r\n                  fitViewOnInitOptions\r\n                )\r\n              ));\r\n          set({\r\n            nodeInternals: new Map(nodeInternals),\r\n            fitViewOnInitDone: nextFitViewOnInitDone,\r\n          });\r\n\r\n          if (\r\n            (changes === null || changes === void 0 ? void 0 : changes.length) >\r\n            0\r\n          ) {\r\n            onNodesChange === null || onNodesChange === void 0\r\n              ? void 0\r\n              : onNodesChange(changes);\r\n          }\r\n        },\r\n        updateNodePosition: function updateNodePosition(_ref) {\r\n          var id = _ref.id,\r\n            diff = _ref.diff,\r\n            dragging = _ref.dragging;\r\n\r\n          var _get3 = get(),\r\n            onNodesChange = _get3.onNodesChange,\r\n            nodeExtent = _get3.nodeExtent,\r\n            nodeInternals = _get3.nodeInternals,\r\n            hasDefaultNodes = _get3.hasDefaultNodes;\r\n\r\n          if (hasDefaultNodes || onNodesChange) {\r\n            var changes = [];\r\n            nodeInternals.forEach(function (node) {\r\n              if (node.selected) {\r\n                if (\r\n                  !node.parentNode ||\r\n                  !isParentSelected(node, nodeInternals)\r\n                ) {\r\n                  changes.push(\r\n                    createPositionChange({\r\n                      node: node,\r\n                      diff: diff,\r\n                      dragging: dragging,\r\n                      nodeExtent: nodeExtent,\r\n                      nodeInternals: nodeInternals,\r\n                    })\r\n                  );\r\n                }\r\n              } else if (node.id === id) {\r\n                changes.push(\r\n                  createPositionChange({\r\n                    node: node,\r\n                    diff: diff,\r\n                    dragging: dragging,\r\n                    nodeExtent: nodeExtent,\r\n                    nodeInternals: nodeInternals,\r\n                  })\r\n                );\r\n              }\r\n            });\r\n\r\n            if (changes !== null && changes !== void 0 && changes.length) {\r\n              if (hasDefaultNodes) {\r\n                var nodes = applyNodeChanges(\r\n                  changes,\r\n                  Array.from(nodeInternals.values())\r\n                );\r\n                var nextNodeInternals = createNodeInternals(\r\n                  nodes,\r\n                  nodeInternals\r\n                );\r\n                set({\r\n                  nodeInternals: nextNodeInternals,\r\n                });\r\n              }\r\n\r\n              onNodesChange === null || onNodesChange === void 0\r\n                ? void 0\r\n                : onNodesChange(changes);\r\n            }\r\n          }\r\n        },\r\n        // @TODO: can we unify addSelectedNodes and addSelectedEdges somehow?\r\n        addSelectedNodes: function addSelectedNodes(selectedNodeIds) {\r\n          var _changedEdges;\r\n\r\n          var _get4 = get(),\r\n            multiSelectionActive = _get4.multiSelectionActive,\r\n            onNodesChange = _get4.onNodesChange,\r\n            nodeInternals = _get4.nodeInternals,\r\n            hasDefaultNodes = _get4.hasDefaultNodes,\r\n            onEdgesChange = _get4.onEdgesChange,\r\n            hasDefaultEdges = _get4.hasDefaultEdges,\r\n            edges = _get4.edges;\r\n\r\n          var changedNodes;\r\n          var changedEdges = null;\r\n\r\n          if (multiSelectionActive) {\r\n            changedNodes = selectedNodeIds.map(function (nodeId) {\r\n              return createSelectionChange(nodeId, true);\r\n            });\r\n          } else {\r\n            changedNodes = getSelectionChanges(\r\n              Array.from(nodeInternals.values()),\r\n              selectedNodeIds\r\n            );\r\n            changedEdges = getSelectionChanges(edges, []);\r\n          }\r\n\r\n          if (changedNodes.length) {\r\n            if (hasDefaultNodes) {\r\n              set({\r\n                nodeInternals: handleControlledNodeSelectionChange(\r\n                  changedNodes,\r\n                  nodeInternals\r\n                ),\r\n              });\r\n            }\r\n\r\n            onNodesChange === null || onNodesChange === void 0\r\n              ? void 0\r\n              : onNodesChange(changedNodes);\r\n          }\r\n\r\n          if (\r\n            (_changedEdges = changedEdges) !== null &&\r\n            _changedEdges !== void 0 &&\r\n            _changedEdges.length\r\n          ) {\r\n            if (hasDefaultEdges) {\r\n              set({\r\n                edges: handleControlledEdgeSelectionChange(changedEdges, edges),\r\n              });\r\n            }\r\n\r\n            onEdgesChange === null || onEdgesChange === void 0\r\n              ? void 0\r\n              : onEdgesChange(changedEdges);\r\n          }\r\n        },\r\n        addSelectedEdges: function addSelectedEdges(selectedEdgeIds) {\r\n          var _changedNodes;\r\n\r\n          var _get5 = get(),\r\n            multiSelectionActive = _get5.multiSelectionActive,\r\n            onEdgesChange = _get5.onEdgesChange,\r\n            edges = _get5.edges,\r\n            hasDefaultEdges = _get5.hasDefaultEdges,\r\n            nodeInternals = _get5.nodeInternals,\r\n            hasDefaultNodes = _get5.hasDefaultNodes,\r\n            onNodesChange = _get5.onNodesChange;\r\n\r\n          var changedEdges;\r\n          var changedNodes = null;\r\n\r\n          if (multiSelectionActive) {\r\n            changedEdges = selectedEdgeIds.map(function (edgeId) {\r\n              return createSelectionChange(edgeId, true);\r\n            });\r\n          } else {\r\n            changedEdges = getSelectionChanges(edges, selectedEdgeIds);\r\n            changedNodes = getSelectionChanges(\r\n              Array.from(nodeInternals.values()),\r\n              []\r\n            );\r\n          }\r\n\r\n          if (changedEdges.length) {\r\n            if (hasDefaultEdges) {\r\n              set({\r\n                edges: handleControlledEdgeSelectionChange(changedEdges, edges),\r\n              });\r\n            }\r\n\r\n            onEdgesChange === null || onEdgesChange === void 0\r\n              ? void 0\r\n              : onEdgesChange(changedEdges);\r\n          }\r\n\r\n          if (\r\n            (_changedNodes = changedNodes) !== null &&\r\n            _changedNodes !== void 0 &&\r\n            _changedNodes.length\r\n          ) {\r\n            if (hasDefaultNodes) {\r\n              set({\r\n                nodeInternals: handleControlledNodeSelectionChange(\r\n                  changedNodes,\r\n                  nodeInternals\r\n                ),\r\n              });\r\n            }\r\n\r\n            onNodesChange === null || onNodesChange === void 0\r\n              ? void 0\r\n              : onNodesChange(changedNodes);\r\n          }\r\n        },\r\n        unselectNodesAndEdges: function unselectNodesAndEdges() {\r\n          var _get6 = get(),\r\n            nodeInternals = _get6.nodeInternals,\r\n            edges = _get6.edges,\r\n            onNodesChange = _get6.onNodesChange,\r\n            onEdgesChange = _get6.onEdgesChange,\r\n            hasDefaultNodes = _get6.hasDefaultNodes,\r\n            hasDefaultEdges = _get6.hasDefaultEdges;\r\n\r\n          var nodes = Array.from(nodeInternals.values());\r\n          var nodesToUnselect = nodes.map(function (n) {\r\n            n.selected = false;\r\n            return createSelectionChange(n.id, false);\r\n          });\r\n          var edgesToUnselect = edges.map(function (edge) {\r\n            return createSelectionChange(edge.id, false);\r\n          });\r\n\r\n          if (nodesToUnselect.length) {\r\n            if (hasDefaultNodes) {\r\n              set({\r\n                nodeInternals: handleControlledNodeSelectionChange(\r\n                  nodesToUnselect,\r\n                  nodeInternals\r\n                ),\r\n              });\r\n            }\r\n\r\n            onNodesChange === null || onNodesChange === void 0\r\n              ? void 0\r\n              : onNodesChange(nodesToUnselect);\r\n          }\r\n\r\n          if (edgesToUnselect.length) {\r\n            if (hasDefaultEdges) {\r\n              set({\r\n                edges: handleControlledEdgeSelectionChange(\r\n                  edgesToUnselect,\r\n                  edges\r\n                ),\r\n              });\r\n            }\r\n\r\n            onEdgesChange === null || onEdgesChange === void 0\r\n              ? void 0\r\n              : onEdgesChange(edgesToUnselect);\r\n          }\r\n        },\r\n        setMinZoom: function setMinZoom(minZoom) {\r\n          var _get7 = get(),\r\n            d3Zoom = _get7.d3Zoom,\r\n            maxZoom = _get7.maxZoom;\r\n\r\n          d3Zoom === null || d3Zoom === void 0\r\n            ? void 0\r\n            : d3Zoom.scaleExtent([minZoom, maxZoom]);\r\n          set({\r\n            minZoom: minZoom,\r\n          });\r\n        },\r\n        setMaxZoom: function setMaxZoom(maxZoom) {\r\n          var _get8 = get(),\r\n            d3Zoom = _get8.d3Zoom,\r\n            minZoom = _get8.minZoom;\r\n\r\n          d3Zoom === null || d3Zoom === void 0\r\n            ? void 0\r\n            : d3Zoom.scaleExtent([minZoom, maxZoom]);\r\n          set({\r\n            maxZoom: maxZoom,\r\n          });\r\n        },\r\n        setTranslateExtent: function setTranslateExtent(translateExtent) {\r\n          var _get9 = get(),\r\n            d3Zoom = _get9.d3Zoom;\r\n\r\n          d3Zoom === null || d3Zoom === void 0\r\n            ? void 0\r\n            : d3Zoom.translateExtent(translateExtent);\r\n          set({\r\n            translateExtent: translateExtent,\r\n          });\r\n        },\r\n        resetSelectedElements: function resetSelectedElements() {\r\n          var _get10 = get(),\r\n            nodeInternals = _get10.nodeInternals,\r\n            edges = _get10.edges,\r\n            onNodesChange = _get10.onNodesChange,\r\n            onEdgesChange = _get10.onEdgesChange,\r\n            hasDefaultNodes = _get10.hasDefaultNodes,\r\n            hasDefaultEdges = _get10.hasDefaultEdges;\r\n\r\n          var nodes = Array.from(nodeInternals.values());\r\n          var nodesToUnselect = nodes\r\n            .filter(function (e) {\r\n              return e.selected;\r\n            })\r\n            .map(function (n) {\r\n              return createSelectionChange(n.id, false);\r\n            });\r\n          var edgesToUnselect = edges\r\n            .filter(function (e) {\r\n              return e.selected;\r\n            })\r\n            .map(function (e) {\r\n              return createSelectionChange(e.id, false);\r\n            });\r\n\r\n          if (nodesToUnselect.length) {\r\n            if (hasDefaultNodes) {\r\n              set({\r\n                nodeInternals: handleControlledNodeSelectionChange(\r\n                  nodesToUnselect,\r\n                  nodeInternals\r\n                ),\r\n              });\r\n            }\r\n\r\n            onNodesChange === null || onNodesChange === void 0\r\n              ? void 0\r\n              : onNodesChange(nodesToUnselect);\r\n          }\r\n\r\n          if (edgesToUnselect.length) {\r\n            if (hasDefaultEdges) {\r\n              set({\r\n                edges: handleControlledEdgeSelectionChange(\r\n                  edgesToUnselect,\r\n                  edges\r\n                ),\r\n              });\r\n            }\r\n\r\n            onEdgesChange === null || onEdgesChange === void 0\r\n              ? void 0\r\n              : onEdgesChange(edgesToUnselect);\r\n          }\r\n        },\r\n        setNodeExtent: function setNodeExtent(nodeExtent) {\r\n          var _get11 = get(),\r\n            nodeInternals = _get11.nodeInternals;\r\n\r\n          nodeInternals.forEach(function (node) {\r\n            node.positionAbsolute = clampPosition(node.position, nodeExtent);\r\n          });\r\n          set({\r\n            nodeExtent: nodeExtent,\r\n            nodeInternals: new Map(nodeInternals),\r\n          });\r\n        },\r\n        reset: function reset() {\r\n          return set(_objectSpread({}, initialState));\r\n        },\r\n      }\r\n    );\r\n  });\r\n};\r\n\r\n\r\n//# sourceMappingURL=index-3de2b4dd.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXgtM2RlMmI0ZGQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2QjtBQUNlO0FBQ0w7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrQkFBK0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0NBQXdDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOENBQThDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQ0FBMEM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixJQUFJO0FBQ0o7QUFDQSx3QkFBd0I7QUFDeEIsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkRBQXNCO0FBQ2xEO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBLHFDQUFxQztBQUNyQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBdUNFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXgtM2RlMmI0ZGQuanM/OTk0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JlYXRlIGZyb20gXCJ6dXN0YW5kXCI7XHJcbmltcG9ydCBjcmVhdGVDb250ZXh0IGZyb20gXCJ6dXN0YW5kL2NvbnRleHRcIjtcclxuaW1wb3J0IHsgem9vbUlkZW50aXR5IH0gZnJvbSBcImQzLXpvb21cIjtcclxuXHJcbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcclxuICBpZiAoa2V5IGluIG9iaikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XHJcbiAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcclxuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGFycjI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcclxuICBpZiAoIW8pIHJldHVybjtcclxuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xyXG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcclxuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xyXG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xyXG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKVxyXG4gICAgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XHJcbiAgdmFyIF9pID1cclxuICAgIGFyciA9PSBudWxsXHJcbiAgICAgID8gbnVsbFxyXG4gICAgICA6ICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdKSB8fFxyXG4gICAgICAgIGFycltcIkBAaXRlcmF0b3JcIl07XHJcblxyXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XHJcbiAgdmFyIF9hcnIgPSBbXTtcclxuICB2YXIgX24gPSB0cnVlO1xyXG4gIHZhciBfZCA9IGZhbHNlO1xyXG5cclxuICB2YXIgX3MsIF9lO1xyXG5cclxuICB0cnkge1xyXG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xyXG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xyXG5cclxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgX2QgPSB0cnVlO1xyXG4gICAgX2UgPSBlcnI7XHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gX2FycjtcclxufVxyXG5cclxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcclxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG4gICAgXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xyXG4gIHJldHVybiAoXHJcbiAgICBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fFxyXG4gICAgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHxcclxuICAgIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8XHJcbiAgICBfbm9uSXRlcmFibGVSZXN0KClcclxuICApO1xyXG59XHJcblxyXG52YXIgQ29ubmVjdGlvbk1vZGU7XHJcblxyXG4oZnVuY3Rpb24gKENvbm5lY3Rpb25Nb2RlKSB7XHJcbiAgQ29ubmVjdGlvbk1vZGVbXCJTdHJpY3RcIl0gPSBcInN0cmljdFwiO1xyXG4gIENvbm5lY3Rpb25Nb2RlW1wiTG9vc2VcIl0gPSBcImxvb3NlXCI7XHJcbn0pKENvbm5lY3Rpb25Nb2RlIHx8IChDb25uZWN0aW9uTW9kZSA9IHt9KSk7XHJcblxyXG52YXIgQmFja2dyb3VuZFZhcmlhbnQ7XHJcblxyXG4oZnVuY3Rpb24gKEJhY2tncm91bmRWYXJpYW50KSB7XHJcbiAgQmFja2dyb3VuZFZhcmlhbnRbXCJMaW5lc1wiXSA9IFwibGluZXNcIjtcclxuICBCYWNrZ3JvdW5kVmFyaWFudFtcIkRvdHNcIl0gPSBcImRvdHNcIjtcclxufSkoQmFja2dyb3VuZFZhcmlhbnQgfHwgKEJhY2tncm91bmRWYXJpYW50ID0ge30pKTtcclxuXHJcbnZhciBQYW5PblNjcm9sbE1vZGU7XHJcblxyXG4oZnVuY3Rpb24gKFBhbk9uU2Nyb2xsTW9kZSkge1xyXG4gIFBhbk9uU2Nyb2xsTW9kZVtcIkZyZWVcIl0gPSBcImZyZWVcIjtcclxuICBQYW5PblNjcm9sbE1vZGVbXCJWZXJ0aWNhbFwiXSA9IFwidmVydGljYWxcIjtcclxuICBQYW5PblNjcm9sbE1vZGVbXCJIb3Jpem9udGFsXCJdID0gXCJob3Jpem9udGFsXCI7XHJcbn0pKFBhbk9uU2Nyb2xsTW9kZSB8fCAoUGFuT25TY3JvbGxNb2RlID0ge30pKTtcclxuXHJcbnZhciBDb25uZWN0aW9uTGluZVR5cGU7XHJcblxyXG4oZnVuY3Rpb24gKENvbm5lY3Rpb25MaW5lVHlwZSkge1xyXG4gIENvbm5lY3Rpb25MaW5lVHlwZVtcIkJlemllclwiXSA9IFwiZGVmYXVsdFwiO1xyXG4gIENvbm5lY3Rpb25MaW5lVHlwZVtcIlN0cmFpZ2h0XCJdID0gXCJzdHJhaWdodFwiO1xyXG4gIENvbm5lY3Rpb25MaW5lVHlwZVtcIlN0ZXBcIl0gPSBcInN0ZXBcIjtcclxuICBDb25uZWN0aW9uTGluZVR5cGVbXCJTbW9vdGhTdGVwXCJdID0gXCJzbW9vdGhzdGVwXCI7XHJcbiAgQ29ubmVjdGlvbkxpbmVUeXBlW1wiU2ltcGxlQmV6aWVyXCJdID0gXCJzaW1wbGViZXppZXJcIjtcclxufSkoQ29ubmVjdGlvbkxpbmVUeXBlIHx8IChDb25uZWN0aW9uTGluZVR5cGUgPSB7fSkpO1xyXG5cclxudmFyIE1hcmtlclR5cGU7XHJcblxyXG4oZnVuY3Rpb24gKE1hcmtlclR5cGUpIHtcclxuICBNYXJrZXJUeXBlW1wiQXJyb3dcIl0gPSBcImFycm93XCI7XHJcbiAgTWFya2VyVHlwZVtcIkFycm93Q2xvc2VkXCJdID0gXCJhcnJvd2Nsb3NlZFwiO1xyXG59KShNYXJrZXJUeXBlIHx8IChNYXJrZXJUeXBlID0ge30pKTtcclxuXHJcbnZhciBQb3NpdGlvbjtcclxuXHJcbihmdW5jdGlvbiAoUG9zaXRpb24pIHtcclxuICBQb3NpdGlvbltcIkxlZnRcIl0gPSBcImxlZnRcIjtcclxuICBQb3NpdGlvbltcIlRvcFwiXSA9IFwidG9wXCI7XHJcbiAgUG9zaXRpb25bXCJSaWdodFwiXSA9IFwicmlnaHRcIjtcclxuICBQb3NpdGlvbltcIkJvdHRvbVwiXSA9IFwiYm90dG9tXCI7XHJcbn0pKFBvc2l0aW9uIHx8IChQb3NpdGlvbiA9IHt9KSk7XHJcblxyXG52YXIgZ2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uIGdldERpbWVuc2lvbnMobm9kZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogbm9kZS5vZmZzZXRXaWR0aCxcclxuICAgIGhlaWdodDogbm9kZS5vZmZzZXRIZWlnaHQsXHJcbiAgfTtcclxufTtcclxudmFyIGNsYW1wID0gZnVuY3Rpb24gY2xhbXAodmFsKSB7XHJcbiAgdmFyIG1pbiA9XHJcbiAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XHJcbiAgdmFyIG1heCA9XHJcbiAgICBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7XHJcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbCwgbWluKSwgbWF4KTtcclxufTtcclxudmFyIGNsYW1wUG9zaXRpb24gPSBmdW5jdGlvbiBjbGFtcFBvc2l0aW9uKHBvc2l0aW9uLCBleHRlbnQpIHtcclxuICByZXR1cm4ge1xyXG4gICAgeDogY2xhbXAocG9zaXRpb24ueCwgZXh0ZW50WzBdWzBdLCBleHRlbnRbMV1bMF0pLFxyXG4gICAgeTogY2xhbXAocG9zaXRpb24ueSwgZXh0ZW50WzBdWzFdLCBleHRlbnRbMV1bMV0pLFxyXG4gIH07XHJcbn07XHJcbnZhciBnZXRIb3N0Rm9yRWxlbWVudCA9IGZ1bmN0aW9uIGdldEhvc3RGb3JFbGVtZW50KGVsZW1lbnQpIHtcclxuICB2YXIgX2VsZW1lbnQkZ2V0Um9vdE5vZGUsIF93aW5kb3c7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICAoKF9lbGVtZW50JGdldFJvb3ROb2RlID0gZWxlbWVudC5nZXRSb290Tm9kZSkgPT09IG51bGwgfHxcclxuICAgIF9lbGVtZW50JGdldFJvb3ROb2RlID09PSB2b2lkIDBcclxuICAgICAgPyB2b2lkIDBcclxuICAgICAgOiBfZWxlbWVudCRnZXRSb290Tm9kZS5jYWxsKGVsZW1lbnQpKSB8fFxyXG4gICAgKChfd2luZG93ID0gd2luZG93KSA9PT0gbnVsbCB8fCBfd2luZG93ID09PSB2b2lkIDBcclxuICAgICAgPyB2b2lkIDBcclxuICAgICAgOiBfd2luZG93LmRvY3VtZW50KVxyXG4gICk7XHJcbn07XHJcbnZhciBnZXRCb3VuZHNPZkJveGVzID0gZnVuY3Rpb24gZ2V0Qm91bmRzT2ZCb3hlcyhib3gxLCBib3gyKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IE1hdGgubWluKGJveDEueCwgYm94Mi54KSxcclxuICAgIHk6IE1hdGgubWluKGJveDEueSwgYm94Mi55KSxcclxuICAgIHgyOiBNYXRoLm1heChib3gxLngyLCBib3gyLngyKSxcclxuICAgIHkyOiBNYXRoLm1heChib3gxLnkyLCBib3gyLnkyKSxcclxuICB9O1xyXG59O1xyXG52YXIgcmVjdFRvQm94ID0gZnVuY3Rpb24gcmVjdFRvQm94KF9yZWYpIHtcclxuICB2YXIgeCA9IF9yZWYueCxcclxuICAgIHkgPSBfcmVmLnksXHJcbiAgICB3aWR0aCA9IF9yZWYud2lkdGgsXHJcbiAgICBoZWlnaHQgPSBfcmVmLmhlaWdodDtcclxuICByZXR1cm4ge1xyXG4gICAgeDogeCxcclxuICAgIHk6IHksXHJcbiAgICB4MjogeCArIHdpZHRoLFxyXG4gICAgeTI6IHkgKyBoZWlnaHQsXHJcbiAgfTtcclxufTtcclxudmFyIGJveFRvUmVjdCA9IGZ1bmN0aW9uIGJveFRvUmVjdChfcmVmMikge1xyXG4gIHZhciB4ID0gX3JlZjIueCxcclxuICAgIHkgPSBfcmVmMi55LFxyXG4gICAgeDIgPSBfcmVmMi54MixcclxuICAgIHkyID0gX3JlZjIueTI7XHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IHgsXHJcbiAgICB5OiB5LFxyXG4gICAgd2lkdGg6IHgyIC0geCxcclxuICAgIGhlaWdodDogeTIgLSB5LFxyXG4gIH07XHJcbn07XHJcbnZhciBnZXRCb3VuZHNvZlJlY3RzID0gZnVuY3Rpb24gZ2V0Qm91bmRzb2ZSZWN0cyhyZWN0MSwgcmVjdDIpIHtcclxuICByZXR1cm4gYm94VG9SZWN0KGdldEJvdW5kc09mQm94ZXMocmVjdFRvQm94KHJlY3QxKSwgcmVjdFRvQm94KHJlY3QyKSkpO1xyXG59O1xyXG52YXIgaXNOdW1lcmljID0gZnVuY3Rpb24gaXNOdW1lcmljKG4pIHtcclxuICByZXR1cm4gIWlzTmFOKG4pICYmIGlzRmluaXRlKG4pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gb3duS2V5cyQ0KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcclxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XHJcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcclxuICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xyXG4gICAgZW51bWVyYWJsZU9ubHkgJiZcclxuICAgICAgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XHJcbiAgICAgIH0pKSxcclxuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xyXG4gIH1cclxuICByZXR1cm4ga2V5cztcclxufVxyXG5cclxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ0KHRhcmdldCkge1xyXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTtcclxuICAgIGkgJSAyXHJcbiAgICAgID8gb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcclxuICAgICAgICB9KVxyXG4gICAgICA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzXHJcbiAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXHJcbiAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpXHJcbiAgICAgICAgKVxyXG4gICAgICA6IG93bktleXMkNChPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlUGFyZW50RXhwYW5kKHJlcywgdXBkYXRlSXRlbSkge1xyXG4gIHZhciBwYXJlbnQgPSByZXMuZmluZChmdW5jdGlvbiAoZSkge1xyXG4gICAgcmV0dXJuIGUuaWQgPT09IHVwZGF0ZUl0ZW0ucGFyZW50Tm9kZTtcclxuICB9KTtcclxuXHJcbiAgaWYgKHBhcmVudCkge1xyXG4gICAgdmFyIGV4dGVuZFdpZHRoID0gdXBkYXRlSXRlbS5wb3NpdGlvbi54ICsgdXBkYXRlSXRlbS53aWR0aCAtIHBhcmVudC53aWR0aDtcclxuICAgIHZhciBleHRlbmRIZWlnaHQgPVxyXG4gICAgICB1cGRhdGVJdGVtLnBvc2l0aW9uLnkgKyB1cGRhdGVJdGVtLmhlaWdodCAtIHBhcmVudC5oZWlnaHQ7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBleHRlbmRXaWR0aCA+IDAgfHxcclxuICAgICAgZXh0ZW5kSGVpZ2h0ID4gMCB8fFxyXG4gICAgICB1cGRhdGVJdGVtLnBvc2l0aW9uLnggPCAwIHx8XHJcbiAgICAgIHVwZGF0ZUl0ZW0ucG9zaXRpb24ueSA8IDBcclxuICAgICkge1xyXG4gICAgICBwYXJlbnQuc3R5bGUgPSBfb2JqZWN0U3ByZWFkJDQoe30sIHBhcmVudC5zdHlsZSkgfHwge307XHJcblxyXG4gICAgICBpZiAoZXh0ZW5kV2lkdGggPiAwKSB7XHJcbiAgICAgICAgaWYgKCFwYXJlbnQuc3R5bGUud2lkdGgpIHtcclxuICAgICAgICAgIHBhcmVudC5zdHlsZS53aWR0aCA9IHBhcmVudC53aWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhcmVudC5zdHlsZS53aWR0aCArPSBleHRlbmRXaWR0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGV4dGVuZEhlaWdodCA+IDApIHtcclxuICAgICAgICBpZiAoIXBhcmVudC5zdHlsZS5oZWlnaHQpIHtcclxuICAgICAgICAgIHBhcmVudC5zdHlsZS5oZWlnaHQgPSBwYXJlbnQuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFyZW50LnN0eWxlLmhlaWdodCArPSBleHRlbmRIZWlnaHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1cGRhdGVJdGVtLnBvc2l0aW9uLnggPCAwKSB7XHJcbiAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5hYnModXBkYXRlSXRlbS5wb3NpdGlvbi54KTtcclxuICAgICAgICBwYXJlbnQucG9zaXRpb24ueCA9IHBhcmVudC5wb3NpdGlvbi54IC0geERpZmY7XHJcbiAgICAgICAgcGFyZW50LnN0eWxlLndpZHRoICs9IHhEaWZmO1xyXG4gICAgICAgIHVwZGF0ZUl0ZW0ucG9zaXRpb24ueCA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1cGRhdGVJdGVtLnBvc2l0aW9uLnkgPCAwKSB7XHJcbiAgICAgICAgdmFyIHlEaWZmID0gTWF0aC5hYnModXBkYXRlSXRlbS5wb3NpdGlvbi55KTtcclxuICAgICAgICBwYXJlbnQucG9zaXRpb24ueSA9IHBhcmVudC5wb3NpdGlvbi55IC0geURpZmY7XHJcbiAgICAgICAgcGFyZW50LnN0eWxlLmhlaWdodCArPSB5RGlmZjtcclxuICAgICAgICB1cGRhdGVJdGVtLnBvc2l0aW9uLnkgPSAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwYXJlbnQud2lkdGggPSBwYXJlbnQuc3R5bGUud2lkdGg7XHJcbiAgICAgIHBhcmVudC5oZWlnaHQgPSBwYXJlbnQuc3R5bGUuaGVpZ2h0O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKGNoYW5nZXMsIGVsZW1lbnRzKSB7XHJcbiAgLy8gdW5mb3J0dW5hdGVseSB3ZSBuZWVkIHRoaXMgaGFjayB0byBoYW5kbGUgdGhlIHNldE5vZGVzIGFuZCBzZXRFZGdlcyBmdW5jdGlvbiBvZiB0aGVcclxuICAvLyB1c2VSZWFjdEZsb3cgaG9vay5cclxuICBpZiAoXHJcbiAgICBjaGFuZ2VzLnNvbWUoZnVuY3Rpb24gKGMpIHtcclxuICAgICAgcmV0dXJuIGMudHlwZSA9PT0gXCJyZXNldFwiO1xyXG4gICAgfSlcclxuICApIHtcclxuICAgIHJldHVybiBjaGFuZ2VzXHJcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICByZXR1cm4gYy50eXBlID09PSBcInJlc2V0XCI7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICByZXR1cm4gYy5pdGVtO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHZhciBpbml0RWxlbWVudHMgPSBjaGFuZ2VzXHJcbiAgICAuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgIHJldHVybiBjLnR5cGUgPT09IFwiYWRkXCI7XHJcbiAgICB9KVxyXG4gICAgLm1hcChmdW5jdGlvbiAoYykge1xyXG4gICAgICByZXR1cm4gYy5pdGVtO1xyXG4gICAgfSk7XHJcbiAgcmV0dXJuIGVsZW1lbnRzLnJlZHVjZShmdW5jdGlvbiAocmVzLCBpdGVtKSB7XHJcbiAgICB2YXIgY3VycmVudENoYW5nZSA9IGNoYW5nZXMuZmluZChmdW5jdGlvbiAoYykge1xyXG4gICAgICByZXR1cm4gYy5pZCA9PT0gaXRlbS5pZDtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChjdXJyZW50Q2hhbmdlKSB7XHJcbiAgICAgIHN3aXRjaCAoY3VycmVudENoYW5nZS50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOiB7XHJcbiAgICAgICAgICByZXMucHVzaChcclxuICAgICAgICAgICAgX29iamVjdFNwcmVhZCQ0KFxyXG4gICAgICAgICAgICAgIF9vYmplY3RTcHJlYWQkNCh7fSwgaXRlbSksXHJcbiAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGN1cnJlbnRDaGFuZ2Uuc2VsZWN0ZWQsXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhc2UgXCJwb3NpdGlvblwiOiB7XHJcbiAgICAgICAgICB2YXIgdXBkYXRlSXRlbSA9IF9vYmplY3RTcHJlYWQkNCh7fSwgaXRlbSk7XHJcblxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50Q2hhbmdlLnBvc2l0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUl0ZW0ucG9zaXRpb24gPSBjdXJyZW50Q2hhbmdlLnBvc2l0aW9uO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYW5nZS5kcmFnZ2luZyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICB1cGRhdGVJdGVtLmRyYWdnaW5nID0gY3VycmVudENoYW5nZS5kcmFnZ2luZztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAodXBkYXRlSXRlbS5leHBhbmRQYXJlbnQpIHtcclxuICAgICAgICAgICAgaGFuZGxlUGFyZW50RXhwYW5kKHJlcywgdXBkYXRlSXRlbSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmVzLnB1c2godXBkYXRlSXRlbSk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FzZSBcImRpbWVuc2lvbnNcIjoge1xyXG4gICAgICAgICAgdmFyIF91cGRhdGVJdGVtID0gX29iamVjdFNwcmVhZCQ0KHt9LCBpdGVtKTtcclxuXHJcbiAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRDaGFuZ2UuZGltZW5zaW9ucyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBfdXBkYXRlSXRlbS53aWR0aCA9IGN1cnJlbnRDaGFuZ2UuZGltZW5zaW9ucy53aWR0aDtcclxuICAgICAgICAgICAgX3VwZGF0ZUl0ZW0uaGVpZ2h0ID0gY3VycmVudENoYW5nZS5kaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIHdoZW4gdGhlIFwiZGltZW5zaW9uc1wiIGV2ZW50IGlzIGZpcmVkLCB3ZSBvbmx5IGNoYW5nZVxyXG4gICAgICAgICAgICAgKiB0aGUgd2lkdGggYW5kIHRoZSBoZWlnaHQgb2YgdGhlIGN1cnJlbnQgbm9kZS4gTm93IHdlIGFsc29cclxuICAgICAgICAgICAgICogdXBkYXRlIHRoZSBoYW5kbGVCb3VuZHNcclxuICAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICBfdXBkYXRlSXRlbS5oYW5kbGVCb3VuZHMgPSBjdXJyZW50Q2hhbmdlLmhhbmRsZUJvdW5kcztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoX3VwZGF0ZUl0ZW0uZXhwYW5kUGFyZW50KSB7XHJcbiAgICAgICAgICAgIGhhbmRsZVBhcmVudEV4cGFuZChyZXMsIF91cGRhdGVJdGVtKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXMucHVzaChfdXBkYXRlSXRlbSk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FzZSBcInJlbW92ZVwiOiB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcy5wdXNoKGl0ZW0pO1xyXG4gICAgcmV0dXJuIHJlcztcclxuICB9LCBpbml0RWxlbWVudHMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseU5vZGVDaGFuZ2VzKGNoYW5nZXMsIG5vZGVzKSB7XHJcbiAgcmV0dXJuIGFwcGx5Q2hhbmdlcyhjaGFuZ2VzLCBub2Rlcyk7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlFZGdlQ2hhbmdlcyhjaGFuZ2VzLCBlZGdlcykge1xyXG4gIHJldHVybiBhcHBseUNoYW5nZXMoY2hhbmdlcywgZWRnZXMpO1xyXG59XHJcbnZhciBjcmVhdGVTZWxlY3Rpb25DaGFuZ2UgPSBmdW5jdGlvbiBjcmVhdGVTZWxlY3Rpb25DaGFuZ2UoaWQsIHNlbGVjdGVkKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiBpZCxcclxuICAgIHR5cGU6IFwic2VsZWN0XCIsXHJcbiAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXHJcbiAgfTtcclxufTtcclxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uQ2hhbmdlcyhpdGVtcywgc2VsZWN0ZWRJZHMpIHtcclxuICByZXR1cm4gaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGl0ZW0pIHtcclxuICAgIHZhciB3aWxsQmVTZWxlY3RlZCA9IHNlbGVjdGVkSWRzLmluY2x1ZGVzKGl0ZW0uaWQpO1xyXG5cclxuICAgIGlmICghaXRlbS5zZWxlY3RlZCAmJiB3aWxsQmVTZWxlY3RlZCkge1xyXG4gICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgcmVzLnB1c2goY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKGl0ZW0uaWQsIHRydWUpKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5zZWxlY3RlZCAmJiAhd2lsbEJlU2VsZWN0ZWQpIHtcclxuICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICByZXMucHVzaChjcmVhdGVTZWxlY3Rpb25DaGFuZ2UoaXRlbS5pZCwgZmFsc2UpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzO1xyXG4gIH0sIFtdKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3duS2V5cyQzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcclxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XHJcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcclxuICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xyXG4gICAgZW51bWVyYWJsZU9ubHkgJiZcclxuICAgICAgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XHJcbiAgICAgIH0pKSxcclxuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xyXG4gIH1cclxuICByZXR1cm4ga2V5cztcclxufVxyXG5cclxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQzKHRhcmdldCkge1xyXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTtcclxuICAgIGkgJSAyXHJcbiAgICAgID8gb3duS2V5cyQzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcclxuICAgICAgICB9KVxyXG4gICAgICA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzXHJcbiAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXHJcbiAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpXHJcbiAgICAgICAgKVxyXG4gICAgICA6IG93bktleXMkMyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHRhcmdldDtcclxufVxyXG52YXIgZ2V0SGFuZGxlQm91bmRzID0gZnVuY3Rpb24gZ2V0SGFuZGxlQm91bmRzKG5vZGVFbGVtZW50LCBzY2FsZSkge1xyXG4gIHZhciBib3VuZHMgPSBub2RlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICByZXR1cm4ge1xyXG4gICAgc291cmNlOiBnZXRIYW5kbGVCb3VuZHNCeUhhbmRsZVR5cGUoXCIuc291cmNlXCIsIG5vZGVFbGVtZW50LCBib3VuZHMsIHNjYWxlKSxcclxuICAgIHRhcmdldDogZ2V0SGFuZGxlQm91bmRzQnlIYW5kbGVUeXBlKFwiLnRhcmdldFwiLCBub2RlRWxlbWVudCwgYm91bmRzLCBzY2FsZSksXHJcbiAgfTtcclxufTtcclxudmFyIGdldEhhbmRsZUJvdW5kc0J5SGFuZGxlVHlwZSA9IGZ1bmN0aW9uIGdldEhhbmRsZUJvdW5kc0J5SGFuZGxlVHlwZShcclxuICBzZWxlY3RvcixcclxuICBub2RlRWxlbWVudCxcclxuICBwYXJlbnRCb3VuZHMsXHJcbiAga1xyXG4pIHtcclxuICB2YXIgaGFuZGxlcyA9IG5vZGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG5cclxuICBpZiAoIWhhbmRsZXMgfHwgIWhhbmRsZXMubGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHZhciBoYW5kbGVzQXJyYXkgPSBBcnJheS5mcm9tKGhhbmRsZXMpO1xyXG4gIHJldHVybiBoYW5kbGVzQXJyYXkubWFwKGZ1bmN0aW9uIChoYW5kbGUpIHtcclxuICAgIHZhciBib3VuZHMgPSBoYW5kbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICB2YXIgZGltZW5zaW9ucyA9IGdldERpbWVuc2lvbnMoaGFuZGxlKTtcclxuICAgIHZhciBoYW5kbGVJZCA9IGhhbmRsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhhbmRsZWlkXCIpO1xyXG4gICAgdmFyIGhhbmRsZVBvc2l0aW9uID0gaGFuZGxlLmdldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlcG9zXCIpO1xyXG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkMyhcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBoYW5kbGVJZCxcclxuICAgICAgICBwb3NpdGlvbjogaGFuZGxlUG9zaXRpb24sXHJcbiAgICAgICAgeDogKGJvdW5kcy5sZWZ0IC0gcGFyZW50Qm91bmRzLmxlZnQpIC8gayxcclxuICAgICAgICB5OiAoYm91bmRzLnRvcCAtIHBhcmVudEJvdW5kcy50b3ApIC8gayxcclxuICAgICAgfSxcclxuICAgICAgZGltZW5zaW9uc1xyXG4gICAgKTtcclxuICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIG93bktleXMkMihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XHJcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xyXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XHJcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcclxuICAgIGVudW1lcmFibGVPbmx5ICYmXHJcbiAgICAgIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xyXG4gICAgICB9KSksXHJcbiAgICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcclxuICB9XHJcbiAgcmV0dXJuIGtleXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMih0YXJnZXQpIHtcclxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307XHJcbiAgICBpICUgMlxyXG4gICAgICA/IG93bktleXMkMihPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yc1xyXG4gICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxyXG4gICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKVxyXG4gICAgICAgIClcclxuICAgICAgOiBvd25LZXlzJDIoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxyXG4gICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiB0YXJnZXQ7XHJcbn1cclxudmFyIGlzRWRnZSA9IGZ1bmN0aW9uIGlzRWRnZShlbGVtZW50KSB7XHJcbiAgcmV0dXJuIFwiaWRcIiBpbiBlbGVtZW50ICYmIFwic291cmNlXCIgaW4gZWxlbWVudCAmJiBcInRhcmdldFwiIGluIGVsZW1lbnQ7XHJcbn07XHJcbnZhciBpc05vZGUgPSBmdW5jdGlvbiBpc05vZGUoZWxlbWVudCkge1xyXG4gIHJldHVybiBcImlkXCIgaW4gZWxlbWVudCAmJiAhKFwic291cmNlXCIgaW4gZWxlbWVudCkgJiYgIShcInRhcmdldFwiIGluIGVsZW1lbnQpO1xyXG59O1xyXG52YXIgZ2V0T3V0Z29lcnMgPSBmdW5jdGlvbiBnZXRPdXRnb2Vycyhub2RlLCBub2RlcywgZWRnZXMpIHtcclxuICBpZiAoIWlzTm9kZShub2RlKSkge1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxuXHJcbiAgdmFyIG91dGdvZXJJZHMgPSBlZGdlc1xyXG4gICAgLmZpbHRlcihmdW5jdGlvbiAoZSkge1xyXG4gICAgICByZXR1cm4gZS5zb3VyY2UgPT09IG5vZGUuaWQ7XHJcbiAgICB9KVxyXG4gICAgLm1hcChmdW5jdGlvbiAoZSkge1xyXG4gICAgICByZXR1cm4gZS50YXJnZXQ7XHJcbiAgICB9KTtcclxuICByZXR1cm4gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XHJcbiAgICByZXR1cm4gb3V0Z29lcklkcy5pbmNsdWRlcyhuLmlkKTtcclxuICB9KTtcclxufTtcclxudmFyIGdldEluY29tZXJzID0gZnVuY3Rpb24gZ2V0SW5jb21lcnMobm9kZSwgbm9kZXMsIGVkZ2VzKSB7XHJcbiAgaWYgKCFpc05vZGUobm9kZSkpIHtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcblxyXG4gIHZhciBpbmNvbWVyc0lkcyA9IGVkZ2VzXHJcbiAgICAuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHJldHVybiBlLnRhcmdldCA9PT0gbm9kZS5pZDtcclxuICAgIH0pXHJcbiAgICAubWFwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHJldHVybiBlLnNvdXJjZTtcclxuICAgIH0pO1xyXG4gIHJldHVybiBub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG4pIHtcclxuICAgIHJldHVybiBpbmNvbWVyc0lkcy5pbmNsdWRlcyhuLmlkKTtcclxuICB9KTtcclxufTtcclxuXHJcbnZhciBnZXRFZGdlSWQgPSBmdW5jdGlvbiBnZXRFZGdlSWQoX3JlZikge1xyXG4gIHZhciBzb3VyY2UgPSBfcmVmLnNvdXJjZSxcclxuICAgIHNvdXJjZUhhbmRsZSA9IF9yZWYuc291cmNlSGFuZGxlLFxyXG4gICAgdGFyZ2V0ID0gX3JlZi50YXJnZXQsXHJcbiAgICB0YXJnZXRIYW5kbGUgPSBfcmVmLnRhcmdldEhhbmRsZTtcclxuICByZXR1cm4gXCJyZWFjdGZsb3dfX2VkZ2UtXCJcclxuICAgIC5jb25jYXQoc291cmNlKVxyXG4gICAgLmNvbmNhdChzb3VyY2VIYW5kbGUgfHwgXCJcIiwgXCItXCIpXHJcbiAgICAuY29uY2F0KHRhcmdldClcclxuICAgIC5jb25jYXQodGFyZ2V0SGFuZGxlIHx8IFwiXCIpO1xyXG59O1xyXG5cclxudmFyIGdldE1hcmtlcklkID0gZnVuY3Rpb24gZ2V0TWFya2VySWQobWFya2VyKSB7XHJcbiAgaWYgKHR5cGVvZiBtYXJrZXIgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxuXHJcbiAgaWYgKHR5cGVvZiBtYXJrZXIgPT09IFwic3RyaW5nXCIpIHtcclxuICAgIHJldHVybiBtYXJrZXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gT2JqZWN0LmtleXMobWFya2VyKVxyXG4gICAgLnNvcnQoKVxyXG4gICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChrZXksIFwiPVwiKS5jb25jYXQobWFya2VyW2tleV0pO1xyXG4gICAgfSlcclxuICAgIC5qb2luKFwiJlwiKTtcclxufTtcclxuXHJcbnZhciBjb25uZWN0aW9uRXhpc3RzID0gZnVuY3Rpb24gY29ubmVjdGlvbkV4aXN0cyhlZGdlLCBlZGdlcykge1xyXG4gIHJldHVybiBlZGdlcy5zb21lKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZWwuc291cmNlID09PSBlZGdlLnNvdXJjZSAmJlxyXG4gICAgICBlbC50YXJnZXQgPT09IGVkZ2UudGFyZ2V0ICYmXHJcbiAgICAgIChlbC5zb3VyY2VIYW5kbGUgPT09IGVkZ2Uuc291cmNlSGFuZGxlIHx8XHJcbiAgICAgICAgKCFlbC5zb3VyY2VIYW5kbGUgJiYgIWVkZ2Uuc291cmNlSGFuZGxlKSkgJiZcclxuICAgICAgKGVsLnRhcmdldEhhbmRsZSA9PT0gZWRnZS50YXJnZXRIYW5kbGUgfHxcclxuICAgICAgICAoIWVsLnRhcmdldEhhbmRsZSAmJiAhZWRnZS50YXJnZXRIYW5kbGUpKVxyXG4gICAgKTtcclxuICB9KTtcclxufTtcclxuXHJcbnZhciBhZGRFZGdlID0gZnVuY3Rpb24gYWRkRWRnZShlZGdlUGFyYW1zLCBlZGdlcykge1xyXG4gIGlmICghZWRnZVBhcmFtcy5zb3VyY2UgfHwgIWVkZ2VQYXJhbXMudGFyZ2V0KSB7XHJcbiAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBjcmVhdGUgZWRnZS4gQW4gZWRnZSBuZWVkcyBhIHNvdXJjZSBhbmQgYSB0YXJnZXQuXCIpO1xyXG4gICAgcmV0dXJuIGVkZ2VzO1xyXG4gIH1cclxuXHJcbiAgdmFyIGVkZ2U7XHJcblxyXG4gIGlmIChpc0VkZ2UoZWRnZVBhcmFtcykpIHtcclxuICAgIGVkZ2UgPSBfb2JqZWN0U3ByZWFkJDIoe30sIGVkZ2VQYXJhbXMpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlZGdlID0gX29iamVjdFNwcmVhZCQyKFxyXG4gICAgICBfb2JqZWN0U3ByZWFkJDIoe30sIGVkZ2VQYXJhbXMpLFxyXG4gICAgICB7fSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBnZXRFZGdlSWQoZWRnZVBhcmFtcyksXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAoY29ubmVjdGlvbkV4aXN0cyhlZGdlLCBlZGdlcykpIHtcclxuICAgIHJldHVybiBlZGdlcztcclxuICB9XHJcblxyXG4gIHJldHVybiBlZGdlcy5jb25jYXQoZWRnZSk7XHJcbn07XHJcbnZhciB1cGRhdGVFZGdlID0gZnVuY3Rpb24gdXBkYXRlRWRnZShvbGRFZGdlLCBuZXdDb25uZWN0aW9uLCBlZGdlcykge1xyXG4gIGlmICghbmV3Q29ubmVjdGlvbi5zb3VyY2UgfHwgIW5ld0Nvbm5lY3Rpb24udGFyZ2V0KSB7XHJcbiAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBjcmVhdGUgbmV3IGVkZ2UuIEFuIGVkZ2UgbmVlZHMgYSBzb3VyY2UgYW5kIGEgdGFyZ2V0LlwiKTtcclxuICAgIHJldHVybiBlZGdlcztcclxuICB9XHJcblxyXG4gIHZhciBmb3VuZEVkZ2UgPSBlZGdlcy5maW5kKGZ1bmN0aW9uIChlKSB7XHJcbiAgICByZXR1cm4gZS5pZCA9PT0gb2xkRWRnZS5pZDtcclxuICB9KTtcclxuXHJcbiAgaWYgKCFmb3VuZEVkZ2UpIHtcclxuICAgIGNvbnNvbGUud2FybihcclxuICAgICAgXCJUaGUgb2xkIGVkZ2Ugd2l0aCBpZD1cIi5jb25jYXQob2xkRWRnZS5pZCwgXCIgZG9lcyBub3QgZXhpc3QuXCIpXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGVkZ2VzO1xyXG4gIH0gLy8gUmVtb3ZlIG9sZCBlZGdlIGFuZCBjcmVhdGUgdGhlIG5ldyBlZGdlIHdpdGggcGFyYW1ldGVycyBvZiBvbGQgZWRnZS5cclxuXHJcbiAgdmFyIGVkZ2UgPSBfb2JqZWN0U3ByZWFkJDIoXHJcbiAgICBfb2JqZWN0U3ByZWFkJDIoe30sIG9sZEVkZ2UpLFxyXG4gICAge30sXHJcbiAgICB7XHJcbiAgICAgIGlkOiBnZXRFZGdlSWQobmV3Q29ubmVjdGlvbiksXHJcbiAgICAgIHNvdXJjZTogbmV3Q29ubmVjdGlvbi5zb3VyY2UsXHJcbiAgICAgIHRhcmdldDogbmV3Q29ubmVjdGlvbi50YXJnZXQsXHJcbiAgICAgIHNvdXJjZUhhbmRsZTogbmV3Q29ubmVjdGlvbi5zb3VyY2VIYW5kbGUsXHJcbiAgICAgIHRhcmdldEhhbmRsZTogbmV3Q29ubmVjdGlvbi50YXJnZXRIYW5kbGUsXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIGVkZ2VzXHJcbiAgICAuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHJldHVybiBlLmlkICE9PSBvbGRFZGdlLmlkO1xyXG4gICAgfSlcclxuICAgIC5jb25jYXQoZWRnZSk7XHJcbn07XHJcbnZhciBwb2ludFRvUmVuZGVyZXJQb2ludCA9IGZ1bmN0aW9uIHBvaW50VG9SZW5kZXJlclBvaW50KFxyXG4gIF9yZWYyLFxyXG4gIF9yZWYzLFxyXG4gIHNuYXBUb0dyaWQsXHJcbiAgX3JlZjRcclxuKSB7XHJcbiAgdmFyIHggPSBfcmVmMi54LFxyXG4gICAgeSA9IF9yZWYyLnk7XHJcblxyXG4gIHZhciBfcmVmNSA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAzKSxcclxuICAgIHR4ID0gX3JlZjVbMF0sXHJcbiAgICB0eSA9IF9yZWY1WzFdLFxyXG4gICAgdFNjYWxlID0gX3JlZjVbMl07XHJcblxyXG4gIHZhciBfcmVmNiA9IF9zbGljZWRUb0FycmF5KF9yZWY0LCAyKSxcclxuICAgIHNuYXBYID0gX3JlZjZbMF0sXHJcbiAgICBzbmFwWSA9IF9yZWY2WzFdO1xyXG5cclxuICB2YXIgcG9zaXRpb24gPSB7XHJcbiAgICB4OiAoeCAtIHR4KSAvIHRTY2FsZSxcclxuICAgIHk6ICh5IC0gdHkpIC8gdFNjYWxlLFxyXG4gIH07XHJcblxyXG4gIGlmIChzbmFwVG9HcmlkKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiBzbmFwWCAqIE1hdGgucm91bmQocG9zaXRpb24ueCAvIHNuYXBYKSxcclxuICAgICAgeTogc25hcFkgKiBNYXRoLnJvdW5kKHBvc2l0aW9uLnkgLyBzbmFwWSksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHBvc2l0aW9uO1xyXG59O1xyXG52YXIgZ2V0UmVjdE9mTm9kZXMgPSBmdW5jdGlvbiBnZXRSZWN0T2ZOb2Rlcyhub2Rlcykge1xyXG4gIHZhciBib3ggPSBub2Rlcy5yZWR1Y2UoXHJcbiAgICBmdW5jdGlvbiAoY3VyckJveCwgX3JlZjcpIHtcclxuICAgICAgdmFyIHBvc2l0aW9uQWJzb2x1dGUgPSBfcmVmNy5wb3NpdGlvbkFic29sdXRlLFxyXG4gICAgICAgIHBvc2l0aW9uID0gX3JlZjcucG9zaXRpb24sXHJcbiAgICAgICAgd2lkdGggPSBfcmVmNy53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBfcmVmNy5oZWlnaHQ7XHJcbiAgICAgIHJldHVybiBnZXRCb3VuZHNPZkJveGVzKFxyXG4gICAgICAgIGN1cnJCb3gsXHJcbiAgICAgICAgcmVjdFRvQm94KHtcclxuICAgICAgICAgIHg6IHBvc2l0aW9uQWJzb2x1dGUgPyBwb3NpdGlvbkFic29sdXRlLnggOiBwb3NpdGlvbi54LFxyXG4gICAgICAgICAgeTogcG9zaXRpb25BYnNvbHV0ZSA/IHBvc2l0aW9uQWJzb2x1dGUueSA6IHBvc2l0aW9uLnksXHJcbiAgICAgICAgICB3aWR0aDogd2lkdGggfHwgMCxcclxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0IHx8IDAsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHg6IEluZmluaXR5LFxyXG4gICAgICB5OiBJbmZpbml0eSxcclxuICAgICAgeDI6IC1JbmZpbml0eSxcclxuICAgICAgeTI6IC1JbmZpbml0eSxcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBib3hUb1JlY3QoYm94KTtcclxufTtcclxudmFyIGdldE5vZGVzSW5zaWRlID0gZnVuY3Rpb24gZ2V0Tm9kZXNJbnNpZGUobm9kZUludGVybmFscywgcmVjdCkge1xyXG4gIHZhciBfcmVmOCA9XHJcbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyBhcmd1bWVudHNbMl1cclxuICAgICAgICA6IFswLCAwLCAxXSxcclxuICAgIF9yZWY5ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjgsIDMpLFxyXG4gICAgdHggPSBfcmVmOVswXSxcclxuICAgIHR5ID0gX3JlZjlbMV0sXHJcbiAgICB0U2NhbGUgPSBfcmVmOVsyXTtcclxuXHJcbiAgdmFyIHBhcnRpYWxseSA9XHJcbiAgICBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xyXG4gIHZhciBleGNsdWRlTm9uU2VsZWN0YWJsZU5vZGVzID1cclxuICAgIGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogZmFsc2U7XHJcbiAgdmFyIHJCb3ggPSByZWN0VG9Cb3goe1xyXG4gICAgeDogKHJlY3QueCAtIHR4KSAvIHRTY2FsZSxcclxuICAgIHk6IChyZWN0LnkgLSB0eSkgLyB0U2NhbGUsXHJcbiAgICB3aWR0aDogcmVjdC53aWR0aCAvIHRTY2FsZSxcclxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQgLyB0U2NhbGUsXHJcbiAgfSk7XHJcbiAgdmFyIHZpc2libGVOb2RlcyA9IFtdO1xyXG4gIG5vZGVJbnRlcm5hbHMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgdmFyIHBvc2l0aW9uQWJzb2x1dGUgPSBub2RlLnBvc2l0aW9uQWJzb2x1dGUsXHJcbiAgICAgIHdpZHRoID0gbm9kZS53aWR0aCxcclxuICAgICAgaGVpZ2h0ID0gbm9kZS5oZWlnaHQsXHJcbiAgICAgIGRyYWdnaW5nID0gbm9kZS5kcmFnZ2luZyxcclxuICAgICAgX25vZGUkc2VsZWN0YWJsZSA9IG5vZGUuc2VsZWN0YWJsZSxcclxuICAgICAgc2VsZWN0YWJsZSA9IF9ub2RlJHNlbGVjdGFibGUgPT09IHZvaWQgMCA/IHRydWUgOiBfbm9kZSRzZWxlY3RhYmxlO1xyXG5cclxuICAgIGlmIChleGNsdWRlTm9uU2VsZWN0YWJsZU5vZGVzICYmICFzZWxlY3RhYmxlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbkJveCA9IHJlY3RUb0JveChcclxuICAgICAgX29iamVjdFNwcmVhZCQyKFxyXG4gICAgICAgIF9vYmplY3RTcHJlYWQkMih7fSwgcG9zaXRpb25BYnNvbHV0ZSksXHJcbiAgICAgICAge30sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgd2lkdGg6IHdpZHRoIHx8IDAsXHJcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCB8fCAwLFxyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgKTtcclxuICAgIHZhciB4T3ZlcmxhcCA9IE1hdGgubWF4KFxyXG4gICAgICAwLFxyXG4gICAgICBNYXRoLm1pbihyQm94LngyLCBuQm94LngyKSAtIE1hdGgubWF4KHJCb3gueCwgbkJveC54KVxyXG4gICAgKTtcclxuICAgIHZhciB5T3ZlcmxhcCA9IE1hdGgubWF4KFxyXG4gICAgICAwLFxyXG4gICAgICBNYXRoLm1pbihyQm94LnkyLCBuQm94LnkyKSAtIE1hdGgubWF4KHJCb3gueSwgbkJveC55KVxyXG4gICAgKTtcclxuICAgIHZhciBvdmVybGFwcGluZ0FyZWEgPSBNYXRoLmNlaWwoeE92ZXJsYXAgKiB5T3ZlcmxhcCk7XHJcbiAgICB2YXIgbm90SW5pdGlhbGl6ZWQgPVxyXG4gICAgICB0eXBlb2Ygd2lkdGggPT09IFwidW5kZWZpbmVkXCIgfHxcclxuICAgICAgdHlwZW9mIGhlaWdodCA9PT0gXCJ1bmRlZmluZWRcIiB8fFxyXG4gICAgICB3aWR0aCA9PT0gbnVsbCB8fFxyXG4gICAgICBoZWlnaHQgPT09IG51bGwgfHxcclxuICAgICAgZHJhZ2dpbmc7XHJcbiAgICB2YXIgcGFydGlhbGx5VmlzaWJsZSA9IHBhcnRpYWxseSAmJiBvdmVybGFwcGluZ0FyZWEgPiAwO1xyXG4gICAgdmFyIGFyZWEgPSAod2lkdGggfHwgMCkgKiAoaGVpZ2h0IHx8IDApO1xyXG4gICAgdmFyIGlzVmlzaWJsZSA9XHJcbiAgICAgIG5vdEluaXRpYWxpemVkIHx8IHBhcnRpYWxseVZpc2libGUgfHwgb3ZlcmxhcHBpbmdBcmVhID49IGFyZWE7XHJcblxyXG4gICAgaWYgKGlzVmlzaWJsZSkge1xyXG4gICAgICB2aXNpYmxlTm9kZXMucHVzaChub2RlKTtcclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gdmlzaWJsZU5vZGVzO1xyXG59O1xyXG52YXIgZ2V0Q29ubmVjdGVkRWRnZXMgPSBmdW5jdGlvbiBnZXRDb25uZWN0ZWRFZGdlcyhub2RlcywgZWRnZXMpIHtcclxuICB2YXIgbm9kZUlkcyA9IG5vZGVzLm1hcChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgcmV0dXJuIG5vZGUuaWQ7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZWRnZSkge1xyXG4gICAgcmV0dXJuIG5vZGVJZHMuaW5jbHVkZXMoZWRnZS5zb3VyY2UpIHx8IG5vZGVJZHMuaW5jbHVkZXMoZWRnZS50YXJnZXQpO1xyXG4gIH0pO1xyXG59O1xyXG52YXIgZ2V0VHJhbnNmb3JtRm9yQm91bmRzID0gZnVuY3Rpb24gZ2V0VHJhbnNmb3JtRm9yQm91bmRzKFxyXG4gIGJvdW5kcyxcclxuICB3aWR0aCxcclxuICBoZWlnaHQsXHJcbiAgbWluWm9vbSxcclxuICBtYXhab29tXHJcbikge1xyXG4gIHZhciBwYWRkaW5nID1cclxuICAgIGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMC4xO1xyXG4gIHZhciB4Wm9vbSA9IHdpZHRoIC8gKGJvdW5kcy53aWR0aCAqICgxICsgcGFkZGluZykpO1xyXG4gIHZhciB5Wm9vbSA9IGhlaWdodCAvIChib3VuZHMuaGVpZ2h0ICogKDEgKyBwYWRkaW5nKSk7XHJcbiAgdmFyIHpvb20gPSBNYXRoLm1pbih4Wm9vbSwgeVpvb20pO1xyXG4gIHZhciBjbGFtcGVkWm9vbSA9IGNsYW1wKHpvb20sIG1pblpvb20sIG1heFpvb20pO1xyXG4gIHZhciBib3VuZHNDZW50ZXJYID0gYm91bmRzLnggKyBib3VuZHMud2lkdGggLyAyO1xyXG4gIHZhciBib3VuZHNDZW50ZXJZID0gYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMjtcclxuICB2YXIgeCA9IHdpZHRoIC8gMiAtIGJvdW5kc0NlbnRlclggKiBjbGFtcGVkWm9vbTtcclxuICB2YXIgeSA9IGhlaWdodCAvIDIgLSBib3VuZHNDZW50ZXJZICogY2xhbXBlZFpvb207XHJcbiAgcmV0dXJuIFt4LCB5LCBjbGFtcGVkWm9vbV07XHJcbn07XHJcbnZhciBnZXREM1RyYW5zaXRpb24gPSBmdW5jdGlvbiBnZXREM1RyYW5zaXRpb24oc2VsZWN0aW9uKSB7XHJcbiAgdmFyIGR1cmF0aW9uID1cclxuICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcclxuICByZXR1cm4gc2VsZWN0aW9uLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXJhdGlvbik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBvd25LZXlzJDEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xyXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcclxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xyXG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XHJcbiAgICBlbnVtZXJhYmxlT25seSAmJlxyXG4gICAgICAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcclxuICAgICAgfSkpLFxyXG4gICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XHJcbiAgfVxyXG4gIHJldHVybiBrZXlzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDEodGFyZ2V0KSB7XHJcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9O1xyXG4gICAgaSAlIDJcclxuICAgICAgPyBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnNcclxuICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhcclxuICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSlcclxuICAgICAgICApXHJcbiAgICAgIDogb3duS2V5cyQxKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVYWVpQb3NpdGlvbihub2RlLCBub2RlSW50ZXJuYWxzLCBwYXJlbnROb2RlcywgcmVzdWx0KSB7XHJcbiAgdmFyIF9yZXN1bHQkeCxcclxuICAgIF9wYXJlbnROb2RlJHBvc2l0aW9uJCxcclxuICAgIF9wYXJlbnROb2RlJHBvc2l0aW9uLFxyXG4gICAgX3Jlc3VsdCR5LFxyXG4gICAgX3BhcmVudE5vZGUkcG9zaXRpb24kMixcclxuICAgIF9wYXJlbnROb2RlJHBvc2l0aW9uMixcclxuICAgIF9wYXJlbnROb2RlJHosXHJcbiAgICBfcmVzdWx0JHosXHJcbiAgICBfcGFyZW50Tm9kZSR6MixcclxuICAgIF9yZXN1bHQkejI7XHJcblxyXG4gIGlmICghbm9kZS5wYXJlbnROb2RlKSB7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgdmFyIHBhcmVudE5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChub2RlLnBhcmVudE5vZGUpO1xyXG4gIHJldHVybiBjYWxjdWxhdGVYWVpQb3NpdGlvbihwYXJlbnROb2RlLCBub2RlSW50ZXJuYWxzLCBwYXJlbnROb2Rlcywge1xyXG4gICAgeDpcclxuICAgICAgKChfcmVzdWx0JHggPSByZXN1bHQueCkgIT09IG51bGwgJiYgX3Jlc3VsdCR4ICE9PSB2b2lkIDBcclxuICAgICAgICA/IF9yZXN1bHQkeFxyXG4gICAgICAgIDogMCkgK1xyXG4gICAgICAoKF9wYXJlbnROb2RlJHBvc2l0aW9uJCA9XHJcbiAgICAgICAgKF9wYXJlbnROb2RlJHBvc2l0aW9uID0gcGFyZW50Tm9kZS5wb3NpdGlvbikgPT09IG51bGwgfHxcclxuICAgICAgICBfcGFyZW50Tm9kZSRwb3NpdGlvbiA9PT0gdm9pZCAwXHJcbiAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgOiBfcGFyZW50Tm9kZSRwb3NpdGlvbi54KSAhPT0gbnVsbCAmJiBfcGFyZW50Tm9kZSRwb3NpdGlvbiQgIT09IHZvaWQgMFxyXG4gICAgICAgID8gX3BhcmVudE5vZGUkcG9zaXRpb24kXHJcbiAgICAgICAgOiAwKSxcclxuICAgIHk6XHJcbiAgICAgICgoX3Jlc3VsdCR5ID0gcmVzdWx0LnkpICE9PSBudWxsICYmIF9yZXN1bHQkeSAhPT0gdm9pZCAwXHJcbiAgICAgICAgPyBfcmVzdWx0JHlcclxuICAgICAgICA6IDApICtcclxuICAgICAgKChfcGFyZW50Tm9kZSRwb3NpdGlvbiQyID1cclxuICAgICAgICAoX3BhcmVudE5vZGUkcG9zaXRpb24yID0gcGFyZW50Tm9kZS5wb3NpdGlvbikgPT09IG51bGwgfHxcclxuICAgICAgICBfcGFyZW50Tm9kZSRwb3NpdGlvbjIgPT09IHZvaWQgMFxyXG4gICAgICAgICAgPyB2b2lkIDBcclxuICAgICAgICAgIDogX3BhcmVudE5vZGUkcG9zaXRpb24yLnkpICE9PSBudWxsICYmXHJcbiAgICAgIF9wYXJlbnROb2RlJHBvc2l0aW9uJDIgIT09IHZvaWQgMFxyXG4gICAgICAgID8gX3BhcmVudE5vZGUkcG9zaXRpb24kMlxyXG4gICAgICAgIDogMCksXHJcbiAgICB6OlxyXG4gICAgICAoKF9wYXJlbnROb2RlJHogPSBwYXJlbnROb2RlLnopICE9PSBudWxsICYmIF9wYXJlbnROb2RlJHogIT09IHZvaWQgMFxyXG4gICAgICAgID8gX3BhcmVudE5vZGUkelxyXG4gICAgICAgIDogMCkgPlxyXG4gICAgICAoKF9yZXN1bHQkeiA9IHJlc3VsdC56KSAhPT0gbnVsbCAmJiBfcmVzdWx0JHogIT09IHZvaWQgMCA/IF9yZXN1bHQkeiA6IDApXHJcbiAgICAgICAgPyAoX3BhcmVudE5vZGUkejIgPSBwYXJlbnROb2RlLnopICE9PSBudWxsICYmIF9wYXJlbnROb2RlJHoyICE9PSB2b2lkIDBcclxuICAgICAgICAgID8gX3BhcmVudE5vZGUkejJcclxuICAgICAgICAgIDogMFxyXG4gICAgICAgIDogKF9yZXN1bHQkejIgPSByZXN1bHQueikgIT09IG51bGwgJiYgX3Jlc3VsdCR6MiAhPT0gdm9pZCAwXHJcbiAgICAgICAgPyBfcmVzdWx0JHoyXHJcbiAgICAgICAgOiAwLFxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOb2RlSW50ZXJuYWxzKG5vZGVzLCBub2RlSW50ZXJuYWxzKSB7XHJcbiAgdmFyIG5leHROb2RlSW50ZXJuYWxzID0gbmV3IE1hcCgpO1xyXG4gIHZhciBwYXJlbnROb2RlcyA9IHt9O1xyXG4gIG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgIHZhciB6ID0gaXNOdW1lcmljKG5vZGUuekluZGV4KVxyXG4gICAgICA/IG5vZGUuekluZGV4XHJcbiAgICAgIDogbm9kZS5kcmFnZ2luZyB8fCBub2RlLnNlbGVjdGVkXHJcbiAgICAgID8gMTAwMFxyXG4gICAgICA6IDA7XHJcblxyXG4gICAgdmFyIGludGVybmFscyA9IF9vYmplY3RTcHJlYWQkMShcclxuICAgICAgX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgbm9kZUludGVybmFscy5nZXQobm9kZS5pZCkpLCBub2RlKSxcclxuICAgICAge30sXHJcbiAgICAgIHtcclxuICAgICAgICBwb3NpdGlvbkFic29sdXRlOiB7XHJcbiAgICAgICAgICB4OiBub2RlLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICB5OiBub2RlLnBvc2l0aW9uLnksXHJcbiAgICAgICAgfSxcclxuICAgICAgICB6OiB6LFxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcclxuICAgICAgaW50ZXJuYWxzLnBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgIHBhcmVudE5vZGVzW25vZGUucGFyZW50Tm9kZV0gPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHROb2RlSW50ZXJuYWxzLnNldChub2RlLmlkLCBpbnRlcm5hbHMpO1xyXG4gIH0pO1xyXG4gIG5leHROb2RlSW50ZXJuYWxzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgIGlmIChub2RlLnBhcmVudE5vZGUgJiYgIW5leHROb2RlSW50ZXJuYWxzLmhhcyhub2RlLnBhcmVudE5vZGUpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcmVudCBub2RlIFwiLmNvbmNhdChub2RlLnBhcmVudE5vZGUsIFwiIG5vdCBmb3VuZFwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSB8fCBwYXJlbnROb2Rlc1tub2RlLmlkXSkge1xyXG4gICAgICB2YXIgX25vZGUkejtcclxuXHJcbiAgICAgIHZhciBfY2FsY3VsYXRlWFlaUG9zaXRpb24gPSBjYWxjdWxhdGVYWVpQb3NpdGlvbihcclxuICAgICAgICAgIG5vZGUsXHJcbiAgICAgICAgICBuZXh0Tm9kZUludGVybmFscyxcclxuICAgICAgICAgIHBhcmVudE5vZGVzLFxyXG4gICAgICAgICAgX29iamVjdFNwcmVhZCQxKFxyXG4gICAgICAgICAgICBfb2JqZWN0U3ByZWFkJDEoe30sIG5vZGUucG9zaXRpb24pLFxyXG4gICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHo6XHJcbiAgICAgICAgICAgICAgICAoX25vZGUkeiA9IG5vZGUueikgIT09IG51bGwgJiYgX25vZGUkeiAhPT0gdm9pZCAwID8gX25vZGUkeiA6IDAsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIClcclxuICAgICAgICApLFxyXG4gICAgICAgIHggPSBfY2FsY3VsYXRlWFlaUG9zaXRpb24ueCxcclxuICAgICAgICB5ID0gX2NhbGN1bGF0ZVhZWlBvc2l0aW9uLnksXHJcbiAgICAgICAgeiA9IF9jYWxjdWxhdGVYWVpQb3NpdGlvbi56O1xyXG5cclxuICAgICAgbm9kZS5wb3NpdGlvbkFic29sdXRlID0ge1xyXG4gICAgICAgIHg6IHgsXHJcbiAgICAgICAgeTogeSxcclxuICAgICAgfTtcclxuICAgICAgbm9kZS56ID0gejtcclxuXHJcbiAgICAgIGlmIChwYXJlbnROb2Rlc1tub2RlLmlkXSkge1xyXG4gICAgICAgIG5vZGUuaXNQYXJlbnQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG5leHROb2RlSW50ZXJuYWxzO1xyXG59XHJcbmZ1bmN0aW9uIGlzUGFyZW50U2VsZWN0ZWQobm9kZSwgbm9kZUludGVybmFscykge1xyXG4gIGlmICghbm9kZS5wYXJlbnROb2RlKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICB2YXIgcGFyZW50Tm9kZSA9IG5vZGVJbnRlcm5hbHMuZ2V0KG5vZGUucGFyZW50Tm9kZSk7XHJcblxyXG4gIGlmICghcGFyZW50Tm9kZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaWYgKHBhcmVudE5vZGUuc2VsZWN0ZWQpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGlzUGFyZW50U2VsZWN0ZWQocGFyZW50Tm9kZSwgbm9kZUludGVybmFscyk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25DaGFuZ2UoX3JlZikge1xyXG4gIHZhciBub2RlID0gX3JlZi5ub2RlLFxyXG4gICAgZGlmZiA9IF9yZWYuZGlmZixcclxuICAgIGRyYWdnaW5nID0gX3JlZi5kcmFnZ2luZyxcclxuICAgIG5vZGVFeHRlbnQgPSBfcmVmLm5vZGVFeHRlbnQsXHJcbiAgICBub2RlSW50ZXJuYWxzID0gX3JlZi5ub2RlSW50ZXJuYWxzO1xyXG4gIHZhciBjaGFuZ2UgPSB7XHJcbiAgICBpZDogbm9kZS5pZCxcclxuICAgIHR5cGU6IFwicG9zaXRpb25cIixcclxuICAgIGRyYWdnaW5nOiAhIWRyYWdnaW5nLFxyXG4gIH07XHJcblxyXG4gIGlmIChkaWZmKSB7XHJcbiAgICB2YXIgbmV4dFBvc2l0aW9uID0ge1xyXG4gICAgICB4OiBub2RlLnBvc2l0aW9uLnggKyBkaWZmLngsXHJcbiAgICAgIHk6IG5vZGUucG9zaXRpb24ueSArIGRpZmYueSxcclxuICAgIH07XHJcbiAgICB2YXIgY3VycmVudEV4dGVudCA9IG5vZGUuZXh0ZW50IHx8IG5vZGVFeHRlbnQ7XHJcblxyXG4gICAgaWYgKG5vZGUuZXh0ZW50ID09PSBcInBhcmVudFwiKSB7XHJcbiAgICAgIGlmIChub2RlLnBhcmVudE5vZGUgJiYgbm9kZS53aWR0aCAmJiBub2RlLmhlaWdodCkge1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSBub2RlSW50ZXJuYWxzLmdldChub2RlLnBhcmVudE5vZGUpO1xyXG4gICAgICAgIGN1cnJlbnRFeHRlbnQgPVxyXG4gICAgICAgICAgcGFyZW50ICE9PSBudWxsICYmXHJcbiAgICAgICAgICBwYXJlbnQgIT09IHZvaWQgMCAmJlxyXG4gICAgICAgICAgcGFyZW50LndpZHRoICYmXHJcbiAgICAgICAgICBwYXJlbnQgIT09IG51bGwgJiZcclxuICAgICAgICAgIHBhcmVudCAhPT0gdm9pZCAwICYmXHJcbiAgICAgICAgICBwYXJlbnQuaGVpZ2h0XHJcbiAgICAgICAgICAgID8gW1xyXG4gICAgICAgICAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgICAgICAgICAgW3BhcmVudC53aWR0aCAtIG5vZGUud2lkdGgsIHBhcmVudC5oZWlnaHQgLSBub2RlLmhlaWdodF0sXHJcbiAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICA6IGN1cnJlbnRFeHRlbnQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiT25seSBjaGlsZCBub2RlcyBjYW4gdXNlIHBhcmVudCBleHRlbnRcIik7XHJcbiAgICAgICAgY3VycmVudEV4dGVudCA9IG5vZGVFeHRlbnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2UucG9zaXRpb24gPSBjdXJyZW50RXh0ZW50XHJcbiAgICAgID8gY2xhbXBQb3NpdGlvbihuZXh0UG9zaXRpb24sIGN1cnJlbnRFeHRlbnQpXHJcbiAgICAgIDogbmV4dFBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNoYW5nZTtcclxufVxyXG5mdW5jdGlvbiBmaXRWaWV3KGdldCkge1xyXG4gIHZhciBvcHRpb25zID1cclxuICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XHJcblxyXG4gIHZhciBfZ2V0ID0gZ2V0KCksXHJcbiAgICBub2RlSW50ZXJuYWxzID0gX2dldC5ub2RlSW50ZXJuYWxzLFxyXG4gICAgd2lkdGggPSBfZ2V0LndpZHRoLFxyXG4gICAgaGVpZ2h0ID0gX2dldC5oZWlnaHQsXHJcbiAgICBtaW5ab29tID0gX2dldC5taW5ab29tLFxyXG4gICAgbWF4Wm9vbSA9IF9nZXQubWF4Wm9vbSxcclxuICAgIGQzWm9vbSA9IF9nZXQuZDNab29tLFxyXG4gICAgZDNTZWxlY3Rpb24gPSBfZ2V0LmQzU2VsZWN0aW9uLFxyXG4gICAgZml0Vmlld09uSW5pdERvbmUgPSBfZ2V0LmZpdFZpZXdPbkluaXREb25lLFxyXG4gICAgZml0Vmlld09uSW5pdCA9IF9nZXQuZml0Vmlld09uSW5pdDtcclxuXHJcbiAgaWYgKFxyXG4gICAgKG9wdGlvbnMuaW5pdGlhbCAmJiAhZml0Vmlld09uSW5pdERvbmUgJiYgZml0Vmlld09uSW5pdCkgfHxcclxuICAgICFvcHRpb25zLmluaXRpYWxcclxuICApIHtcclxuICAgIGlmIChkM1pvb20gJiYgZDNTZWxlY3Rpb24pIHtcclxuICAgICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKS5maWx0ZXIoZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICByZXR1cm4gb3B0aW9ucy5pbmNsdWRlSGlkZGVuTm9kZXNcclxuICAgICAgICAgID8gIW4ucGFyZW50Tm9kZSAmJiBuLndpZHRoICYmIG4uaGVpZ2h0XHJcbiAgICAgICAgICA6ICFuLnBhcmVudE5vZGUgJiYgIW4uaGlkZGVuO1xyXG4gICAgICB9KTtcclxuICAgICAgdmFyIG5vZGVzSW5pdGlhbGl6ZWQgPSBub2Rlcy5ldmVyeShmdW5jdGlvbiAobikge1xyXG4gICAgICAgIHJldHVybiBuLndpZHRoICYmIG4uaGVpZ2h0O1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChub2Rlcy5sZW5ndGggPiAwICYmIG5vZGVzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICB2YXIgX29wdGlvbnMkbWluWm9vbSwgX29wdGlvbnMkbWF4Wm9vbSwgX29wdGlvbnMkcGFkZGluZztcclxuXHJcbiAgICAgICAgdmFyIGJvdW5kcyA9IGdldFJlY3RPZk5vZGVzKG5vZGVzKTtcclxuXHJcbiAgICAgICAgdmFyIF9nZXRUcmFuc2Zvcm1Gb3JCb3VuZCA9IGdldFRyYW5zZm9ybUZvckJvdW5kcyhcclxuICAgICAgICAgICAgYm91bmRzLFxyXG4gICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICAoX29wdGlvbnMkbWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSkgIT09IG51bGwgJiZcclxuICAgICAgICAgICAgICBfb3B0aW9ucyRtaW5ab29tICE9PSB2b2lkIDBcclxuICAgICAgICAgICAgICA/IF9vcHRpb25zJG1pblpvb21cclxuICAgICAgICAgICAgICA6IG1pblpvb20sXHJcbiAgICAgICAgICAgIChfb3B0aW9ucyRtYXhab29tID0gb3B0aW9ucy5tYXhab29tKSAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgIF9vcHRpb25zJG1heFpvb20gIT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgID8gX29wdGlvbnMkbWF4Wm9vbVxyXG4gICAgICAgICAgICAgIDogbWF4Wm9vbSxcclxuICAgICAgICAgICAgKF9vcHRpb25zJHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcpICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgX29wdGlvbnMkcGFkZGluZyAhPT0gdm9pZCAwXHJcbiAgICAgICAgICAgICAgPyBfb3B0aW9ucyRwYWRkaW5nXHJcbiAgICAgICAgICAgICAgOiAwLjFcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBfZ2V0VHJhbnNmb3JtRm9yQm91bmQyID0gX3NsaWNlZFRvQXJyYXkoX2dldFRyYW5zZm9ybUZvckJvdW5kLCAzKSxcclxuICAgICAgICAgIHggPSBfZ2V0VHJhbnNmb3JtRm9yQm91bmQyWzBdLFxyXG4gICAgICAgICAgeSA9IF9nZXRUcmFuc2Zvcm1Gb3JCb3VuZDJbMV0sXHJcbiAgICAgICAgICB6b29tID0gX2dldFRyYW5zZm9ybUZvckJvdW5kMlsyXTtcclxuXHJcbiAgICAgICAgdmFyIG5leHRUcmFuc2Zvcm0gPSB6b29tSWRlbnRpdHkudHJhbnNsYXRlKHgsIHkpLnNjYWxlKHpvb20pO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuZHVyYXRpb24gPT09IFwibnVtYmVyXCIgJiYgb3B0aW9ucy5kdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgIGQzWm9vbS50cmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIGdldEQzVHJhbnNpdGlvbihkM1NlbGVjdGlvbiwgb3B0aW9ucy5kdXJhdGlvbiksXHJcbiAgICAgICAgICAgIG5leHRUcmFuc2Zvcm1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGQzWm9vbS50cmFuc2Zvcm0oZDNTZWxlY3Rpb24sIG5leHRUcmFuc2Zvcm0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVDb250cm9sbGVkTm9kZVNlbGVjdGlvbkNoYW5nZShub2RlQ2hhbmdlcywgbm9kZUludGVybmFscykge1xyXG4gIG5vZGVDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkge1xyXG4gICAgdmFyIG5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChjaGFuZ2UuaWQpO1xyXG5cclxuICAgIGlmIChub2RlKSB7XHJcbiAgICAgIG5vZGVJbnRlcm5hbHMuc2V0KFxyXG4gICAgICAgIG5vZGUuaWQsXHJcbiAgICAgICAgX29iamVjdFNwcmVhZCQxKFxyXG4gICAgICAgICAgX29iamVjdFNwcmVhZCQxKHt9LCBub2RlKSxcclxuICAgICAgICAgIHt9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBzZWxlY3RlZDogY2hhbmdlLnNlbGVjdGVkLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gbmV3IE1hcChub2RlSW50ZXJuYWxzKTtcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVDb250cm9sbGVkRWRnZVNlbGVjdGlvbkNoYW5nZShlZGdlQ2hhbmdlcywgZWRnZXMpIHtcclxuICByZXR1cm4gZWRnZXMubWFwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICB2YXIgY2hhbmdlID0gZWRnZUNoYW5nZXMuZmluZChmdW5jdGlvbiAoY2hhbmdlKSB7XHJcbiAgICAgIHJldHVybiBjaGFuZ2UuaWQgPT09IGUuaWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoY2hhbmdlKSB7XHJcbiAgICAgIGUuc2VsZWN0ZWQgPSBjaGFuZ2Uuc2VsZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGU7XHJcbiAgfSk7XHJcbn1cclxuXHJcbnZhciBpbmZpbml0ZUV4dGVudCA9IFtcclxuICBbTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFldLFxyXG4gIFtOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0sXHJcbl07XHJcbnZhciBpbml0aWFsU3RhdGUgPSB7XHJcbiAgd2lkdGg6IDAsXHJcbiAgaGVpZ2h0OiAwLFxyXG4gIHRyYW5zZm9ybTogWzAsIDAsIDFdLFxyXG4gIG5vZGVJbnRlcm5hbHM6IG5ldyBNYXAoKSxcclxuICBlZGdlczogW10sXHJcbiAgb25Ob2Rlc0NoYW5nZTogbnVsbCxcclxuICBvbkVkZ2VzQ2hhbmdlOiBudWxsLFxyXG4gIGhhc0RlZmF1bHROb2RlczogZmFsc2UsXHJcbiAgaGFzRGVmYXVsdEVkZ2VzOiBmYWxzZSxcclxuICBzZWxlY3RlZE5vZGVzQmJveDoge1xyXG4gICAgeDogMCxcclxuICAgIHk6IDAsXHJcbiAgICB3aWR0aDogMCxcclxuICAgIGhlaWdodDogMCxcclxuICB9LFxyXG4gIGQzWm9vbTogbnVsbCxcclxuICBkM1NlbGVjdGlvbjogbnVsbCxcclxuICBkM1pvb21IYW5kbGVyOiB1bmRlZmluZWQsXHJcbiAgbWluWm9vbTogMC41LFxyXG4gIG1heFpvb206IDIsXHJcbiAgdHJhbnNsYXRlRXh0ZW50OiBpbmZpbml0ZUV4dGVudCxcclxuICBub2RlRXh0ZW50OiBpbmZpbml0ZUV4dGVudCxcclxuICBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2UsXHJcbiAgdXNlclNlbGVjdGlvbkFjdGl2ZTogZmFsc2UsXHJcbiAgY29ubmVjdGlvbk5vZGVJZDogbnVsbCxcclxuICBjb25uZWN0aW9uSGFuZGxlSWQ6IG51bGwsXHJcbiAgY29ubmVjdGlvbkhhbmRsZVR5cGU6IFwic291cmNlXCIsXHJcbiAgY29ubmVjdGlvblBvc2l0aW9uOiB7XHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICB9LFxyXG4gIGNvbm5lY3Rpb25Nb2RlOiBDb25uZWN0aW9uTW9kZS5TdHJpY3QsXHJcbiAgc25hcEdyaWQ6IFsxNSwgMTVdLFxyXG4gIHNuYXBUb0dyaWQ6IGZhbHNlLFxyXG4gIG5vZGVzRHJhZ2dhYmxlOiB0cnVlLFxyXG4gIG5vZGVzQ29ubmVjdGFibGU6IHRydWUsXHJcbiAgZWxlbWVudHNTZWxlY3RhYmxlOiB0cnVlLFxyXG4gIGZpdFZpZXdPbkluaXQ6IGZhbHNlLFxyXG4gIGZpdFZpZXdPbkluaXREb25lOiBmYWxzZSxcclxuICBmaXRWaWV3T25Jbml0T3B0aW9uczogdW5kZWZpbmVkLFxyXG4gIG11bHRpU2VsZWN0aW9uQWN0aXZlOiBmYWxzZSxcclxuICByZWFjdEZsb3dWZXJzaW9uOiBcIjEwLjAuOFwiLFxyXG4gIGNvbm5lY3Rpb25TdGFydEhhbmRsZTogbnVsbCxcclxuICBjb25uZWN0T25DbGljazogdHJ1ZSxcclxufTtcclxuXHJcbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xyXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcclxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xyXG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XHJcbiAgICBlbnVtZXJhYmxlT25seSAmJlxyXG4gICAgICAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcclxuICAgICAgfSkpLFxyXG4gICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XHJcbiAgfVxyXG4gIHJldHVybiBrZXlzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xyXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTtcclxuICAgIGkgJSAyXHJcbiAgICAgID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yc1xyXG4gICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxyXG4gICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKVxyXG4gICAgICAgIClcclxuICAgICAgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcblxyXG52YXIgX2NyZWF0ZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCksXHJcbiAgUHJvdmlkZXIgPSBfY3JlYXRlQ29udGV4dC5Qcm92aWRlcixcclxuICB1c2VTdG9yZSA9IF9jcmVhdGVDb250ZXh0LnVzZVN0b3JlLFxyXG4gIHVzZVN0b3JlQXBpID0gX2NyZWF0ZUNvbnRleHQudXNlU3RvcmVBcGk7XHJcblxyXG52YXIgY3JlYXRlU3RvcmUgPSBmdW5jdGlvbiBjcmVhdGVTdG9yZSgpIHtcclxuICByZXR1cm4gY3JlYXRlKGZ1bmN0aW9uIChzZXQsIGdldCkge1xyXG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoXHJcbiAgICAgIF9vYmplY3RTcHJlYWQoe30sIGluaXRpYWxTdGF0ZSksXHJcbiAgICAgIHt9LFxyXG4gICAgICB7XHJcbiAgICAgICAgc2V0Tm9kZXM6IGZ1bmN0aW9uIHNldE5vZGVzKG5vZGVzKSB7XHJcbiAgICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzOiBjcmVhdGVOb2RlSW50ZXJuYWxzKG5vZGVzLCBnZXQoKS5ub2RlSW50ZXJuYWxzKSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0RWRnZXM6IGZ1bmN0aW9uIHNldEVkZ2VzKGVkZ2VzKSB7XHJcbiAgICAgICAgICB2YXIgX2dldCA9IGdldCgpLFxyXG4gICAgICAgICAgICBkZWZhdWx0RWRnZU9wdGlvbnMgPSBfZ2V0LmRlZmF1bHRFZGdlT3B0aW9ucztcclxuXHJcbiAgICAgICAgICBpZiAoZGVmYXVsdEVkZ2VPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHNldCh7XHJcbiAgICAgICAgICAgICAgZWRnZXM6IGVkZ2VzLm1hcChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdEVkZ2VPcHRpb25zKSwgZSk7XHJcbiAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0KHtcclxuICAgICAgICAgICAgICBlZGdlczogZWRnZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0RGVmYXVsdE5vZGVzQW5kRWRnZXM6IGZ1bmN0aW9uIHNldERlZmF1bHROb2Rlc0FuZEVkZ2VzKFxyXG4gICAgICAgICAgbm9kZXMsXHJcbiAgICAgICAgICBlZGdlc1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdmFyIGhhc0RlZmF1bHROb2RlcyA9IHR5cGVvZiBub2RlcyAhPT0gXCJ1bmRlZmluZWRcIjtcclxuICAgICAgICAgIHZhciBoYXNEZWZhdWx0RWRnZXMgPSB0eXBlb2YgZWRnZXMgIT09IFwidW5kZWZpbmVkXCI7XHJcbiAgICAgICAgICB2YXIgbm9kZUludGVybmFscyA9IGhhc0RlZmF1bHROb2Rlc1xyXG4gICAgICAgICAgICA/IGNyZWF0ZU5vZGVJbnRlcm5hbHMobm9kZXMsIG5ldyBNYXAoKSlcclxuICAgICAgICAgICAgOiBuZXcgTWFwKCk7XHJcbiAgICAgICAgICB2YXIgbmV4dEVkZ2VzID0gaGFzRGVmYXVsdEVkZ2VzID8gZWRnZXMgOiBbXTtcclxuICAgICAgICAgIHNldCh7XHJcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHM6IG5vZGVJbnRlcm5hbHMsXHJcbiAgICAgICAgICAgIGVkZ2VzOiBuZXh0RWRnZXMsXHJcbiAgICAgICAgICAgIGhhc0RlZmF1bHROb2RlczogaGFzRGVmYXVsdE5vZGVzLFxyXG4gICAgICAgICAgICBoYXNEZWZhdWx0RWRnZXM6IGhhc0RlZmF1bHRFZGdlcyxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlTm9kZURpbWVuc2lvbnM6IGZ1bmN0aW9uIHVwZGF0ZU5vZGVEaW1lbnNpb25zKHVwZGF0ZXMpIHtcclxuICAgICAgICAgIHZhciBfZ2V0MiA9IGdldCgpLFxyXG4gICAgICAgICAgICBvbk5vZGVzQ2hhbmdlID0gX2dldDIub25Ob2Rlc0NoYW5nZSxcclxuICAgICAgICAgICAgdHJhbnNmb3JtID0gX2dldDIudHJhbnNmb3JtLFxyXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzID0gX2dldDIubm9kZUludGVybmFscyxcclxuICAgICAgICAgICAgZml0Vmlld09uSW5pdCA9IF9nZXQyLmZpdFZpZXdPbkluaXQsXHJcbiAgICAgICAgICAgIGZpdFZpZXdPbkluaXREb25lID0gX2dldDIuZml0Vmlld09uSW5pdERvbmUsXHJcbiAgICAgICAgICAgIGZpdFZpZXdPbkluaXRPcHRpb25zID0gX2dldDIuZml0Vmlld09uSW5pdE9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgdmFyIGNoYW5nZXMgPSB1cGRhdGVzLnJlZHVjZShmdW5jdGlvbiAocmVzLCB1cGRhdGUpIHtcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2RlSW50ZXJuYWxzLmdldCh1cGRhdGUuaWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgICB2YXIgZGltZW5zaW9ucyA9IGdldERpbWVuc2lvbnModXBkYXRlLm5vZGVFbGVtZW50KTtcclxuICAgICAgICAgICAgICB2YXIgZG9VcGRhdGUgPSAhIShcclxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMud2lkdGggJiZcclxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMuaGVpZ2h0ICYmXHJcbiAgICAgICAgICAgICAgICAobm9kZS53aWR0aCAhPT0gZGltZW5zaW9ucy53aWR0aCB8fFxyXG4gICAgICAgICAgICAgICAgICBub2RlLmhlaWdodCAhPT0gZGltZW5zaW9ucy5oZWlnaHQgfHxcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlLmZvcmNlVXBkYXRlKVxyXG4gICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChkb1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZUJvdW5kcyA9IGdldEhhbmRsZUJvdW5kcyhcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlLm5vZGVFbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1bMl1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzLnNldChcclxuICAgICAgICAgICAgICAgICAgbm9kZS5pZCxcclxuICAgICAgICAgICAgICAgICAgX29iamVjdFNwcmVhZChcclxuICAgICAgICAgICAgICAgICAgICBfb2JqZWN0U3ByZWFkKHt9LCBub2RlKSxcclxuICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVCb3VuZHM6IGhhbmRsZUJvdW5kcyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnNcclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgaWQ6IG5vZGUuaWQsXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGltZW5zaW9uc1wiLFxyXG4gICAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxyXG4gICAgICAgICAgICAgICAgICBoYW5kbGVCb3VuZHM6IGhhbmRsZUJvdW5kcyxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICAgIH0sIFtdKTtcclxuICAgICAgICAgIHZhciBuZXh0Rml0Vmlld09uSW5pdERvbmUgPVxyXG4gICAgICAgICAgICBmaXRWaWV3T25Jbml0RG9uZSB8fFxyXG4gICAgICAgICAgICAoZml0Vmlld09uSW5pdCAmJlxyXG4gICAgICAgICAgICAgICFmaXRWaWV3T25Jbml0RG9uZSAmJlxyXG4gICAgICAgICAgICAgIGZpdFZpZXcoXHJcbiAgICAgICAgICAgICAgICBnZXQsXHJcbiAgICAgICAgICAgICAgICBfb2JqZWN0U3ByZWFkKFxyXG4gICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgZml0Vmlld09uSW5pdE9wdGlvbnNcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICApKTtcclxuICAgICAgICAgIHNldCh7XHJcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHM6IG5ldyBNYXAobm9kZUludGVybmFscyksXHJcbiAgICAgICAgICAgIGZpdFZpZXdPbkluaXREb25lOiBuZXh0Rml0Vmlld09uSW5pdERvbmUsXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIChjaGFuZ2VzID09PSBudWxsIHx8IGNoYW5nZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5nZXMubGVuZ3RoKSA+XHJcbiAgICAgICAgICAgIDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBvbk5vZGVzQ2hhbmdlID09PSBudWxsIHx8IG9uTm9kZXNDaGFuZ2UgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgOiBvbk5vZGVzQ2hhbmdlKGNoYW5nZXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlTm9kZVBvc2l0aW9uOiBmdW5jdGlvbiB1cGRhdGVOb2RlUG9zaXRpb24oX3JlZikge1xyXG4gICAgICAgICAgdmFyIGlkID0gX3JlZi5pZCxcclxuICAgICAgICAgICAgZGlmZiA9IF9yZWYuZGlmZixcclxuICAgICAgICAgICAgZHJhZ2dpbmcgPSBfcmVmLmRyYWdnaW5nO1xyXG5cclxuICAgICAgICAgIHZhciBfZ2V0MyA9IGdldCgpLFxyXG4gICAgICAgICAgICBvbk5vZGVzQ2hhbmdlID0gX2dldDMub25Ob2Rlc0NoYW5nZSxcclxuICAgICAgICAgICAgbm9kZUV4dGVudCA9IF9nZXQzLm5vZGVFeHRlbnQsXHJcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHMgPSBfZ2V0My5ub2RlSW50ZXJuYWxzLFxyXG4gICAgICAgICAgICBoYXNEZWZhdWx0Tm9kZXMgPSBfZ2V0My5oYXNEZWZhdWx0Tm9kZXM7XHJcblxyXG4gICAgICAgICAgaWYgKGhhc0RlZmF1bHROb2RlcyB8fCBvbk5vZGVzQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFuZ2VzID0gW107XHJcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICAgIGlmIChub2RlLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICFub2RlLnBhcmVudE5vZGUgfHxcclxuICAgICAgICAgICAgICAgICAgIWlzUGFyZW50U2VsZWN0ZWQobm9kZSwgbm9kZUludGVybmFscylcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUG9zaXRpb25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgbm9kZTogbm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRpZmY6IGRpZmYsXHJcbiAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZHJhZ2dpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBub2RlRXh0ZW50OiBub2RlRXh0ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgbm9kZUludGVybmFsczogbm9kZUludGVybmFscyxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZXMucHVzaChcclxuICAgICAgICAgICAgICAgICAgY3JlYXRlUG9zaXRpb25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlmZjogZGlmZixcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZzogZHJhZ2dpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZUV4dGVudDogbm9kZUV4dGVudCxcclxuICAgICAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzOiBub2RlSW50ZXJuYWxzLFxyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNoYW5nZXMgIT09IG51bGwgJiYgY2hhbmdlcyAhPT0gdm9pZCAwICYmIGNoYW5nZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gYXBwbHlOb2RlQ2hhbmdlcyhcclxuICAgICAgICAgICAgICAgICAgY2hhbmdlcyxcclxuICAgICAgICAgICAgICAgICAgQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0Tm9kZUludGVybmFscyA9IGNyZWF0ZU5vZGVJbnRlcm5hbHMoXHJcbiAgICAgICAgICAgICAgICAgIG5vZGVzLFxyXG4gICAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgc2V0KHtcclxuICAgICAgICAgICAgICAgICAgbm9kZUludGVybmFsczogbmV4dE5vZGVJbnRlcm5hbHMsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIG9uTm9kZXNDaGFuZ2UgPT09IG51bGwgfHwgb25Ob2Rlc0NoYW5nZSA9PT0gdm9pZCAwXHJcbiAgICAgICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgOiBvbk5vZGVzQ2hhbmdlKGNoYW5nZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBAVE9ETzogY2FuIHdlIHVuaWZ5IGFkZFNlbGVjdGVkTm9kZXMgYW5kIGFkZFNlbGVjdGVkRWRnZXMgc29tZWhvdz9cclxuICAgICAgICBhZGRTZWxlY3RlZE5vZGVzOiBmdW5jdGlvbiBhZGRTZWxlY3RlZE5vZGVzKHNlbGVjdGVkTm9kZUlkcykge1xyXG4gICAgICAgICAgdmFyIF9jaGFuZ2VkRWRnZXM7XHJcblxyXG4gICAgICAgICAgdmFyIF9nZXQ0ID0gZ2V0KCksXHJcbiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uQWN0aXZlID0gX2dldDQubXVsdGlTZWxlY3Rpb25BY3RpdmUsXHJcbiAgICAgICAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfZ2V0NC5vbk5vZGVzQ2hhbmdlLFxyXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzID0gX2dldDQubm9kZUludGVybmFscyxcclxuICAgICAgICAgICAgaGFzRGVmYXVsdE5vZGVzID0gX2dldDQuaGFzRGVmYXVsdE5vZGVzLFxyXG4gICAgICAgICAgICBvbkVkZ2VzQ2hhbmdlID0gX2dldDQub25FZGdlc0NoYW5nZSxcclxuICAgICAgICAgICAgaGFzRGVmYXVsdEVkZ2VzID0gX2dldDQuaGFzRGVmYXVsdEVkZ2VzLFxyXG4gICAgICAgICAgICBlZGdlcyA9IF9nZXQ0LmVkZ2VzO1xyXG5cclxuICAgICAgICAgIHZhciBjaGFuZ2VkTm9kZXM7XHJcbiAgICAgICAgICB2YXIgY2hhbmdlZEVkZ2VzID0gbnVsbDtcclxuXHJcbiAgICAgICAgICBpZiAobXVsdGlTZWxlY3Rpb25BY3RpdmUpIHtcclxuICAgICAgICAgICAgY2hhbmdlZE5vZGVzID0gc2VsZWN0ZWROb2RlSWRzLm1hcChmdW5jdGlvbiAobm9kZUlkKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNlbGVjdGlvbkNoYW5nZShub2RlSWQsIHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYW5nZWROb2RlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMoXHJcbiAgICAgICAgICAgICAgQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKSxcclxuICAgICAgICAgICAgICBzZWxlY3RlZE5vZGVJZHNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY2hhbmdlZEVkZ2VzID0gZ2V0U2VsZWN0aW9uQ2hhbmdlcyhlZGdlcywgW10pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChjaGFuZ2VkTm9kZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNEZWZhdWx0Tm9kZXMpIHtcclxuICAgICAgICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgICAgICAgbm9kZUludGVybmFsczogaGFuZGxlQ29udHJvbGxlZE5vZGVTZWxlY3Rpb25DaGFuZ2UoXHJcbiAgICAgICAgICAgICAgICAgIGNoYW5nZWROb2RlcyxcclxuICAgICAgICAgICAgICAgICAgbm9kZUludGVybmFsc1xyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb25Ob2Rlc0NoYW5nZSA9PT0gbnVsbCB8fCBvbk5vZGVzQ2hhbmdlID09PSB2b2lkIDBcclxuICAgICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICAgIDogb25Ob2Rlc0NoYW5nZShjaGFuZ2VkTm9kZXMpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgKF9jaGFuZ2VkRWRnZXMgPSBjaGFuZ2VkRWRnZXMpICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgIF9jaGFuZ2VkRWRnZXMgIT09IHZvaWQgMCAmJlxyXG4gICAgICAgICAgICBfY2hhbmdlZEVkZ2VzLmxlbmd0aFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNEZWZhdWx0RWRnZXMpIHtcclxuICAgICAgICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgICAgICAgZWRnZXM6IGhhbmRsZUNvbnRyb2xsZWRFZGdlU2VsZWN0aW9uQ2hhbmdlKGNoYW5nZWRFZGdlcywgZWRnZXMpLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvbkVkZ2VzQ2hhbmdlID09PSBudWxsIHx8IG9uRWRnZXNDaGFuZ2UgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgOiBvbkVkZ2VzQ2hhbmdlKGNoYW5nZWRFZGdlcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGRTZWxlY3RlZEVkZ2VzOiBmdW5jdGlvbiBhZGRTZWxlY3RlZEVkZ2VzKHNlbGVjdGVkRWRnZUlkcykge1xyXG4gICAgICAgICAgdmFyIF9jaGFuZ2VkTm9kZXM7XHJcblxyXG4gICAgICAgICAgdmFyIF9nZXQ1ID0gZ2V0KCksXHJcbiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uQWN0aXZlID0gX2dldDUubXVsdGlTZWxlY3Rpb25BY3RpdmUsXHJcbiAgICAgICAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfZ2V0NS5vbkVkZ2VzQ2hhbmdlLFxyXG4gICAgICAgICAgICBlZGdlcyA9IF9nZXQ1LmVkZ2VzLFxyXG4gICAgICAgICAgICBoYXNEZWZhdWx0RWRnZXMgPSBfZ2V0NS5oYXNEZWZhdWx0RWRnZXMsXHJcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHMgPSBfZ2V0NS5ub2RlSW50ZXJuYWxzLFxyXG4gICAgICAgICAgICBoYXNEZWZhdWx0Tm9kZXMgPSBfZ2V0NS5oYXNEZWZhdWx0Tm9kZXMsXHJcbiAgICAgICAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfZ2V0NS5vbk5vZGVzQ2hhbmdlO1xyXG5cclxuICAgICAgICAgIHZhciBjaGFuZ2VkRWRnZXM7XHJcbiAgICAgICAgICB2YXIgY2hhbmdlZE5vZGVzID0gbnVsbDtcclxuXHJcbiAgICAgICAgICBpZiAobXVsdGlTZWxlY3Rpb25BY3RpdmUpIHtcclxuICAgICAgICAgICAgY2hhbmdlZEVkZ2VzID0gc2VsZWN0ZWRFZGdlSWRzLm1hcChmdW5jdGlvbiAoZWRnZUlkKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNlbGVjdGlvbkNoYW5nZShlZGdlSWQsIHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYW5nZWRFZGdlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMoZWRnZXMsIHNlbGVjdGVkRWRnZUlkcyk7XHJcbiAgICAgICAgICAgIGNoYW5nZWROb2RlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMoXHJcbiAgICAgICAgICAgICAgQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKSxcclxuICAgICAgICAgICAgICBbXVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChjaGFuZ2VkRWRnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNEZWZhdWx0RWRnZXMpIHtcclxuICAgICAgICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgICAgICAgZWRnZXM6IGhhbmRsZUNvbnRyb2xsZWRFZGdlU2VsZWN0aW9uQ2hhbmdlKGNoYW5nZWRFZGdlcywgZWRnZXMpLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvbkVkZ2VzQ2hhbmdlID09PSBudWxsIHx8IG9uRWRnZXNDaGFuZ2UgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgOiBvbkVkZ2VzQ2hhbmdlKGNoYW5nZWRFZGdlcyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAoX2NoYW5nZWROb2RlcyA9IGNoYW5nZWROb2RlcykgIT09IG51bGwgJiZcclxuICAgICAgICAgICAgX2NoYW5nZWROb2RlcyAhPT0gdm9pZCAwICYmXHJcbiAgICAgICAgICAgIF9jaGFuZ2VkTm9kZXMubGVuZ3RoXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xyXG4gICAgICAgICAgICAgIHNldCh7XHJcbiAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzOiBoYW5kbGVDb250cm9sbGVkTm9kZVNlbGVjdGlvbkNoYW5nZShcclxuICAgICAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzLFxyXG4gICAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvbk5vZGVzQ2hhbmdlID09PSBudWxsIHx8IG9uTm9kZXNDaGFuZ2UgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgOiBvbk5vZGVzQ2hhbmdlKGNoYW5nZWROb2Rlcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bnNlbGVjdE5vZGVzQW5kRWRnZXM6IGZ1bmN0aW9uIHVuc2VsZWN0Tm9kZXNBbmRFZGdlcygpIHtcclxuICAgICAgICAgIHZhciBfZ2V0NiA9IGdldCgpLFxyXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzID0gX2dldDYubm9kZUludGVybmFscyxcclxuICAgICAgICAgICAgZWRnZXMgPSBfZ2V0Ni5lZGdlcyxcclxuICAgICAgICAgICAgb25Ob2Rlc0NoYW5nZSA9IF9nZXQ2Lm9uTm9kZXNDaGFuZ2UsXHJcbiAgICAgICAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfZ2V0Ni5vbkVkZ2VzQ2hhbmdlLFxyXG4gICAgICAgICAgICBoYXNEZWZhdWx0Tm9kZXMgPSBfZ2V0Ni5oYXNEZWZhdWx0Tm9kZXMsXHJcbiAgICAgICAgICAgIGhhc0RlZmF1bHRFZGdlcyA9IF9nZXQ2Lmhhc0RlZmF1bHRFZGdlcztcclxuXHJcbiAgICAgICAgICB2YXIgbm9kZXMgPSBBcnJheS5mcm9tKG5vZGVJbnRlcm5hbHMudmFsdWVzKCkpO1xyXG4gICAgICAgICAgdmFyIG5vZGVzVG9VbnNlbGVjdCA9IG5vZGVzLm1hcChmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICBuLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVTZWxlY3Rpb25DaGFuZ2Uobi5pZCwgZmFsc2UpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2YXIgZWRnZXNUb1Vuc2VsZWN0ID0gZWRnZXMubWFwKGZ1bmN0aW9uIChlZGdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVTZWxlY3Rpb25DaGFuZ2UoZWRnZS5pZCwgZmFsc2UpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKG5vZGVzVG9VbnNlbGVjdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xyXG4gICAgICAgICAgICAgIHNldCh7XHJcbiAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzOiBoYW5kbGVDb250cm9sbGVkTm9kZVNlbGVjdGlvbkNoYW5nZShcclxuICAgICAgICAgICAgICAgICAgbm9kZXNUb1Vuc2VsZWN0LFxyXG4gICAgICAgICAgICAgICAgICBub2RlSW50ZXJuYWxzXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvbk5vZGVzQ2hhbmdlID09PSBudWxsIHx8IG9uTm9kZXNDaGFuZ2UgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgOiBvbk5vZGVzQ2hhbmdlKG5vZGVzVG9VbnNlbGVjdCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGVkZ2VzVG9VbnNlbGVjdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGhhc0RlZmF1bHRFZGdlcykge1xyXG4gICAgICAgICAgICAgIHNldCh7XHJcbiAgICAgICAgICAgICAgICBlZGdlczogaGFuZGxlQ29udHJvbGxlZEVkZ2VTZWxlY3Rpb25DaGFuZ2UoXHJcbiAgICAgICAgICAgICAgICAgIGVkZ2VzVG9VbnNlbGVjdCxcclxuICAgICAgICAgICAgICAgICAgZWRnZXNcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9uRWRnZXNDaGFuZ2UgPT09IG51bGwgfHwgb25FZGdlc0NoYW5nZSA9PT0gdm9pZCAwXHJcbiAgICAgICAgICAgICAgPyB2b2lkIDBcclxuICAgICAgICAgICAgICA6IG9uRWRnZXNDaGFuZ2UoZWRnZXNUb1Vuc2VsZWN0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldE1pblpvb206IGZ1bmN0aW9uIHNldE1pblpvb20obWluWm9vbSkge1xyXG4gICAgICAgICAgdmFyIF9nZXQ3ID0gZ2V0KCksXHJcbiAgICAgICAgICAgIGQzWm9vbSA9IF9nZXQ3LmQzWm9vbSxcclxuICAgICAgICAgICAgbWF4Wm9vbSA9IF9nZXQ3Lm1heFpvb207XHJcblxyXG4gICAgICAgICAgZDNab29tID09PSBudWxsIHx8IGQzWm9vbSA9PT0gdm9pZCAwXHJcbiAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgIDogZDNab29tLnNjYWxlRXh0ZW50KFttaW5ab29tLCBtYXhab29tXSk7XHJcbiAgICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgICBtaW5ab29tOiBtaW5ab29tLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRNYXhab29tOiBmdW5jdGlvbiBzZXRNYXhab29tKG1heFpvb20pIHtcclxuICAgICAgICAgIHZhciBfZ2V0OCA9IGdldCgpLFxyXG4gICAgICAgICAgICBkM1pvb20gPSBfZ2V0OC5kM1pvb20sXHJcbiAgICAgICAgICAgIG1pblpvb20gPSBfZ2V0OC5taW5ab29tO1xyXG5cclxuICAgICAgICAgIGQzWm9vbSA9PT0gbnVsbCB8fCBkM1pvb20gPT09IHZvaWQgMFxyXG4gICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICA6IGQzWm9vbS5zY2FsZUV4dGVudChbbWluWm9vbSwgbWF4Wm9vbV0pO1xyXG4gICAgICAgICAgc2V0KHtcclxuICAgICAgICAgICAgbWF4Wm9vbTogbWF4Wm9vbSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0VHJhbnNsYXRlRXh0ZW50OiBmdW5jdGlvbiBzZXRUcmFuc2xhdGVFeHRlbnQodHJhbnNsYXRlRXh0ZW50KSB7XHJcbiAgICAgICAgICB2YXIgX2dldDkgPSBnZXQoKSxcclxuICAgICAgICAgICAgZDNab29tID0gX2dldDkuZDNab29tO1xyXG5cclxuICAgICAgICAgIGQzWm9vbSA9PT0gbnVsbCB8fCBkM1pvb20gPT09IHZvaWQgMFxyXG4gICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICA6IGQzWm9vbS50cmFuc2xhdGVFeHRlbnQodHJhbnNsYXRlRXh0ZW50KTtcclxuICAgICAgICAgIHNldCh7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZUV4dGVudDogdHJhbnNsYXRlRXh0ZW50LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXNldFNlbGVjdGVkRWxlbWVudHM6IGZ1bmN0aW9uIHJlc2V0U2VsZWN0ZWRFbGVtZW50cygpIHtcclxuICAgICAgICAgIHZhciBfZ2V0MTAgPSBnZXQoKSxcclxuICAgICAgICAgICAgbm9kZUludGVybmFscyA9IF9nZXQxMC5ub2RlSW50ZXJuYWxzLFxyXG4gICAgICAgICAgICBlZGdlcyA9IF9nZXQxMC5lZGdlcyxcclxuICAgICAgICAgICAgb25Ob2Rlc0NoYW5nZSA9IF9nZXQxMC5vbk5vZGVzQ2hhbmdlLFxyXG4gICAgICAgICAgICBvbkVkZ2VzQ2hhbmdlID0gX2dldDEwLm9uRWRnZXNDaGFuZ2UsXHJcbiAgICAgICAgICAgIGhhc0RlZmF1bHROb2RlcyA9IF9nZXQxMC5oYXNEZWZhdWx0Tm9kZXMsXHJcbiAgICAgICAgICAgIGhhc0RlZmF1bHRFZGdlcyA9IF9nZXQxMC5oYXNEZWZhdWx0RWRnZXM7XHJcblxyXG4gICAgICAgICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcclxuICAgICAgICAgIHZhciBub2Rlc1RvVW5zZWxlY3QgPSBub2Rlc1xyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGUuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlU2VsZWN0aW9uQ2hhbmdlKG4uaWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB2YXIgZWRnZXNUb1Vuc2VsZWN0ID0gZWRnZXNcclxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBlLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNlbGVjdGlvbkNoYW5nZShlLmlkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChub2Rlc1RvVW5zZWxlY3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNEZWZhdWx0Tm9kZXMpIHtcclxuICAgICAgICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgICAgICAgbm9kZUludGVybmFsczogaGFuZGxlQ29udHJvbGxlZE5vZGVTZWxlY3Rpb25DaGFuZ2UoXHJcbiAgICAgICAgICAgICAgICAgIG5vZGVzVG9VbnNlbGVjdCxcclxuICAgICAgICAgICAgICAgICAgbm9kZUludGVybmFsc1xyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb25Ob2Rlc0NoYW5nZSA9PT0gbnVsbCB8fCBvbk5vZGVzQ2hhbmdlID09PSB2b2lkIDBcclxuICAgICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICAgIDogb25Ob2Rlc0NoYW5nZShub2Rlc1RvVW5zZWxlY3QpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChlZGdlc1RvVW5zZWxlY3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNEZWZhdWx0RWRnZXMpIHtcclxuICAgICAgICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgICAgICAgZWRnZXM6IGhhbmRsZUNvbnRyb2xsZWRFZGdlU2VsZWN0aW9uQ2hhbmdlKFxyXG4gICAgICAgICAgICAgICAgICBlZGdlc1RvVW5zZWxlY3QsXHJcbiAgICAgICAgICAgICAgICAgIGVkZ2VzXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvbkVkZ2VzQ2hhbmdlID09PSBudWxsIHx8IG9uRWRnZXNDaGFuZ2UgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgOiBvbkVkZ2VzQ2hhbmdlKGVkZ2VzVG9VbnNlbGVjdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXROb2RlRXh0ZW50OiBmdW5jdGlvbiBzZXROb2RlRXh0ZW50KG5vZGVFeHRlbnQpIHtcclxuICAgICAgICAgIHZhciBfZ2V0MTEgPSBnZXQoKSxcclxuICAgICAgICAgICAgbm9kZUludGVybmFscyA9IF9nZXQxMS5ub2RlSW50ZXJuYWxzO1xyXG5cclxuICAgICAgICAgIG5vZGVJbnRlcm5hbHMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICBub2RlLnBvc2l0aW9uQWJzb2x1dGUgPSBjbGFtcFBvc2l0aW9uKG5vZGUucG9zaXRpb24sIG5vZGVFeHRlbnQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBzZXQoe1xyXG4gICAgICAgICAgICBub2RlRXh0ZW50OiBub2RlRXh0ZW50LFxyXG4gICAgICAgICAgICBub2RlSW50ZXJuYWxzOiBuZXcgTWFwKG5vZGVJbnRlcm5hbHMpLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2V0KF9vYmplY3RTcHJlYWQoe30sIGluaXRpYWxTdGF0ZSkpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQge1xyXG4gIGdldEJvdW5kc29mUmVjdHMgYXMgQSxcclxuICBCYWNrZ3JvdW5kVmFyaWFudCBhcyBCLFxyXG4gIENvbm5lY3Rpb25Nb2RlIGFzIEMsXHJcbiAgX2FycmF5TGlrZVRvQXJyYXkgYXMgRCxcclxuICBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgYXMgRSxcclxuICBnZXREM1RyYW5zaXRpb24gYXMgRixcclxuICBmaXRWaWV3IGFzIEcsXHJcbiAgcG9pbnRUb1JlbmRlcmVyUG9pbnQgYXMgSCxcclxuICBNYXJrZXJUeXBlIGFzIE0sXHJcbiAgUG9zaXRpb24gYXMgUCxcclxuICBfc2xpY2VkVG9BcnJheSBhcyBfLFxyXG4gIF9kZWZpbmVQcm9wZXJ0eSBhcyBhLFxyXG4gIHVzZVN0b3JlIGFzIGIsXHJcbiAgYWRkRWRnZSBhcyBjLFxyXG4gIGdldE1hcmtlcklkIGFzIGQsXHJcbiAgZ2V0Q29ubmVjdGVkRWRnZXMgYXMgZSxcclxuICBnZXREaW1lbnNpb25zIGFzIGYsXHJcbiAgZ2V0SG9zdEZvckVsZW1lbnQgYXMgZyxcclxuICBQYW5PblNjcm9sbE1vZGUgYXMgaCxcclxuICBjbGFtcCBhcyBpLFxyXG4gIGdldE5vZGVzSW5zaWRlIGFzIGosXHJcbiAgZ2V0U2VsZWN0aW9uQ2hhbmdlcyBhcyBrLFxyXG4gIGdldFJlY3RPZk5vZGVzIGFzIGwsXHJcbiAgQ29ubmVjdGlvbkxpbmVUeXBlIGFzIG0sXHJcbiAgaXNOdW1lcmljIGFzIG4sXHJcbiAgUHJvdmlkZXIgYXMgbyxcclxuICBjcmVhdGVTdG9yZSBhcyBwLFxyXG4gIGFwcGx5RWRnZUNoYW5nZXMgYXMgcSxcclxuICByZWN0VG9Cb3ggYXMgcixcclxuICBhcHBseU5vZGVDaGFuZ2VzIGFzIHMsXHJcbiAgaXNOb2RlIGFzIHQsXHJcbiAgdXNlU3RvcmVBcGkgYXMgdSxcclxuICBpc0VkZ2UgYXMgdixcclxuICBnZXRPdXRnb2VycyBhcyB3LFxyXG4gIGdldEluY29tZXJzIGFzIHgsXHJcbiAgdXBkYXRlRWRnZSBhcyB5LFxyXG4gIGdldFRyYW5zZm9ybUZvckJvdW5kcyBhcyB6LFxyXG59O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC0zZGUyYjRkZC5qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/index.js":
/*!*************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/index.js ***!
  \*************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Background\": () => (/* reexport safe */ _index4_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]),\n/* harmony export */   \"BackgroundVariant\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.B),\n/* harmony export */   \"BezierEdge\": () => (/* binding */ BezierEdge),\n/* harmony export */   \"ConnectionLineType\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   \"ConnectionMode\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   \"ControlButton\": () => (/* reexport safe */ _index3_js__WEBPACK_IMPORTED_MODULE_9__.ControlButton),\n/* harmony export */   \"Controls\": () => (/* reexport safe */ _index3_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n/* harmony export */   \"EdgeText\": () => (/* binding */ EdgeText$1),\n/* harmony export */   \"Handle\": () => (/* binding */ Handle$1),\n/* harmony export */   \"MarkerType\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.M),\n/* harmony export */   \"MiniMap\": () => (/* reexport safe */ _index2_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   \"PanOnScrollMode\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   \"Position\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P),\n/* harmony export */   \"ReactFlowProvider\": () => (/* binding */ ReactFlowProvider),\n/* harmony export */   \"SimpleBezierEdge\": () => (/* binding */ SimpleBezierEdge),\n/* harmony export */   \"SmoothStepEdge\": () => (/* binding */ SmoothStepEdge),\n/* harmony export */   \"StepEdge\": () => (/* binding */ StepEdge),\n/* harmony export */   \"StraightEdge\": () => (/* binding */ StraightEdge),\n/* harmony export */   \"addEdge\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   \"applyEdgeChanges\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.q),\n/* harmony export */   \"applyNodeChanges\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   \"default\": () => (/* binding */ ReactFlow),\n/* harmony export */   \"getBezierEdgeCenter\": () => (/* binding */ getBezierCenter),\n/* harmony export */   \"getBezierPath\": () => (/* binding */ getBezierPath),\n/* harmony export */   \"getConnectedEdges\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.e),\n/* harmony export */   \"getEdgeCenter\": () => (/* binding */ getCenter),\n/* harmony export */   \"getIncomers\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.x),\n/* harmony export */   \"getMarkerEnd\": () => (/* binding */ getMarkerEnd),\n/* harmony export */   \"getOutgoers\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.w),\n/* harmony export */   \"getRectOfNodes\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.l),\n/* harmony export */   \"getSimpleBezierEdgeCenter\": () => (/* binding */ getSimpleBezierCenter),\n/* harmony export */   \"getSimpleBezierPath\": () => (/* binding */ getSimpleBezierPath),\n/* harmony export */   \"getSmoothStepPath\": () => (/* binding */ getSmoothStepPath),\n/* harmony export */   \"getTransformForBounds\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.z),\n/* harmony export */   \"isEdge\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.v),\n/* harmony export */   \"isNode\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.t),\n/* harmony export */   \"updateEdge\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.y),\n/* harmony export */   \"useEdges\": () => (/* reexport safe */ _useEdges_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]),\n/* harmony export */   \"useEdgesState\": () => (/* binding */ useEdgesState),\n/* harmony export */   \"useKeyPress\": () => (/* binding */ useKeyPress),\n/* harmony export */   \"useNodes\": () => (/* reexport safe */ _useNodes_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n/* harmony export */   \"useNodesState\": () => (/* binding */ useNodesState),\n/* harmony export */   \"useReactFlow\": () => (/* reexport safe */ _useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__.u),\n/* harmony export */   \"useStore\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   \"useStoreApi\": () => (/* reexport safe */ _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u),\n/* harmony export */   \"useUpdateNodeInternals\": () => (/* reexport safe */ _useUpdateNodeInternals_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]),\n/* harmony export */   \"useViewport\": () => (/* reexport safe */ _useViewport_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var _useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useReactFlow-3e694915.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/useReactFlow-3e694915.js\");\n/* harmony import */ var classcat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classcat */ \"classcat\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand/shallow */ \"zustand/shallow\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\n/* harmony import */ var d3_selection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3-selection */ \"d3-selection\");\n/* harmony import */ var react_draggable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-draggable */ \"react-draggable\");\n/* harmony import */ var _index2_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index2.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index2.js\");\n/* harmony import */ var _index3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index3.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index3.js\");\n/* harmony import */ var _index4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./index4.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index4.js\");\n/* harmony import */ var _useUpdateNodeInternals_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./useUpdateNodeInternals.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/useUpdateNodeInternals.js\");\n/* harmony import */ var _useNodes_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./useNodes.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/useNodes.js\");\n/* harmony import */ var _useEdges_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./useEdges.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/useEdges.js\");\n/* harmony import */ var _useViewport_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./useViewport.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/useViewport.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, _useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__, classcat__WEBPACK_IMPORTED_MODULE_2__, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__, d3_zoom__WEBPACK_IMPORTED_MODULE_5__, d3_selection__WEBPACK_IMPORTED_MODULE_6__, _index2_js__WEBPACK_IMPORTED_MODULE_8__, _index3_js__WEBPACK_IMPORTED_MODULE_9__, _index4_js__WEBPACK_IMPORTED_MODULE_10__, _useUpdateNodeInternals_js__WEBPACK_IMPORTED_MODULE_11__, _useNodes_js__WEBPACK_IMPORTED_MODULE_12__, _useEdges_js__WEBPACK_IMPORTED_MODULE_13__, _useViewport_js__WEBPACK_IMPORTED_MODULE_14__, zustand__WEBPACK_IMPORTED_MODULE_15__, zustand_context__WEBPACK_IMPORTED_MODULE_16__]);\n([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, _useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__, classcat__WEBPACK_IMPORTED_MODULE_2__, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__, d3_zoom__WEBPACK_IMPORTED_MODULE_5__, d3_selection__WEBPACK_IMPORTED_MODULE_6__, _index2_js__WEBPACK_IMPORTED_MODULE_8__, _index3_js__WEBPACK_IMPORTED_MODULE_9__, _index4_js__WEBPACK_IMPORTED_MODULE_10__, _useUpdateNodeInternals_js__WEBPACK_IMPORTED_MODULE_11__, _useNodes_js__WEBPACK_IMPORTED_MODULE_12__, _useEdges_js__WEBPACK_IMPORTED_MODULE_13__, _useViewport_js__WEBPACK_IMPORTED_MODULE_14__, zustand__WEBPACK_IMPORTED_MODULE_15__, zustand_context__WEBPACK_IMPORTED_MODULE_16__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Attribution(_ref) {\r\n  var proOptions = _ref.proOptions,\r\n      _ref$position = _ref.position,\r\n      position = _ref$position === void 0 ? 'bottom-right' : _ref$position;\r\n\r\n  if (((proOptions === null || proOptions === void 0 ? void 0 : proOptions.account) === 'paid-sponsor' || (proOptions === null || proOptions === void 0 ? void 0 : proOptions.account) === 'paid-enterprise' || (proOptions === null || proOptions === void 0 ? void 0 : proOptions.account) === 'paid-custom') && proOptions !== null && proOptions !== void 0 && proOptions.hideAttribution) {\r\n    return null;\r\n  }\r\n\r\n  var positionClasses = \"\".concat(position).split('-');\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__attribution'].concat((0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__._)(positionClasses))),\r\n    \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing\"\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"a\", {\r\n    href: \"https://reactflow.dev\",\r\n    target: \"_blank\",\r\n    rel: \"noopener noreferrer\"\r\n  }, \"React Flow\"));\r\n}\r\n\r\nvar _excluded$2 = [\"x\", \"y\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"children\", \"className\"];\r\n\r\nfunction ownKeys$a(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$a(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$a(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$a(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nvar EdgeText = function EdgeText(_ref) {\r\n  var x = _ref.x,\r\n      y = _ref.y,\r\n      label = _ref.label,\r\n      _ref$labelStyle = _ref.labelStyle,\r\n      labelStyle = _ref$labelStyle === void 0 ? {} : _ref$labelStyle,\r\n      _ref$labelShowBg = _ref.labelShowBg,\r\n      labelShowBg = _ref$labelShowBg === void 0 ? true : _ref$labelShowBg,\r\n      _ref$labelBgStyle = _ref.labelBgStyle,\r\n      labelBgStyle = _ref$labelBgStyle === void 0 ? {} : _ref$labelBgStyle,\r\n      _ref$labelBgPadding = _ref.labelBgPadding,\r\n      labelBgPadding = _ref$labelBgPadding === void 0 ? [2, 4] : _ref$labelBgPadding,\r\n      _ref$labelBgBorderRad = _ref.labelBgBorderRadius,\r\n      labelBgBorderRadius = _ref$labelBgBorderRad === void 0 ? 2 : _ref$labelBgBorderRad,\r\n      children = _ref.children,\r\n      className = _ref.className,\r\n      rest = (0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__.a)(_ref, _excluded$2);\r\n\r\n  var edgeRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\r\n\r\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0\r\n  }),\r\n      _useState2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\r\n      edgeTextBbox = _useState2[0],\r\n      setEdgeTextBbox = _useState2[1];\r\n\r\n  var edgeTextClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__edge-textwrapper', className]);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (edgeRef.current) {\r\n      var textBbox = edgeRef.current.getBBox();\r\n      setEdgeTextBbox({\r\n        x: textBbox.x,\r\n        y: textBbox.y,\r\n        width: textBbox.width,\r\n        height: textBbox.height\r\n      });\r\n    }\r\n  }, [label]);\r\n\r\n  if (typeof label === 'undefined' || !label) {\r\n    return null;\r\n  }\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"g\", _objectSpread$a({\r\n    transform: \"translate(\".concat(x - edgeTextBbox.width / 2, \" \").concat(y - edgeTextBbox.height / 2, \")\"),\r\n    className: edgeTextClasses\r\n  }, rest), labelShowBg && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"rect\", {\r\n    width: edgeTextBbox.width + 2 * labelBgPadding[0],\r\n    x: -labelBgPadding[0],\r\n    y: -labelBgPadding[1],\r\n    height: edgeTextBbox.height + 2 * labelBgPadding[1],\r\n    className: \"react-flow__edge-textbg\",\r\n    style: labelBgStyle,\r\n    rx: labelBgBorderRadius,\r\n    ry: labelBgBorderRadius\r\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"text\", {\r\n    className: \"react-flow__edge-text\",\r\n    y: edgeTextBbox.height / 2,\r\n    dy: \"0.3em\",\r\n    ref: edgeRef,\r\n    style: labelStyle\r\n  }, label), children);\r\n};\r\n\r\nvar EdgeText$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(EdgeText);\r\n\r\nvar BaseEdge = (function (_ref) {\r\n  var path = _ref.path,\r\n      centerX = _ref.centerX,\r\n      centerY = _ref.centerY,\r\n      label = _ref.label,\r\n      labelStyle = _ref.labelStyle,\r\n      labelShowBg = _ref.labelShowBg,\r\n      labelBgStyle = _ref.labelBgStyle,\r\n      labelBgPadding = _ref.labelBgPadding,\r\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\r\n      style = _ref.style,\r\n      markerEnd = _ref.markerEnd,\r\n      markerStart = _ref.markerStart;\r\n  var text = label ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(EdgeText$1, {\r\n    x: centerX,\r\n    y: centerY,\r\n    label: label,\r\n    labelStyle: labelStyle,\r\n    labelShowBg: labelShowBg,\r\n    labelBgStyle: labelBgStyle,\r\n    labelBgPadding: labelBgPadding,\r\n    labelBgBorderRadius: labelBgBorderRadius\r\n  }) : null;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"path\", {\r\n    style: style,\r\n    d: path,\r\n    className: \"react-flow__edge-path\",\r\n    markerEnd: markerEnd,\r\n    markerStart: markerStart\r\n  }), text);\r\n});\r\n\r\nfunction getControl(_ref) {\r\n  var pos = _ref.pos,\r\n      x1 = _ref.x1,\r\n      y1 = _ref.y1,\r\n      x2 = _ref.x2,\r\n      y2 = _ref.y2;\r\n  var ctX, ctY;\r\n\r\n  switch (pos) {\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left:\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right:\r\n      {\r\n        ctX = 0.5 * (x1 + x2);\r\n        ctY = y1;\r\n      }\r\n      break;\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top:\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom:\r\n      {\r\n        ctX = x1;\r\n        ctY = 0.5 * (y1 + y2);\r\n      }\r\n      break;\r\n  }\r\n\r\n  return [ctX, ctY];\r\n}\r\n\r\nfunction getSimpleBezierPath(_ref2) {\r\n  var sourceX = _ref2.sourceX,\r\n      sourceY = _ref2.sourceY,\r\n      _ref2$sourcePosition = _ref2.sourcePosition,\r\n      sourcePosition = _ref2$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref2$sourcePosition,\r\n      targetX = _ref2.targetX,\r\n      targetY = _ref2.targetY,\r\n      _ref2$targetPosition = _ref2.targetPosition,\r\n      targetPosition = _ref2$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref2$targetPosition;\r\n\r\n  var _getControl = getControl({\r\n    pos: sourcePosition,\r\n    x1: sourceX,\r\n    y1: sourceY,\r\n    x2: targetX,\r\n    y2: targetY\r\n  }),\r\n      _getControl2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControl, 2),\r\n      sourceControlX = _getControl2[0],\r\n      sourceControlY = _getControl2[1];\r\n\r\n  var _getControl3 = getControl({\r\n    pos: targetPosition,\r\n    x1: targetX,\r\n    y1: targetY,\r\n    x2: sourceX,\r\n    y2: sourceY\r\n  }),\r\n      _getControl4 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControl3, 2),\r\n      targetControlX = _getControl4[0],\r\n      targetControlY = _getControl4[1];\r\n\r\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\r\n} // @TODO: this function will recalculate the control points\r\n// one option is to let getXXXPath() return center points\r\n// but will introduce breaking changes\r\n// the getCenter() of other types of edges might need to change, too\r\n\r\nfunction getSimpleBezierCenter(_ref3) {\r\n  var sourceX = _ref3.sourceX,\r\n      sourceY = _ref3.sourceY,\r\n      _ref3$sourcePosition = _ref3.sourcePosition,\r\n      sourcePosition = _ref3$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref3$sourcePosition,\r\n      targetX = _ref3.targetX,\r\n      targetY = _ref3.targetY,\r\n      _ref3$targetPosition = _ref3.targetPosition,\r\n      targetPosition = _ref3$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref3$targetPosition;\r\n\r\n  var _getControl5 = getControl({\r\n    pos: sourcePosition,\r\n    x1: sourceX,\r\n    y1: sourceY,\r\n    x2: targetX,\r\n    y2: targetY\r\n  }),\r\n      _getControl6 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControl5, 2),\r\n      sourceControlX = _getControl6[0],\r\n      sourceControlY = _getControl6[1];\r\n\r\n  var _getControl7 = getControl({\r\n    pos: targetPosition,\r\n    x1: targetX,\r\n    y1: targetY,\r\n    x2: sourceX,\r\n    y2: sourceY\r\n  }),\r\n      _getControl8 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControl7, 2),\r\n      targetControlX = _getControl8[0],\r\n      targetControlY = _getControl8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\r\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\r\n\r\n\r\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\r\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\r\n  var xOffset = Math.abs(centerX - sourceX);\r\n  var yOffset = Math.abs(centerY - sourceY);\r\n  return [centerX, centerY, xOffset, yOffset];\r\n}\r\nvar SimpleBezierEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (_ref4) {\r\n  var sourceX = _ref4.sourceX,\r\n      sourceY = _ref4.sourceY,\r\n      targetX = _ref4.targetX,\r\n      targetY = _ref4.targetY,\r\n      _ref4$sourcePosition = _ref4.sourcePosition,\r\n      sourcePosition = _ref4$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref4$sourcePosition,\r\n      _ref4$targetPosition = _ref4.targetPosition,\r\n      targetPosition = _ref4$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref4$targetPosition,\r\n      label = _ref4.label,\r\n      labelStyle = _ref4.labelStyle,\r\n      labelShowBg = _ref4.labelShowBg,\r\n      labelBgStyle = _ref4.labelBgStyle,\r\n      labelBgPadding = _ref4.labelBgPadding,\r\n      labelBgBorderRadius = _ref4.labelBgBorderRadius,\r\n      style = _ref4.style,\r\n      markerEnd = _ref4.markerEnd,\r\n      markerStart = _ref4.markerStart;\r\n  var params = {\r\n    sourceX: sourceX,\r\n    sourceY: sourceY,\r\n    sourcePosition: sourcePosition,\r\n    targetX: targetX,\r\n    targetY: targetY,\r\n    targetPosition: targetPosition\r\n  };\r\n  var path = getSimpleBezierPath(params);\r\n\r\n  var _getSimpleBezierCente = getSimpleBezierCenter(params),\r\n      _getSimpleBezierCente2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getSimpleBezierCente, 2),\r\n      centerX = _getSimpleBezierCente2[0],\r\n      centerY = _getSimpleBezierCente2[1];\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(BaseEdge, {\r\n    path: path,\r\n    centerX: centerX,\r\n    centerY: centerY,\r\n    label: label,\r\n    labelStyle: labelStyle,\r\n    labelShowBg: labelShowBg,\r\n    labelBgStyle: labelBgStyle,\r\n    labelBgPadding: labelBgPadding,\r\n    labelBgBorderRadius: labelBgBorderRadius,\r\n    style: style,\r\n    markerEnd: markerEnd,\r\n    markerStart: markerStart\r\n  });\r\n});\r\n\r\nvar getMarkerEnd = function getMarkerEnd(markerType, markerEndId) {\r\n  if (typeof markerEndId !== 'undefined' && markerEndId) {\r\n    return \"url(#\".concat(markerEndId, \")\");\r\n  }\r\n\r\n  return typeof markerType !== 'undefined' ? \"url(#react-flow__\".concat(markerType, \")\") : 'none';\r\n};\r\nvar LeftOrRight = [_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left, _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right];\r\nvar getCenter = function getCenter(_ref) {\r\n  var sourceX = _ref.sourceX,\r\n      sourceY = _ref.sourceY,\r\n      targetX = _ref.targetX,\r\n      targetY = _ref.targetY,\r\n      _ref$sourcePosition = _ref.sourcePosition,\r\n      sourcePosition = _ref$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref$sourcePosition,\r\n      _ref$targetPosition = _ref.targetPosition,\r\n      targetPosition = _ref$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$targetPosition;\r\n  var sourceIsLeftOrRight = LeftOrRight.includes(sourcePosition);\r\n  var targetIsLeftOrRight = LeftOrRight.includes(targetPosition); // we expect flows to be horizontal or vertical (all handles left or right respectively top or bottom)\r\n  // a mixed edge is when one the source is on the left and the target is on the top for example.\r\n\r\n  var mixedEdge = sourceIsLeftOrRight && !targetIsLeftOrRight || targetIsLeftOrRight && !sourceIsLeftOrRight;\r\n\r\n  if (mixedEdge) {\r\n    var _xOffset = sourceIsLeftOrRight ? Math.abs(targetX - sourceX) : 0;\r\n\r\n    var _centerX = sourceX > targetX ? sourceX - _xOffset : sourceX + _xOffset;\r\n\r\n    var _yOffset = sourceIsLeftOrRight ? 0 : Math.abs(targetY - sourceY);\r\n\r\n    var _centerY = sourceY < targetY ? sourceY + _yOffset : sourceY - _yOffset;\r\n\r\n    return [_centerX, _centerY, _xOffset, _yOffset];\r\n  }\r\n\r\n  var xOffset = Math.abs(targetX - sourceX) / 2;\r\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\r\n  var yOffset = Math.abs(targetY - sourceY) / 2;\r\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\r\n  return [centerX, centerY, xOffset, yOffset];\r\n};\r\n\r\n// The name indicates the direction of the path. \"bottomLeftCorner\" goes\r\n// from bottom to the left and \"leftBottomCorner\" goes from left to the bottom.\r\n// We have to consider the direction of the paths because of the animated lines.\r\n\r\nvar bottomLeftCorner = function bottomLeftCorner(x, y, size) {\r\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\r\n};\r\n\r\nvar leftBottomCorner = function leftBottomCorner(x, y, size) {\r\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\r\n};\r\n\r\nvar bottomRightCorner = function bottomRightCorner(x, y, size) {\r\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\r\n};\r\n\r\nvar rightBottomCorner = function rightBottomCorner(x, y, size) {\r\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\r\n};\r\n\r\nvar leftTopCorner = function leftTopCorner(x, y, size) {\r\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\r\n};\r\n\r\nvar topLeftCorner = function topLeftCorner(x, y, size) {\r\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\r\n};\r\n\r\nvar topRightCorner = function topRightCorner(x, y, size) {\r\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\r\n};\r\n\r\nvar rightTopCorner = function rightTopCorner(x, y, size) {\r\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\r\n};\r\n\r\nfunction getSmoothStepPath(_ref) {\r\n  var sourceX = _ref.sourceX,\r\n      sourceY = _ref.sourceY,\r\n      _ref$sourcePosition = _ref.sourcePosition,\r\n      sourcePosition = _ref$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref$sourcePosition,\r\n      targetX = _ref.targetX,\r\n      targetY = _ref.targetY,\r\n      _ref$targetPosition = _ref.targetPosition,\r\n      targetPosition = _ref$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$targetPosition,\r\n      _ref$borderRadius = _ref.borderRadius,\r\n      borderRadius = _ref$borderRadius === void 0 ? 5 : _ref$borderRadius,\r\n      centerX = _ref.centerX,\r\n      centerY = _ref.centerY;\r\n\r\n  var _getCenter = getCenter({\r\n    sourceX: sourceX,\r\n    sourceY: sourceY,\r\n    targetX: targetX,\r\n    targetY: targetY\r\n  }),\r\n      _getCenter2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getCenter, 4),\r\n      _centerX = _getCenter2[0],\r\n      _centerY = _getCenter2[1],\r\n      offsetX = _getCenter2[2],\r\n      offsetY = _getCenter2[3];\r\n\r\n  var cornerWidth = Math.min(borderRadius, Math.abs(targetX - sourceX));\r\n  var cornerHeight = Math.min(borderRadius, Math.abs(targetY - sourceY));\r\n  var cornerSize = Math.min(cornerWidth, cornerHeight, offsetX, offsetY);\r\n  var leftAndRight = [_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left, _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right];\r\n  var cX = typeof centerX !== 'undefined' ? centerX : _centerX;\r\n  var cY = typeof centerY !== 'undefined' ? centerY : _centerY;\r\n  var firstCornerPath = null;\r\n  var secondCornerPath = null;\r\n\r\n  if (sourceX <= targetX) {\r\n    firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, cY, cornerSize) : topLeftCorner(sourceX, cY, cornerSize);\r\n    secondCornerPath = sourceY <= targetY ? rightTopCorner(targetX, cY, cornerSize) : rightBottomCorner(targetX, cY, cornerSize);\r\n  } else {\r\n    firstCornerPath = sourceY < targetY ? bottomRightCorner(sourceX, cY, cornerSize) : topRightCorner(sourceX, cY, cornerSize);\r\n    secondCornerPath = sourceY < targetY ? leftTopCorner(targetX, cY, cornerSize) : leftBottomCorner(targetX, cY, cornerSize);\r\n  }\r\n\r\n  if (leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\r\n    if (sourceX <= targetX) {\r\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(cX, sourceY, cornerSize) : rightBottomCorner(cX, sourceY, cornerSize);\r\n      secondCornerPath = sourceY <= targetY ? bottomLeftCorner(cX, targetY, cornerSize) : topLeftCorner(cX, targetY, cornerSize);\r\n    } else if (sourcePosition === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right && targetPosition === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left || sourcePosition === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left && targetPosition === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right || sourcePosition === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left && targetPosition === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left) {\r\n      // and sourceX > targetX\r\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(cX, sourceY, cornerSize) : leftBottomCorner(cX, sourceY, cornerSize);\r\n      secondCornerPath = sourceY <= targetY ? bottomRightCorner(cX, targetY, cornerSize) : topRightCorner(cX, targetY, cornerSize);\r\n    }\r\n  } else if (leftAndRight.includes(sourcePosition) && !leftAndRight.includes(targetPosition)) {\r\n    if (sourceX <= targetX) {\r\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(targetX, sourceY, cornerSize) : rightBottomCorner(targetX, sourceY, cornerSize);\r\n    } else {\r\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(targetX, sourceY, cornerSize) : leftBottomCorner(targetX, sourceY, cornerSize);\r\n    }\r\n\r\n    secondCornerPath = '';\r\n  } else if (!leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\r\n    if (sourceX <= targetX) {\r\n      firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, targetY, cornerSize) : topLeftCorner(sourceX, targetY, cornerSize);\r\n    } else {\r\n      firstCornerPath = sourceY <= targetY ? bottomRightCorner(sourceX, targetY, cornerSize) : topRightCorner(sourceX, targetY, cornerSize);\r\n    }\r\n\r\n    secondCornerPath = '';\r\n  }\r\n\r\n  return \"M \".concat(sourceX, \",\").concat(sourceY).concat(firstCornerPath).concat(secondCornerPath, \"L \").concat(targetX, \",\").concat(targetY);\r\n}\r\nvar SmoothStepEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (_ref2) {\r\n  var sourceX = _ref2.sourceX,\r\n      sourceY = _ref2.sourceY,\r\n      targetX = _ref2.targetX,\r\n      targetY = _ref2.targetY,\r\n      label = _ref2.label,\r\n      labelStyle = _ref2.labelStyle,\r\n      labelShowBg = _ref2.labelShowBg,\r\n      labelBgStyle = _ref2.labelBgStyle,\r\n      labelBgPadding = _ref2.labelBgPadding,\r\n      labelBgBorderRadius = _ref2.labelBgBorderRadius,\r\n      style = _ref2.style,\r\n      _ref2$sourcePosition = _ref2.sourcePosition,\r\n      sourcePosition = _ref2$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref2$sourcePosition,\r\n      _ref2$targetPosition = _ref2.targetPosition,\r\n      targetPosition = _ref2$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref2$targetPosition,\r\n      markerEnd = _ref2.markerEnd,\r\n      markerStart = _ref2.markerStart,\r\n      _ref2$borderRadius = _ref2.borderRadius,\r\n      borderRadius = _ref2$borderRadius === void 0 ? 5 : _ref2$borderRadius;\r\n\r\n  var _getCenter3 = getCenter({\r\n    sourceX: sourceX,\r\n    sourceY: sourceY,\r\n    targetX: targetX,\r\n    targetY: targetY,\r\n    sourcePosition: sourcePosition,\r\n    targetPosition: targetPosition\r\n  }),\r\n      _getCenter4 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getCenter3, 2),\r\n      centerX = _getCenter4[0],\r\n      centerY = _getCenter4[1];\r\n\r\n  var path = getSmoothStepPath({\r\n    sourceX: sourceX,\r\n    sourceY: sourceY,\r\n    sourcePosition: sourcePosition,\r\n    targetX: targetX,\r\n    targetY: targetY,\r\n    targetPosition: targetPosition,\r\n    borderRadius: borderRadius\r\n  });\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(BaseEdge, {\r\n    path: path,\r\n    centerX: centerX,\r\n    centerY: centerY,\r\n    label: label,\r\n    labelStyle: labelStyle,\r\n    labelShowBg: labelShowBg,\r\n    labelBgStyle: labelBgStyle,\r\n    labelBgPadding: labelBgPadding,\r\n    labelBgBorderRadius: labelBgBorderRadius,\r\n    style: style,\r\n    markerEnd: markerEnd,\r\n    markerStart: markerStart\r\n  });\r\n});\r\n\r\nfunction ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$9(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\nvar StepEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (props) {\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(SmoothStepEdge, _objectSpread$9(_objectSpread$9({}, props), {}, {\r\n    borderRadius: 0\r\n  }));\r\n});\r\n\r\nvar StraightEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (_ref) {\r\n  var sourceX = _ref.sourceX,\r\n      sourceY = _ref.sourceY,\r\n      targetX = _ref.targetX,\r\n      targetY = _ref.targetY,\r\n      label = _ref.label,\r\n      labelStyle = _ref.labelStyle,\r\n      labelShowBg = _ref.labelShowBg,\r\n      labelBgStyle = _ref.labelBgStyle,\r\n      labelBgPadding = _ref.labelBgPadding,\r\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\r\n      style = _ref.style,\r\n      markerEnd = _ref.markerEnd,\r\n      markerStart = _ref.markerStart;\r\n  var yOffset = Math.abs(targetY - sourceY) / 2;\r\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\r\n  var xOffset = Math.abs(targetX - sourceX) / 2;\r\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\r\n  var path = \"M \".concat(sourceX, \",\").concat(sourceY, \"L \").concat(targetX, \",\").concat(targetY);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(BaseEdge, {\r\n    path: path,\r\n    centerX: centerX,\r\n    centerY: centerY,\r\n    label: label,\r\n    labelStyle: labelStyle,\r\n    labelShowBg: labelShowBg,\r\n    labelBgStyle: labelBgStyle,\r\n    labelBgPadding: labelBgPadding,\r\n    labelBgBorderRadius: labelBgBorderRadius,\r\n    style: style,\r\n    markerEnd: markerEnd,\r\n    markerStart: markerStart\r\n  });\r\n});\r\n\r\nfunction calculateControlOffset(distance, curvature) {\r\n  if (distance >= 0) {\r\n    return 0.5 * distance;\r\n  } else {\r\n    return curvature * 25 * Math.sqrt(-distance);\r\n  }\r\n}\r\n\r\nfunction getControlWithCurvature(_ref) {\r\n  var pos = _ref.pos,\r\n      x1 = _ref.x1,\r\n      y1 = _ref.y1,\r\n      x2 = _ref.x2,\r\n      y2 = _ref.y2,\r\n      c = _ref.c;\r\n  var ctX, ctY;\r\n\r\n  switch (pos) {\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left:\r\n      {\r\n        ctX = x1 - calculateControlOffset(x1 - x2, c);\r\n        ctY = y1;\r\n      }\r\n      break;\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right:\r\n      {\r\n        ctX = x1 + calculateControlOffset(x2 - x1, c);\r\n        ctY = y1;\r\n      }\r\n      break;\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top:\r\n      {\r\n        ctX = x1;\r\n        ctY = y1 - calculateControlOffset(y1 - y2, c);\r\n      }\r\n      break;\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom:\r\n      {\r\n        ctX = x1;\r\n        ctY = y1 + calculateControlOffset(y2 - y1, c);\r\n      }\r\n      break;\r\n  }\r\n\r\n  return [ctX, ctY];\r\n}\r\n\r\nfunction getBezierPath(_ref2) {\r\n  var sourceX = _ref2.sourceX,\r\n      sourceY = _ref2.sourceY,\r\n      _ref2$sourcePosition = _ref2.sourcePosition,\r\n      sourcePosition = _ref2$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref2$sourcePosition,\r\n      targetX = _ref2.targetX,\r\n      targetY = _ref2.targetY,\r\n      _ref2$targetPosition = _ref2.targetPosition,\r\n      targetPosition = _ref2$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref2$targetPosition,\r\n      _ref2$curvature = _ref2.curvature,\r\n      curvature = _ref2$curvature === void 0 ? 0.25 : _ref2$curvature;\r\n\r\n  var _getControlWithCurvat = getControlWithCurvature({\r\n    pos: sourcePosition,\r\n    x1: sourceX,\r\n    y1: sourceY,\r\n    x2: targetX,\r\n    y2: targetY,\r\n    c: curvature\r\n  }),\r\n      _getControlWithCurvat2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControlWithCurvat, 2),\r\n      sourceControlX = _getControlWithCurvat2[0],\r\n      sourceControlY = _getControlWithCurvat2[1];\r\n\r\n  var _getControlWithCurvat3 = getControlWithCurvature({\r\n    pos: targetPosition,\r\n    x1: targetX,\r\n    y1: targetY,\r\n    x2: sourceX,\r\n    y2: sourceY,\r\n    c: curvature\r\n  }),\r\n      _getControlWithCurvat4 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControlWithCurvat3, 2),\r\n      targetControlX = _getControlWithCurvat4[0],\r\n      targetControlY = _getControlWithCurvat4[1];\r\n\r\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\r\n} // @TODO: this function will recalculate the control points\r\n// one option is to let getXXXPath() return center points\r\n// but will introduce breaking changes\r\n// the getCenter() of other types of edges might need to change, too\r\n\r\nfunction getBezierCenter(_ref3) {\r\n  var sourceX = _ref3.sourceX,\r\n      sourceY = _ref3.sourceY,\r\n      _ref3$sourcePosition = _ref3.sourcePosition,\r\n      sourcePosition = _ref3$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref3$sourcePosition,\r\n      targetX = _ref3.targetX,\r\n      targetY = _ref3.targetY,\r\n      _ref3$targetPosition = _ref3.targetPosition,\r\n      targetPosition = _ref3$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref3$targetPosition,\r\n      _ref3$curvature = _ref3.curvature,\r\n      curvature = _ref3$curvature === void 0 ? 0.25 : _ref3$curvature;\r\n\r\n  var _getControlWithCurvat5 = getControlWithCurvature({\r\n    pos: sourcePosition,\r\n    x1: sourceX,\r\n    y1: sourceY,\r\n    x2: targetX,\r\n    y2: targetY,\r\n    c: curvature\r\n  }),\r\n      _getControlWithCurvat6 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControlWithCurvat5, 2),\r\n      sourceControlX = _getControlWithCurvat6[0],\r\n      sourceControlY = _getControlWithCurvat6[1];\r\n\r\n  var _getControlWithCurvat7 = getControlWithCurvature({\r\n    pos: targetPosition,\r\n    x1: targetX,\r\n    y1: targetY,\r\n    x2: sourceX,\r\n    y2: sourceY,\r\n    c: curvature\r\n  }),\r\n      _getControlWithCurvat8 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getControlWithCurvat7, 2),\r\n      targetControlX = _getControlWithCurvat8[0],\r\n      targetControlY = _getControlWithCurvat8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\r\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\r\n\r\n\r\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\r\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\r\n  var xOffset = Math.abs(centerX - sourceX);\r\n  var yOffset = Math.abs(centerY - sourceY);\r\n  return [centerX, centerY, xOffset, yOffset];\r\n}\r\nvar BezierEdge = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (_ref4) {\r\n  var sourceX = _ref4.sourceX,\r\n      sourceY = _ref4.sourceY,\r\n      targetX = _ref4.targetX,\r\n      targetY = _ref4.targetY,\r\n      _ref4$sourcePosition = _ref4.sourcePosition,\r\n      sourcePosition = _ref4$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref4$sourcePosition,\r\n      _ref4$targetPosition = _ref4.targetPosition,\r\n      targetPosition = _ref4$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref4$targetPosition,\r\n      label = _ref4.label,\r\n      labelStyle = _ref4.labelStyle,\r\n      labelShowBg = _ref4.labelShowBg,\r\n      labelBgStyle = _ref4.labelBgStyle,\r\n      labelBgPadding = _ref4.labelBgPadding,\r\n      labelBgBorderRadius = _ref4.labelBgBorderRadius,\r\n      style = _ref4.style,\r\n      markerEnd = _ref4.markerEnd,\r\n      markerStart = _ref4.markerStart,\r\n      curvature = _ref4.curvature;\r\n  var params = {\r\n    sourceX: sourceX,\r\n    sourceY: sourceY,\r\n    sourcePosition: sourcePosition,\r\n    targetX: targetX,\r\n    targetY: targetY,\r\n    targetPosition: targetPosition,\r\n    curvature: curvature\r\n  };\r\n  var path = getBezierPath(params);\r\n\r\n  var _getBezierCenter = getBezierCenter(params),\r\n      _getBezierCenter2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getBezierCenter, 2),\r\n      centerX = _getBezierCenter2[0],\r\n      centerY = _getBezierCenter2[1];\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(BaseEdge, {\r\n    path: path,\r\n    centerX: centerX,\r\n    centerY: centerY,\r\n    label: label,\r\n    labelStyle: labelStyle,\r\n    labelShowBg: labelShowBg,\r\n    labelBgStyle: labelBgStyle,\r\n    labelBgPadding: labelBgPadding,\r\n    labelBgBorderRadius: labelBgBorderRadius,\r\n    style: style,\r\n    markerEnd: markerEnd,\r\n    markerStart: markerStart\r\n  });\r\n});\r\n\r\nvar NodeIdContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\r\nvar Provider = NodeIdContext.Provider;\r\nNodeIdContext.Consumer;\r\n\r\nfunction checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc) {\r\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\r\n  var elementBelowIsTarget = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target')) || false;\r\n  var elementBelowIsSource = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source')) || false;\r\n  var result = {\r\n    elementBelow: elementBelow,\r\n    isValid: false,\r\n    connection: {\r\n      source: null,\r\n      target: null,\r\n      sourceHandle: null,\r\n      targetHandle: null\r\n    },\r\n    isHoveringHandle: false\r\n  };\r\n\r\n  if (elementBelow && (elementBelowIsTarget || elementBelowIsSource)) {\r\n    result.isHoveringHandle = true; // in strict mode we don't allow target to target or source to source connections\r\n\r\n    var isValid = connectionMode === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.C.Strict ? isTarget && elementBelowIsSource || !isTarget && elementBelowIsTarget : true;\r\n\r\n    if (isValid) {\r\n      var elementBelowNodeId = elementBelow.getAttribute('data-nodeid');\r\n      var elementBelowHandleId = elementBelow.getAttribute('data-handleid');\r\n      var connection = isTarget ? {\r\n        source: elementBelowNodeId,\r\n        sourceHandle: elementBelowHandleId,\r\n        target: nodeId,\r\n        targetHandle: handleId\r\n      } : {\r\n        source: nodeId,\r\n        sourceHandle: handleId,\r\n        target: elementBelowNodeId,\r\n        targetHandle: elementBelowHandleId\r\n      };\r\n      result.connection = connection;\r\n      result.isValid = isValidConnection(connection);\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction resetRecentHandle(hoveredHandle) {\r\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-valid');\r\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-connecting');\r\n}\r\n\r\nfunction onMouseDown(event, handleId, nodeId, setState, onConnect, isTarget, isValidConnection, connectionMode, elementEdgeUpdaterType, onEdgeUpdateEnd, onConnectStart, onConnectStop, onConnectEnd) {\r\n  var reactFlowNode = event.target.closest('.react-flow'); // when react-flow is used inside a shadow root we can't use document\r\n\r\n  var doc = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.g)(event.target);\r\n\r\n  if (!doc) {\r\n    return;\r\n  }\r\n\r\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\r\n  var elementBelowIsTarget = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target');\r\n  var elementBelowIsSource = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source');\r\n\r\n  if (!reactFlowNode || !elementBelowIsTarget && !elementBelowIsSource && !elementEdgeUpdaterType) {\r\n    return;\r\n  }\r\n\r\n  var handleType = elementEdgeUpdaterType ? elementEdgeUpdaterType : elementBelowIsTarget ? 'target' : 'source';\r\n  var containerBounds = reactFlowNode.getBoundingClientRect();\r\n  var recentHoveredHandle;\r\n  setState({\r\n    connectionPosition: {\r\n      x: event.clientX - containerBounds.left,\r\n      y: event.clientY - containerBounds.top\r\n    },\r\n    connectionNodeId: nodeId,\r\n    connectionHandleId: handleId,\r\n    connectionHandleType: handleType\r\n  });\r\n  onConnectStart === null || onConnectStart === void 0 ? void 0 : onConnectStart(event, {\r\n    nodeId: nodeId,\r\n    handleId: handleId,\r\n    handleType: handleType\r\n  });\r\n\r\n  function onMouseMove(event) {\r\n    setState({\r\n      connectionPosition: {\r\n        x: event.clientX - containerBounds.left,\r\n        y: event.clientY - containerBounds.top\r\n      }\r\n    });\r\n\r\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\r\n        connection = _checkElementBelowIsV.connection,\r\n        elementBelow = _checkElementBelowIsV.elementBelow,\r\n        isValid = _checkElementBelowIsV.isValid,\r\n        isHoveringHandle = _checkElementBelowIsV.isHoveringHandle;\r\n\r\n    if (!isHoveringHandle) {\r\n      return resetRecentHandle(recentHoveredHandle);\r\n    }\r\n\r\n    var isOwnHandle = connection.source === connection.target;\r\n\r\n    if (!isOwnHandle && elementBelow) {\r\n      recentHoveredHandle = elementBelow;\r\n      elementBelow.classList.add('react-flow__handle-connecting');\r\n      elementBelow.classList.toggle('react-flow__handle-valid', isValid);\r\n    }\r\n  }\r\n\r\n  function onMouseUp(event) {\r\n    var _checkElementBelowIsV2 = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\r\n        connection = _checkElementBelowIsV2.connection,\r\n        isValid = _checkElementBelowIsV2.isValid;\r\n\r\n    onConnectStop === null || onConnectStop === void 0 ? void 0 : onConnectStop(event);\r\n\r\n    if (isValid) {\r\n      onConnect === null || onConnect === void 0 ? void 0 : onConnect(connection);\r\n    }\r\n\r\n    onConnectEnd === null || onConnectEnd === void 0 ? void 0 : onConnectEnd(event);\r\n\r\n    if (elementEdgeUpdaterType && onEdgeUpdateEnd) {\r\n      onEdgeUpdateEnd(event);\r\n    }\r\n\r\n    resetRecentHandle(recentHoveredHandle);\r\n    setState({\r\n      connectionNodeId: null,\r\n      connectionHandleId: null,\r\n      connectionHandleType: null\r\n    });\r\n    doc.removeEventListener('mousemove', onMouseMove);\r\n    doc.removeEventListener('mouseup', onMouseUp);\r\n  }\r\n\r\n  doc.addEventListener('mousemove', onMouseMove);\r\n  doc.addEventListener('mouseup', onMouseUp);\r\n}\r\n\r\nvar _excluded$1 = [\"type\", \"position\", \"isValidConnection\", \"isConnectable\", \"id\", \"onConnect\", \"children\", \"className\"];\r\n\r\nfunction ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$8(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nvar alwaysValid = function alwaysValid() {\r\n  return true;\r\n};\r\n\r\nvar selector$d = function selector(s) {\r\n  return {\r\n    onConnectAction: s.onConnect,\r\n    onConnectStart: s.onConnectStart,\r\n    onConnectStop: s.onConnectStop,\r\n    onConnectEnd: s.onConnectEnd,\r\n    connectionMode: s.connectionMode,\r\n    connectionStartHandle: s.connectionStartHandle,\r\n    connectOnClick: s.connectOnClick,\r\n    hasDefaultEdges: s.hasDefaultEdges\r\n  };\r\n};\r\n\r\nvar Handle = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (_ref, ref) {\r\n  var _ref$type = _ref.type,\r\n      type = _ref$type === void 0 ? 'source' : _ref$type,\r\n      _ref$position = _ref.position,\r\n      position = _ref$position === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$position,\r\n      _ref$isValidConnectio = _ref.isValidConnection,\r\n      isValidConnection = _ref$isValidConnectio === void 0 ? alwaysValid : _ref$isValidConnectio,\r\n      _ref$isConnectable = _ref.isConnectable,\r\n      isConnectable = _ref$isConnectable === void 0 ? true : _ref$isConnectable,\r\n      id = _ref.id,\r\n      onConnect = _ref.onConnect,\r\n      children = _ref.children,\r\n      className = _ref.className,\r\n      rest = (0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__.a)(_ref, _excluded$1);\r\n\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n  var nodeId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(NodeIdContext);\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$d, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      onConnectAction = _useStore.onConnectAction,\r\n      onConnectStart = _useStore.onConnectStart,\r\n      onConnectStop = _useStore.onConnectStop,\r\n      onConnectEnd = _useStore.onConnectEnd,\r\n      connectionMode = _useStore.connectionMode,\r\n      connectionStartHandle = _useStore.connectionStartHandle,\r\n      connectOnClick = _useStore.connectOnClick,\r\n      hasDefaultEdges = _useStore.hasDefaultEdges;\r\n\r\n  var handleId = id || null;\r\n  var isTarget = type === 'target';\r\n  var onConnectExtended = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (params) {\r\n    var _store$getState = store.getState(),\r\n        defaultEdgeOptions = _store$getState.defaultEdgeOptions;\r\n\r\n    var edgeParams = _objectSpread$8(_objectSpread$8({}, defaultEdgeOptions), params);\r\n\r\n    if (hasDefaultEdges) {\r\n      var _store$getState2 = store.getState(),\r\n          edges = _store$getState2.edges;\r\n\r\n      store.setState({\r\n        edges: (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.c)(edgeParams, edges)\r\n      });\r\n    }\r\n\r\n    onConnectAction === null || onConnectAction === void 0 ? void 0 : onConnectAction(edgeParams);\r\n    onConnect === null || onConnect === void 0 ? void 0 : onConnect(edgeParams);\r\n  }, [hasDefaultEdges, onConnectAction, onConnect]);\r\n  var onMouseDownHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    if (event.button === 0) {\r\n      onMouseDown(event, handleId, nodeId, store.setState, onConnectExtended, isTarget, isValidConnection, connectionMode, undefined, undefined, onConnectStart, onConnectStop, onConnectEnd);\r\n    }\r\n  }, [handleId, nodeId, onConnectExtended, isTarget, isValidConnection, connectionMode, onConnectStart, onConnectStop, onConnectEnd]);\r\n  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    if (!connectionStartHandle) {\r\n      onConnectStart === null || onConnectStart === void 0 ? void 0 : onConnectStart(event, {\r\n        nodeId: nodeId,\r\n        handleId: handleId,\r\n        handleType: type\r\n      });\r\n      store.setState({\r\n        connectionStartHandle: {\r\n          nodeId: nodeId,\r\n          type: type,\r\n          handleId: handleId\r\n        }\r\n      });\r\n    } else {\r\n      var doc = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.g)(event.target);\r\n\r\n      var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, connectionStartHandle.type === 'target', connectionStartHandle.nodeId, connectionStartHandle.handleId || null, isValidConnection, doc),\r\n          connection = _checkElementBelowIsV.connection,\r\n          isValid = _checkElementBelowIsV.isValid;\r\n\r\n      onConnectStop === null || onConnectStop === void 0 ? void 0 : onConnectStop(event);\r\n\r\n      if (isValid) {\r\n        onConnectExtended(connection);\r\n      }\r\n\r\n      onConnectEnd === null || onConnectEnd === void 0 ? void 0 : onConnectEnd(event);\r\n      store.setState({\r\n        connectionStartHandle: null\r\n      });\r\n    }\r\n  }, [connectionStartHandle, onConnectStart, onConnectExtended, onConnectStop, onConnectEnd, isTarget, nodeId, handleId, type]);\r\n  var handleClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__handle', \"react-flow__handle-\".concat(position), 'nodrag', className, {\r\n    source: !isTarget,\r\n    target: isTarget,\r\n    connectable: isConnectable,\r\n    connecting: (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.nodeId) === nodeId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.handleId) === handleId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.type) === type\r\n  }]);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", _objectSpread$8({\r\n    \"data-handleid\": handleId,\r\n    \"data-nodeid\": nodeId,\r\n    \"data-handlepos\": position,\r\n    className: handleClasses,\r\n    onMouseDown: onMouseDownHandler,\r\n    onClick: connectOnClick ? onClick : undefined,\r\n    ref: ref\r\n  }, rest), children);\r\n});\r\nHandle.displayName = 'Handle';\r\nvar Handle$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(Handle);\r\n\r\nvar DefaultNode = function DefaultNode(_ref) {\r\n  var data = _ref.data,\r\n      isConnectable = _ref.isConnectable,\r\n      _ref$targetPosition = _ref.targetPosition,\r\n      targetPosition = _ref$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$targetPosition,\r\n      _ref$sourcePosition = _ref.sourcePosition,\r\n      sourcePosition = _ref$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref$sourcePosition;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Handle$1, {\r\n    type: \"target\",\r\n    position: targetPosition,\r\n    isConnectable: isConnectable\r\n  }), data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Handle$1, {\r\n    type: \"source\",\r\n    position: sourcePosition,\r\n    isConnectable: isConnectable\r\n  }));\r\n};\r\n\r\nDefaultNode.displayName = 'DefaultNode';\r\nvar DefaultNode$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(DefaultNode);\r\n\r\nvar InputNode = function InputNode(_ref) {\r\n  var data = _ref.data,\r\n      isConnectable = _ref.isConnectable,\r\n      _ref$sourcePosition = _ref.sourcePosition,\r\n      sourcePosition = _ref$sourcePosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom : _ref$sourcePosition;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Handle$1, {\r\n    type: \"source\",\r\n    position: sourcePosition,\r\n    isConnectable: isConnectable\r\n  }));\r\n};\r\n\r\nInputNode.displayName = 'InputNode';\r\nvar InputNode$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(InputNode);\r\n\r\nvar OutputNode = function OutputNode(_ref) {\r\n  var data = _ref.data,\r\n      isConnectable = _ref.isConnectable,\r\n      _ref$targetPosition = _ref.targetPosition,\r\n      targetPosition = _ref$targetPosition === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top : _ref$targetPosition;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Handle$1, {\r\n    type: \"target\",\r\n    position: targetPosition,\r\n    isConnectable: isConnectable\r\n  }), data === null || data === void 0 ? void 0 : data.label);\r\n};\r\n\r\nOutputNode.displayName = 'OutputNode';\r\nvar OutputNode$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(OutputNode);\r\n\r\nvar selector$c = function selector(s) {\r\n  return {\r\n    selectedNodes: Array.from(s.nodeInternals.values()).filter(function (n) {\r\n      return n.selected;\r\n    }),\r\n    selectedEdges: s.edges.filter(function (e) {\r\n      return e.selected;\r\n    })\r\n  };\r\n};\r\n\r\nvar areEqual = function areEqual(objA, objB) {\r\n  var selectedNodeIdsA = objA.selectedNodes.map(function (n) {\r\n    return n.id;\r\n  });\r\n  var selectedNodeIdsB = objB.selectedNodes.map(function (n) {\r\n    return n.id;\r\n  });\r\n  var selectedEdgeIdsA = objA.selectedEdges.map(function (e) {\r\n    return e.id;\r\n  });\r\n  var selectedEdgeIdsB = objB.selectedEdges.map(function (e) {\r\n    return e.id;\r\n  });\r\n  return (0,zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(selectedNodeIdsA, selectedNodeIdsB) && (0,zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(selectedEdgeIdsA, selectedEdgeIdsB);\r\n}; // This is just a helper component for calling the onSelectionChange listener.\r\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\r\n\r\n\r\nfunction SelectionListener(_ref) {\r\n  var onSelectionChange = _ref.onSelectionChange;\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$c, areEqual),\r\n      selectedNodes = _useStore.selectedNodes,\r\n      selectedEdges = _useStore.selectedEdges;\r\n\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    onSelectionChange({\r\n      nodes: selectedNodes,\r\n      edges: selectedEdges\r\n    });\r\n  }, [selectedNodes, selectedEdges]);\r\n  return null;\r\n}\r\n\r\nvar SelectionListener$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(SelectionListener);\r\n\r\nvar selector$b = function selector(s) {\r\n  return {\r\n    setNodes: s.setNodes,\r\n    setEdges: s.setEdges,\r\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\r\n    setMinZoom: s.setMinZoom,\r\n    setMaxZoom: s.setMaxZoom,\r\n    setTranslateExtent: s.setTranslateExtent,\r\n    setNodeExtent: s.setNodeExtent,\r\n    reset: s.reset\r\n  };\r\n};\r\n\r\nfunction useStoreUpdater(value, setStoreState) {\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (typeof value !== 'undefined') {\r\n      setStoreState(value);\r\n    }\r\n  }, [value]);\r\n}\r\n\r\nfunction useDirectStoreUpdater(key, value, setState) {\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (typeof value !== 'undefined') {\r\n      // @ts-ignore\r\n      setState((0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)({}, key, value));\r\n    }\r\n  }, [value]);\r\n}\r\n\r\nvar StoreUpdater = function StoreUpdater(_ref) {\r\n  var nodes = _ref.nodes,\r\n      edges = _ref.edges,\r\n      defaultNodes = _ref.defaultNodes,\r\n      defaultEdges = _ref.defaultEdges,\r\n      onConnect = _ref.onConnect,\r\n      onConnectStart = _ref.onConnectStart,\r\n      onConnectStop = _ref.onConnectStop,\r\n      onConnectEnd = _ref.onConnectEnd,\r\n      nodesDraggable = _ref.nodesDraggable,\r\n      nodesConnectable = _ref.nodesConnectable,\r\n      minZoom = _ref.minZoom,\r\n      maxZoom = _ref.maxZoom,\r\n      nodeExtent = _ref.nodeExtent,\r\n      onNodesChange = _ref.onNodesChange,\r\n      onEdgesChange = _ref.onEdgesChange,\r\n      elementsSelectable = _ref.elementsSelectable,\r\n      connectionMode = _ref.connectionMode,\r\n      snapGrid = _ref.snapGrid,\r\n      snapToGrid = _ref.snapToGrid,\r\n      translateExtent = _ref.translateExtent,\r\n      connectOnClick = _ref.connectOnClick,\r\n      defaultEdgeOptions = _ref.defaultEdgeOptions,\r\n      fitView = _ref.fitView,\r\n      fitViewOptions = _ref.fitViewOptions,\r\n      onNodesDelete = _ref.onNodesDelete,\r\n      onEdgesDelete = _ref.onEdgesDelete;\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$b, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      setNodes = _useStore.setNodes,\r\n      setEdges = _useStore.setEdges,\r\n      setDefaultNodesAndEdges = _useStore.setDefaultNodesAndEdges,\r\n      setMinZoom = _useStore.setMinZoom,\r\n      setMaxZoom = _useStore.setMaxZoom,\r\n      setTranslateExtent = _useStore.setTranslateExtent,\r\n      setNodeExtent = _useStore.setNodeExtent,\r\n      reset = _useStore.reset;\r\n\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    setDefaultNodesAndEdges(defaultNodes, defaultEdges);\r\n    return function () {\r\n      reset();\r\n    };\r\n  }, []);\r\n  useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\r\n  useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\r\n  useDirectStoreUpdater('onConnect', onConnect, store.setState);\r\n  useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\r\n  useDirectStoreUpdater('onConnectStop', onConnectStop, store.setState);\r\n  useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\r\n  useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\r\n  useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\r\n  useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\r\n  useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\r\n  useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\r\n  useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\r\n  useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\r\n  useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\r\n  useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\r\n  useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\r\n  useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\r\n  useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\r\n  useStoreUpdater(nodes, setNodes);\r\n  useStoreUpdater(edges, setEdges);\r\n  useStoreUpdater(defaultNodes, setNodes);\r\n  useStoreUpdater(defaultEdges, setEdges);\r\n  useStoreUpdater(minZoom, setMinZoom);\r\n  useStoreUpdater(maxZoom, setMaxZoom);\r\n  useStoreUpdater(translateExtent, setTranslateExtent);\r\n  useStoreUpdater(nodeExtent, setNodeExtent);\r\n  return null;\r\n};\r\n\r\nvar css_248z$1 = \".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}\";\r\n\r\nvar css_248z = \".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-default.selected:hover,.react-flow__node-group.selected,.react-flow__node-group.selected:hover,.react-flow__node-input.selected,.react-flow__node-input.selected:hover,.react-flow__node-output.selected,.react-flow__node-output.selected:hover{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__node-group.selected,.react-flow__node-group.selected:hover{box-shadow:0 0 0 .5px #1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;position:absolute;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}\";\r\n\r\nvar shiftX = function shiftX(x, shift, position) {\r\n  if (position === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left) return x - shift;\r\n  if (position === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right) return x + shift;\r\n  return x;\r\n};\r\n\r\nvar shiftY = function shiftY(y, shift, position) {\r\n  if (position === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top) return y - shift;\r\n  if (position === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom) return y + shift;\r\n  return y;\r\n};\r\n\r\nvar EdgeAnchor = function EdgeAnchor(_ref) {\r\n  var className = _ref.className,\r\n      position = _ref.position,\r\n      centerX = _ref.centerX,\r\n      centerY = _ref.centerY,\r\n      _ref$radius = _ref.radius,\r\n      radius = _ref$radius === void 0 ? 10 : _ref$radius;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"circle\", {\r\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__edgeupdater', className]),\r\n    cx: shiftX(centerX, radius, position),\r\n    cy: shiftY(centerY, radius, position),\r\n    r: radius,\r\n    stroke: \"transparent\",\r\n    fill: \"transparent\"\r\n  });\r\n};\r\n\r\nvar selector$a = function selector(s) {\r\n  return {\r\n    addSelectedEdges: s.addSelectedEdges,\r\n    connectionMode: s.connectionMode\r\n  };\r\n};\r\n\r\nvar wrapEdge = (function (EdgeComponent) {\r\n  var EdgeWrapper = function EdgeWrapper(_ref) {\r\n    var id = _ref.id,\r\n        className = _ref.className,\r\n        type = _ref.type,\r\n        data = _ref.data,\r\n        onClick = _ref.onClick,\r\n        onEdgeDoubleClick = _ref.onEdgeDoubleClick,\r\n        selected = _ref.selected,\r\n        animated = _ref.animated,\r\n        label = _ref.label,\r\n        labelStyle = _ref.labelStyle,\r\n        labelShowBg = _ref.labelShowBg,\r\n        labelBgStyle = _ref.labelBgStyle,\r\n        labelBgPadding = _ref.labelBgPadding,\r\n        labelBgBorderRadius = _ref.labelBgBorderRadius,\r\n        style = _ref.style,\r\n        source = _ref.source,\r\n        target = _ref.target,\r\n        sourceX = _ref.sourceX,\r\n        sourceY = _ref.sourceY,\r\n        targetX = _ref.targetX,\r\n        targetY = _ref.targetY,\r\n        sourcePosition = _ref.sourcePosition,\r\n        targetPosition = _ref.targetPosition,\r\n        elementsSelectable = _ref.elementsSelectable,\r\n        hidden = _ref.hidden,\r\n        sourceHandleId = _ref.sourceHandleId,\r\n        targetHandleId = _ref.targetHandleId,\r\n        onContextMenu = _ref.onContextMenu,\r\n        onMouseEnter = _ref.onMouseEnter,\r\n        onMouseMove = _ref.onMouseMove,\r\n        onMouseLeave = _ref.onMouseLeave,\r\n        edgeUpdaterRadius = _ref.edgeUpdaterRadius,\r\n        onEdgeUpdate = _ref.onEdgeUpdate,\r\n        onEdgeUpdateStart = _ref.onEdgeUpdateStart,\r\n        onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\r\n        markerEnd = _ref.markerEnd,\r\n        markerStart = _ref.markerStart;\r\n    var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n\r\n    var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$a, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n        addSelectedEdges = _useStore.addSelectedEdges,\r\n        connectionMode = _useStore.connectionMode;\r\n\r\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),\r\n        _useState2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\r\n        updating = _useState2[0],\r\n        setUpdating = _useState2[1];\r\n\r\n    var inactive = !elementsSelectable && !onClick;\r\n    var handleEdgeUpdate = typeof onEdgeUpdate !== 'undefined';\r\n    var edgeClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__edge', \"react-flow__edge-\".concat(type), className, {\r\n      selected: selected,\r\n      animated: animated,\r\n      inactive: inactive,\r\n      updating: updating\r\n    }]);\r\n    var edgeElement = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n      var el = {\r\n        id: id,\r\n        source: source,\r\n        target: target,\r\n        type: type\r\n      };\r\n\r\n      if (sourceHandleId) {\r\n        el.sourceHandle = sourceHandleId;\r\n      }\r\n\r\n      if (targetHandleId) {\r\n        el.targetHandle = targetHandleId;\r\n      }\r\n\r\n      if (typeof data !== 'undefined') {\r\n        el.data = data;\r\n      }\r\n\r\n      return el;\r\n    }, [id, source, target, type, sourceHandleId, targetHandleId, data]);\r\n    var onEdgeClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      if (elementsSelectable) {\r\n        store.setState({\r\n          nodesSelectionActive: false\r\n        });\r\n        addSelectedEdges([edgeElement.id]);\r\n      }\r\n\r\n      onClick === null || onClick === void 0 ? void 0 : onClick(event, edgeElement);\r\n    }, [elementsSelectable, edgeElement, onClick]);\r\n    var onEdgeDoubleClickHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      onEdgeDoubleClick === null || onEdgeDoubleClick === void 0 ? void 0 : onEdgeDoubleClick(event, edgeElement);\r\n    }, [edgeElement, onEdgeDoubleClick]);\r\n    var onEdgeContextMenu = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      onContextMenu === null || onContextMenu === void 0 ? void 0 : onContextMenu(event, edgeElement);\r\n    }, [edgeElement, onContextMenu]);\r\n    var onEdgeMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(event, edgeElement);\r\n    }, [edgeElement, onContextMenu]);\r\n    var onEdgeMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove(event, edgeElement);\r\n    }, [edgeElement, onContextMenu]);\r\n    var onEdgeMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(event, edgeElement);\r\n    }, [edgeElement, onContextMenu]);\r\n    var handleEdgeUpdater = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event, isSourceHandle) {\r\n      var nodeId = isSourceHandle ? target : source;\r\n      var handleId = isSourceHandle ? targetHandleId : sourceHandleId;\r\n\r\n      var isValidConnection = function isValidConnection() {\r\n        return true;\r\n      };\r\n\r\n      var isTarget = isSourceHandle;\r\n      onEdgeUpdateStart === null || onEdgeUpdateStart === void 0 ? void 0 : onEdgeUpdateStart(event, edgeElement);\r\n\r\n      var _onEdgeUpdate = onEdgeUpdateEnd ? function (evt) {\r\n        return onEdgeUpdateEnd(evt, edgeElement);\r\n      } : undefined;\r\n\r\n      var onConnectEdge = function onConnectEdge(connection) {\r\n        var _store$getState = store.getState(),\r\n            edges = _store$getState.edges;\r\n\r\n        var edge = edges.find(function (e) {\r\n          return e.id === id;\r\n        });\r\n\r\n        if (edge && onEdgeUpdate) {\r\n          onEdgeUpdate(edge, connection);\r\n        }\r\n      };\r\n\r\n      onMouseDown(event, handleId, nodeId, store.setState, onConnectEdge, isTarget, isValidConnection, connectionMode, isSourceHandle ? 'target' : 'source', _onEdgeUpdate, store.getState);\r\n    }, [id, source, target, type, sourceHandleId, targetHandleId, edgeElement, onEdgeUpdate]);\r\n    var onEdgeUpdaterSourceMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      handleEdgeUpdater(event, true);\r\n    }, [id, source, sourceHandleId, handleEdgeUpdater]);\r\n    var onEdgeUpdaterTargetMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      handleEdgeUpdater(event, false);\r\n    }, [id, target, targetHandleId, handleEdgeUpdater]);\r\n    var onEdgeUpdaterMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\r\n      return setUpdating(true);\r\n    }, [setUpdating]);\r\n    var onEdgeUpdaterMouseOut = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\r\n      return setUpdating(false);\r\n    }, [setUpdating]);\r\n    var markerStartUrl = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n      return \"url(#\".concat((0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.d)(markerStart), \")\");\r\n    }, [markerStart]);\r\n    var markerEndUrl = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n      return \"url(#\".concat((0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.d)(markerEnd), \")\");\r\n    }, [markerEnd]);\r\n\r\n    if (hidden) {\r\n      return null;\r\n    }\r\n\r\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"g\", {\r\n      className: edgeClasses,\r\n      onClick: onEdgeClick,\r\n      onDoubleClick: onEdgeDoubleClickHandler,\r\n      onContextMenu: onEdgeContextMenu,\r\n      onMouseEnter: onEdgeMouseEnter,\r\n      onMouseMove: onEdgeMouseMove,\r\n      onMouseLeave: onEdgeMouseLeave\r\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(EdgeComponent, {\r\n      id: id,\r\n      source: source,\r\n      target: target,\r\n      selected: selected,\r\n      animated: animated,\r\n      label: label,\r\n      labelStyle: labelStyle,\r\n      labelShowBg: labelShowBg,\r\n      labelBgStyle: labelBgStyle,\r\n      labelBgPadding: labelBgPadding,\r\n      labelBgBorderRadius: labelBgBorderRadius,\r\n      data: data,\r\n      style: style,\r\n      sourceX: sourceX,\r\n      sourceY: sourceY,\r\n      targetX: targetX,\r\n      targetY: targetY,\r\n      sourcePosition: sourcePosition,\r\n      targetPosition: targetPosition,\r\n      sourceHandleId: sourceHandleId,\r\n      targetHandleId: targetHandleId,\r\n      markerStart: markerStartUrl,\r\n      markerEnd: markerEndUrl\r\n    }), handleEdgeUpdate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"g\", {\r\n      onMouseDown: onEdgeUpdaterSourceMouseDown,\r\n      onMouseEnter: onEdgeUpdaterMouseEnter,\r\n      onMouseOut: onEdgeUpdaterMouseOut\r\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(EdgeAnchor, {\r\n      position: sourcePosition,\r\n      centerX: sourceX,\r\n      centerY: sourceY,\r\n      radius: edgeUpdaterRadius\r\n    })), handleEdgeUpdate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"g\", {\r\n      onMouseDown: onEdgeUpdaterTargetMouseDown,\r\n      onMouseEnter: onEdgeUpdaterMouseEnter,\r\n      onMouseOut: onEdgeUpdaterMouseOut\r\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(EdgeAnchor, {\r\n      position: targetPosition,\r\n      centerX: targetX,\r\n      centerY: targetY,\r\n      radius: edgeUpdaterRadius\r\n    })));\r\n  };\r\n\r\n  EdgeWrapper.displayName = 'EdgeWrapper';\r\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(EdgeWrapper);\r\n});\r\n\r\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$7(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\nfunction createEdgeTypes(edgeTypes) {\r\n  var standardTypes = {\r\n    \"default\": wrapEdge(edgeTypes[\"default\"] || BezierEdge),\r\n    straight: wrapEdge(edgeTypes.bezier || StraightEdge),\r\n    step: wrapEdge(edgeTypes.step || StepEdge),\r\n    smoothstep: wrapEdge(edgeTypes.step || SmoothStepEdge),\r\n    simplebezier: wrapEdge(edgeTypes.simplebezier || SimpleBezierEdge)\r\n  };\r\n  var wrappedTypes = {};\r\n  var specialTypes = Object.keys(edgeTypes).filter(function (k) {\r\n    return !['default', 'bezier'].includes(k);\r\n  }).reduce(function (res, key) {\r\n    res[key] = wrapEdge(edgeTypes[key] || BezierEdge);\r\n    return res;\r\n  }, wrappedTypes);\r\n  return _objectSpread$7(_objectSpread$7({}, standardTypes), specialTypes);\r\n}\r\nfunction getHandlePosition(position, nodeRect) {\r\n  var handle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\r\n  var x = ((handle === null || handle === void 0 ? void 0 : handle.x) || 0) + nodeRect.x;\r\n  var y = ((handle === null || handle === void 0 ? void 0 : handle.y) || 0) + nodeRect.y;\r\n  var width = (handle === null || handle === void 0 ? void 0 : handle.width) || nodeRect.width;\r\n  var height = (handle === null || handle === void 0 ? void 0 : handle.height) || nodeRect.height;\r\n\r\n  switch (position) {\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top:\r\n      return {\r\n        x: x + width / 2,\r\n        y: y\r\n      };\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right:\r\n      return {\r\n        x: x + width,\r\n        y: y + height / 2\r\n      };\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom:\r\n      return {\r\n        x: x + width / 2,\r\n        y: y + height\r\n      };\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left:\r\n      return {\r\n        x: x,\r\n        y: y + height / 2\r\n      };\r\n  }\r\n}\r\nfunction getHandle(bounds, handleId) {\r\n  if (!bounds) {\r\n    return null;\r\n  } // there is no handleId when there are no multiple handles/ handles with ids\r\n  // so we just pick the first one\r\n\r\n\r\n  var handle = null;\r\n\r\n  if (bounds.length === 1 || !handleId) {\r\n    handle = bounds[0];\r\n  } else if (handleId) {\r\n    handle = bounds.find(function (d) {\r\n      return d.id === handleId;\r\n    });\r\n  }\r\n\r\n  return typeof handle === 'undefined' ? null : handle;\r\n}\r\nvar getEdgePositions = function getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) {\r\n  var sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\r\n  var targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\r\n  return {\r\n    sourceX: sourceHandlePos.x,\r\n    sourceY: sourceHandlePos.y,\r\n    targetX: targetHandlePos.x,\r\n    targetY: targetHandlePos.y\r\n  };\r\n};\r\nfunction isEdgeVisible(_ref) {\r\n  var sourcePos = _ref.sourcePos,\r\n      targetPos = _ref.targetPos,\r\n      sourceWidth = _ref.sourceWidth,\r\n      sourceHeight = _ref.sourceHeight,\r\n      targetWidth = _ref.targetWidth,\r\n      targetHeight = _ref.targetHeight,\r\n      width = _ref.width,\r\n      height = _ref.height,\r\n      transform = _ref.transform;\r\n  var edgeBox = {\r\n    x: Math.min(sourcePos.x, targetPos.x),\r\n    y: Math.min(sourcePos.y, targetPos.y),\r\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\r\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\r\n  };\r\n\r\n  if (edgeBox.x === edgeBox.x2) {\r\n    edgeBox.x2 += 1;\r\n  }\r\n\r\n  if (edgeBox.y === edgeBox.y2) {\r\n    edgeBox.y2 += 1;\r\n  }\r\n\r\n  var viewBox = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.r)({\r\n    x: (0 - transform[0]) / transform[2],\r\n    y: (0 - transform[1]) / transform[2],\r\n    width: width / transform[2],\r\n    height: height / transform[2]\r\n  });\r\n  var xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\r\n  var yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\r\n  var overlappingArea = Math.ceil(xOverlap * yOverlap);\r\n  return overlappingArea > 0;\r\n}\r\nfunction getNodeData(nodeInternals, nodeId) {\r\n  var _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4;\r\n\r\n  var node = nodeInternals.get(nodeId);\r\n  var handleBounds = node === null || node === void 0 ? void 0 : node.handleBounds;\r\n  var isInvalid = !node || !node.handleBounds || !node.width || !node.height || typeof ((_node$positionAbsolut = node.positionAbsolute) === null || _node$positionAbsolut === void 0 ? void 0 : _node$positionAbsolut.x) === 'undefined' || typeof ((_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.y) === 'undefined';\r\n  return [{\r\n    x: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut3 = node.positionAbsolute) === null || _node$positionAbsolut3 === void 0 ? void 0 : _node$positionAbsolut3.x) || 0,\r\n    y: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) || 0,\r\n    width: (node === null || node === void 0 ? void 0 : node.width) || 0,\r\n    height: (node === null || node === void 0 ? void 0 : node.height) || 0\r\n  }, handleBounds || null, !isInvalid];\r\n}\r\n\r\nvar doc = typeof document !== 'undefined' ? document : null; // the keycode can be a string 'a' or an array of strings ['a', 'a+d']\r\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\r\n// an array means different possibilites. Explainer: ['a', 'd+s'] here the\r\n// user can use the single key 'a' or the combination 'd' + 's'\r\n\r\nvar useKeyPress = (function () {\r\n  var keyCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\r\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\r\n    target: doc\r\n  };\r\n\r\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false),\r\n      _useState2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\r\n      keyPressed = _useState2[0],\r\n      setKeyPressed = _useState2[1]; // we need to remember the pressed keys in order to support combinations\r\n\r\n\r\n  var pressedKeys = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(new Set([])); // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\r\n  // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\r\n  // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\r\n  // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\r\n  // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\r\n  // we can't find it in the list of keysToWatch.\r\n\r\n  var _useMemo = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    if (keyCode !== null) {\r\n      var keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\r\n      var keys = keyCodeArr.filter(function (kc) {\r\n        return typeof kc === 'string';\r\n      }).map(function (kc) {\r\n        return kc.split('+');\r\n      });\r\n      var keysFlat = keys.reduce(function (res, item) {\r\n        return res.concat.apply(res, (0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__._)(item));\r\n      }, []);\r\n      return [keys, keysFlat];\r\n    }\r\n\r\n    return [[], []];\r\n  }, [keyCode]),\r\n      _useMemo2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useMemo, 2),\r\n      keyCodes = _useMemo2[0],\r\n      keysToWatch = _useMemo2[1];\r\n\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (keyCode !== null) {\r\n      var _options$target, _options$target2;\r\n\r\n      var downHandler = function downHandler(event) {\r\n        if (isInputDOMNode(event)) {\r\n          return false;\r\n        }\r\n\r\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\r\n        pressedKeys.current.add(event[keyOrCode]);\r\n\r\n        if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\r\n          event.preventDefault();\r\n          setKeyPressed(true);\r\n        }\r\n      };\r\n\r\n      var upHandler = function upHandler(event) {\r\n        if (isInputDOMNode(event)) {\r\n          return false;\r\n        }\r\n\r\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\r\n\r\n        if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\r\n          setKeyPressed(false);\r\n          pressedKeys.current.clear();\r\n        } else {\r\n          pressedKeys.current[\"delete\"](event[keyOrCode]);\r\n        }\r\n      };\r\n\r\n      var resetHandler = function resetHandler() {\r\n        pressedKeys.current.clear();\r\n        setKeyPressed(false);\r\n      };\r\n\r\n      options === null || options === void 0 ? void 0 : (_options$target = options.target) === null || _options$target === void 0 ? void 0 : _options$target.addEventListener('keydown', downHandler);\r\n      options === null || options === void 0 ? void 0 : (_options$target2 = options.target) === null || _options$target2 === void 0 ? void 0 : _options$target2.addEventListener('keyup', upHandler);\r\n      window.addEventListener('blur', resetHandler);\r\n      return function () {\r\n        var _options$target3, _options$target4;\r\n\r\n        options === null || options === void 0 ? void 0 : (_options$target3 = options.target) === null || _options$target3 === void 0 ? void 0 : _options$target3.removeEventListener('keydown', downHandler);\r\n        options === null || options === void 0 ? void 0 : (_options$target4 = options.target) === null || _options$target4 === void 0 ? void 0 : _options$target4.removeEventListener('keyup', upHandler);\r\n        window.removeEventListener('blur', resetHandler);\r\n      };\r\n    }\r\n  }, [keyCode, setKeyPressed]);\r\n  return keyPressed;\r\n}); // utils\r\n\r\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\r\n  return keyCodes // we only want to compare same sizes of keyCode definitions\r\n  // and pressed keys. When the user specified 'Meta' as a key somewhere\r\n  // this would also be truthy without this filter when user presses 'Meta' + 'r'\r\n  .filter(function (keys) {\r\n    return isUp || keys.length === pressedKeys.size;\r\n  }) // since we want to support multiple possibilities only one of the\r\n  // combinations need to be part of the pressed keys\r\n  .some(function (keys) {\r\n    return keys.every(function (k) {\r\n      return pressedKeys.has(k);\r\n    });\r\n  });\r\n}\r\n\r\nfunction useKeyOrCode(eventCode, keysToWatch) {\r\n  return keysToWatch.includes(eventCode) ? 'code' : 'key';\r\n}\r\n\r\nfunction isInputDOMNode(event) {\r\n  var target = event.target;\r\n  return ['INPUT', 'SELECT', 'TEXTAREA'].includes(target === null || target === void 0 ? void 0 : target.nodeName) || (target === null || target === void 0 ? void 0 : target.hasAttribute('contenteditable'));\r\n}\r\n\r\nvar selector$9 = function selector(s) {\r\n  return {\r\n    onNodesChange: s.onNodesChange,\r\n    onEdgesChange: s.onEdgesChange\r\n  };\r\n};\r\n\r\nvar useGlobalKeyHandler = (function (_ref) {\r\n  var deleteKeyCode = _ref.deleteKeyCode,\r\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode;\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$9, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      onNodesChange = _useStore.onNodesChange,\r\n      onEdgesChange = _useStore.onEdgesChange;\r\n\r\n  var deleteKeyPressed = useKeyPress(deleteKeyCode);\r\n  var multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    var _store$getState = store.getState(),\r\n        nodeInternals = _store$getState.nodeInternals,\r\n        edges = _store$getState.edges,\r\n        hasDefaultNodes = _store$getState.hasDefaultNodes,\r\n        hasDefaultEdges = _store$getState.hasDefaultEdges,\r\n        onNodesDelete = _store$getState.onNodesDelete,\r\n        onEdgesDelete = _store$getState.onEdgesDelete;\r\n\r\n    var nodes = Array.from(nodeInternals.values());\r\n    var nodesToRemove = nodes.reduce(function (res, node) {\r\n      if (!node.selected && node.parentNode && res.find(function (n) {\r\n        return n.id === node.parentNode;\r\n      })) {\r\n        res.push(node);\r\n      } else if (node.selected) {\r\n        res.push(node);\r\n      }\r\n\r\n      return res;\r\n    }, []);\r\n    var selectedEdges = edges.filter(function (e) {\r\n      return e.selected;\r\n    });\r\n\r\n    if (deleteKeyPressed && (nodesToRemove || selectedEdges)) {\r\n      var connectedEdges = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.e)(nodesToRemove, edges);\r\n      var edgesToRemove = [].concat((0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__._)(selectedEdges), (0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__._)(connectedEdges));\r\n      var edgeIdsToRemove = edgesToRemove.reduce(function (res, edge) {\r\n        if (!res.includes(edge.id)) {\r\n          res.push(edge.id);\r\n        }\r\n\r\n        return res;\r\n      }, []);\r\n\r\n      if (hasDefaultEdges || hasDefaultNodes) {\r\n        if (hasDefaultEdges) {\r\n          store.setState({\r\n            edges: edges.filter(function (e) {\r\n              return !edgeIdsToRemove.includes(e.id);\r\n            })\r\n          });\r\n        }\r\n\r\n        if (hasDefaultNodes) {\r\n          nodesToRemove.forEach(function (node) {\r\n            nodeInternals[\"delete\"](node.id);\r\n          });\r\n          store.setState({\r\n            nodeInternals: new Map(nodeInternals)\r\n          });\r\n        }\r\n      }\r\n\r\n      if (edgeIdsToRemove.length > 0) {\r\n        onEdgesDelete === null || onEdgesDelete === void 0 ? void 0 : onEdgesDelete(edgesToRemove);\r\n\r\n        if (onEdgesChange) {\r\n          var edgeChanges = edgeIdsToRemove.map(function (id) {\r\n            return {\r\n              id: id,\r\n              type: 'remove'\r\n            };\r\n          });\r\n          onEdgesChange(edgeChanges);\r\n        }\r\n      }\r\n\r\n      if (nodesToRemove.length > 0) {\r\n        onNodesDelete === null || onNodesDelete === void 0 ? void 0 : onNodesDelete(nodesToRemove);\r\n\r\n        if (onNodesChange) {\r\n          var nodeChanges = nodesToRemove.map(function (n) {\r\n            return {\r\n              id: n.id,\r\n              type: 'remove'\r\n            };\r\n          });\r\n          onNodesChange(nodeChanges);\r\n        }\r\n      }\r\n\r\n      store.setState({\r\n        nodesSelectionActive: false\r\n      });\r\n    }\r\n  }, [deleteKeyPressed, onNodesChange, onEdgesChange]);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    store.setState({\r\n      multiSelectionActive: multiSelectionKeyPressed\r\n    });\r\n  }, [multiSelectionKeyPressed]);\r\n});\r\n\r\nfunction useResizeHandler(rendererNode) {\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    var resizeObserver;\r\n\r\n    var updateDimensions = function updateDimensions() {\r\n      if (!rendererNode.current) {\r\n        return;\r\n      }\r\n\r\n      var size = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.f)(rendererNode.current);\r\n\r\n      if (size.height === 0 || size.width === 0) {\r\n        console.warn('The React Flow parent container needs a width and a height to render the graph.');\r\n      }\r\n\r\n      store.setState({\r\n        width: size.width || 500,\r\n        height: size.height || 500\r\n      });\r\n    };\r\n\r\n    updateDimensions();\r\n    window.onresize = updateDimensions;\r\n\r\n    if (rendererNode.current) {\r\n      resizeObserver = new ResizeObserver(function () {\r\n        return updateDimensions();\r\n      });\r\n      resizeObserver.observe(rendererNode.current);\r\n    }\r\n\r\n    return function () {\r\n      window.onresize = null;\r\n\r\n      if (resizeObserver && rendererNode.current) {\r\n        resizeObserver.unobserve(rendererNode.current);\r\n      }\r\n    };\r\n  }, []);\r\n}\r\n\r\nvar viewChanged = function viewChanged(prevViewport, eventViewport) {\r\n  return prevViewport.x !== eventViewport.x || prevViewport.y !== eventViewport.y || prevViewport.zoom !== eventViewport.k;\r\n};\r\n\r\nvar eventToFlowTransform = function eventToFlowTransform(eventViewport) {\r\n  return {\r\n    x: eventViewport.x,\r\n    y: eventViewport.y,\r\n    zoom: eventViewport.k\r\n  };\r\n};\r\n\r\nvar isWrappedWithClass = function isWrappedWithClass(event, className) {\r\n  return event.target.closest(\".\".concat(className));\r\n};\r\n\r\nvar selector$8 = function selector(s) {\r\n  return {\r\n    d3Zoom: s.d3Zoom,\r\n    d3Selection: s.d3Selection,\r\n    d3ZoomHandler: s.d3ZoomHandler\r\n  };\r\n};\r\n\r\nvar ZoomPane = function ZoomPane(_ref) {\r\n  var onMove = _ref.onMove,\r\n      onMoveStart = _ref.onMoveStart,\r\n      onMoveEnd = _ref.onMoveEnd,\r\n      _ref$zoomOnScroll = _ref.zoomOnScroll,\r\n      zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\r\n      _ref$zoomOnPinch = _ref.zoomOnPinch,\r\n      zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\r\n      _ref$panOnScroll = _ref.panOnScroll,\r\n      panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\r\n      _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\r\n      panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\r\n      _ref$panOnScrollMode = _ref.panOnScrollMode,\r\n      panOnScrollMode = _ref$panOnScrollMode === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.h.Free : _ref$panOnScrollMode,\r\n      _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\r\n      zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\r\n      selectionKeyPressed = _ref.selectionKeyPressed,\r\n      elementsSelectable = _ref.elementsSelectable,\r\n      _ref$panOnDrag = _ref.panOnDrag,\r\n      panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\r\n      _ref$defaultPosition = _ref.defaultPosition,\r\n      defaultPosition = _ref$defaultPosition === void 0 ? [0, 0] : _ref$defaultPosition,\r\n      _ref$defaultZoom = _ref.defaultZoom,\r\n      defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\r\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\r\n      _ref$preventScrolling = _ref.preventScrolling,\r\n      preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\r\n      children = _ref.children,\r\n      noWheelClassName = _ref.noWheelClassName,\r\n      noPanClassName = _ref.noPanClassName;\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n  var zoomPane = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\r\n  var prevTransform = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)({\r\n    x: 0,\r\n    y: 0,\r\n    zoom: 0\r\n  });\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$8, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      d3Zoom = _useStore.d3Zoom,\r\n      d3Selection = _useStore.d3Selection,\r\n      d3ZoomHandler = _useStore.d3ZoomHandler;\r\n\r\n  var zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\r\n  useResizeHandler(zoomPane);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (zoomPane.current) {\r\n      var _store$getState = store.getState(),\r\n          minZoom = _store$getState.minZoom,\r\n          maxZoom = _store$getState.maxZoom,\r\n          translateExtent = _store$getState.translateExtent;\r\n\r\n      var d3ZoomInstance = (0,d3_zoom__WEBPACK_IMPORTED_MODULE_5__.zoom)().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\r\n      var selection = (0,d3_selection__WEBPACK_IMPORTED_MODULE_6__.select)(zoomPane.current).call(d3ZoomInstance);\r\n      var clampedX = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.i)(defaultPosition[0], translateExtent[0][0], translateExtent[1][0]);\r\n      var clampedY = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.i)(defaultPosition[1], translateExtent[0][1], translateExtent[1][1]);\r\n      var clampedZoom = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.i)(defaultZoom, minZoom, maxZoom);\r\n      var updatedTransform = d3_zoom__WEBPACK_IMPORTED_MODULE_5__.zoomIdentity.translate(clampedX, clampedY).scale(clampedZoom);\r\n      d3ZoomInstance.transform(selection, updatedTransform);\r\n      store.setState({\r\n        d3Zoom: d3ZoomInstance,\r\n        d3Selection: selection,\r\n        d3ZoomHandler: selection.on('wheel.zoom'),\r\n        // we need to pass transform because zoom handler is not registered when we set the initial transform\r\n        transform: [clampedX, clampedY, clampedZoom]\r\n      });\r\n    }\r\n  }, []);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (d3Selection && d3Zoom) {\r\n      if (panOnScroll && !zoomActivationKeyPressed) {\r\n        d3Selection.on('wheel', function (event) {\r\n          if (isWrappedWithClass(event, noWheelClassName)) {\r\n            return false;\r\n          }\r\n\r\n          event.preventDefault();\r\n          event.stopImmediatePropagation();\r\n          var currentZoom = d3Selection.property('__zoom').k || 1;\r\n\r\n          if (event.ctrlKey && zoomOnPinch) {\r\n            var point = (0,d3_selection__WEBPACK_IMPORTED_MODULE_6__.pointer)(event); // taken from https://github.com/d3/d3-zoom/blob/master/src/zoom.js\r\n\r\n            var pinchDelta = -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * 10;\r\n\r\n            var _zoom = currentZoom * Math.pow(2, pinchDelta);\r\n\r\n            d3Zoom.scaleTo(d3Selection, _zoom, point);\r\n            return;\r\n          } // increase scroll speed in firefox\r\n          // firefox: deltaMode === 1; chrome: deltaMode === 0\r\n\r\n\r\n          var deltaNormalize = event.deltaMode === 1 ? 20 : 1;\r\n          var deltaX = panOnScrollMode === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.h.Vertical ? 0 : event.deltaX * deltaNormalize;\r\n          var deltaY = panOnScrollMode === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.h.Horizontal ? 0 : event.deltaY * deltaNormalize;\r\n          d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed);\r\n        }).on('wheel.zoom', null);\r\n      } else if (typeof d3ZoomHandler !== 'undefined') {\r\n        d3Selection.on('wheel', function (event) {\r\n          if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\r\n            return null;\r\n          }\r\n\r\n          event.preventDefault();\r\n        }).on('wheel.zoom', d3ZoomHandler);\r\n      }\r\n    }\r\n  }, [panOnScroll, panOnScrollMode, d3Selection, d3Zoom, d3ZoomHandler, zoomActivationKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName]);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (d3Zoom) {\r\n      if (selectionKeyPressed) {\r\n        d3Zoom.on('zoom', null);\r\n      } else {\r\n        d3Zoom.on('zoom', function (event) {\r\n          store.setState({\r\n            transform: [event.transform.x, event.transform.y, event.transform.k]\r\n          });\r\n\r\n          if (onMove) {\r\n            var flowTransform = eventToFlowTransform(event.transform);\r\n            onMove(event.sourceEvent, flowTransform);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }, [selectionKeyPressed, d3Zoom, onMove]);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (d3Zoom) {\r\n      if (onMoveStart) {\r\n        d3Zoom.on('start', function (event) {\r\n          var flowTransform = eventToFlowTransform(event.transform);\r\n          prevTransform.current = flowTransform;\r\n          onMoveStart(event.sourceEvent, flowTransform);\r\n        });\r\n      } else {\r\n        d3Zoom.on('start', null);\r\n      }\r\n    }\r\n  }, [d3Zoom, onMoveStart]);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (d3Zoom) {\r\n      if (onMoveEnd) {\r\n        d3Zoom.on('end', function (event) {\r\n          if (viewChanged(prevTransform.current, event.transform)) {\r\n            var flowTransform = eventToFlowTransform(event.transform);\r\n            prevTransform.current = flowTransform;\r\n            onMoveEnd(event.sourceEvent, flowTransform);\r\n          }\r\n        });\r\n      } else {\r\n        d3Zoom.on('end', null);\r\n      }\r\n    }\r\n  }, [d3Zoom, onMoveEnd]);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (d3Zoom) {\r\n      d3Zoom.filter(function (event) {\r\n        var zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\r\n        var pinchZoom = zoomOnPinch && event.ctrlKey; // if all interactions are disabled, we prevent all zoom events\r\n\r\n        if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\r\n          return false;\r\n        } // during a selection we prevent all other interactions\r\n\r\n\r\n        if (selectionKeyPressed) {\r\n          return false;\r\n        } // if zoom on double click is disabled, we prevent the double click event\r\n\r\n\r\n        if (!zoomOnDoubleClick && event.type === 'dblclick') {\r\n          return false;\r\n        } // if the target element is inside an element with the nowheel class, we prevent zooming\r\n\r\n\r\n        if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\r\n          return false;\r\n        } // if the target element is inside an element with the nopan class, we prevent panning\r\n\r\n\r\n        if (isWrappedWithClass(event, noPanClassName) && event.type !== 'wheel') {\r\n          return false;\r\n        }\r\n\r\n        if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\r\n          return false;\r\n        } // when there is no scroll handling enabled, we prevent all wheel events\r\n\r\n\r\n        if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\r\n          return false;\r\n        } // if the pane is not movable, we prevent dragging it with mousestart or touchstart\r\n\r\n\r\n        if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\r\n          return false;\r\n        } // default filter for d3-zoom\r\n\r\n\r\n        return (!event.ctrlKey || event.type === 'wheel') && !event.button;\r\n      });\r\n    }\r\n  }, [d3Zoom, zoomOnScroll, zoomOnPinch, panOnScroll, zoomOnDoubleClick, panOnDrag, selectionKeyPressed, elementsSelectable, zoomActivationKeyPressed]);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    className: \"react-flow__renderer react-flow__container\",\r\n    ref: zoomPane\r\n  }, children);\r\n};\r\n\r\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nfunction getMousePosition(event, containerBounds) {\r\n  return {\r\n    x: event.clientX - containerBounds.left,\r\n    y: event.clientY - containerBounds.top\r\n  };\r\n}\r\n\r\nvar selector$7 = function selector(s) {\r\n  return {\r\n    userSelectionActive: s.userSelectionActive,\r\n    elementsSelectable: s.elementsSelectable\r\n  };\r\n};\r\n\r\nvar initialRect = {\r\n  startX: 0,\r\n  startY: 0,\r\n  x: 0,\r\n  y: 0,\r\n  width: 0,\r\n  height: 0,\r\n  draw: false\r\n};\r\nvar UserSelection = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(function (_ref) {\r\n  var selectionKeyPressed = _ref.selectionKeyPressed;\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n  var prevSelectedNodesCount = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(0);\r\n  var prevSelectedEdgesCount = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(0);\r\n  var containerBounds = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\r\n\r\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(initialRect),\r\n      _useState2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\r\n      userSelectionRect = _useState2[0],\r\n      setUserSelectionRect = _useState2[1];\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$7, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      userSelectionActive = _useStore.userSelectionActive,\r\n      elementsSelectable = _useStore.elementsSelectable;\r\n\r\n  var renderUserSelectionPane = userSelectionActive || selectionKeyPressed;\r\n  var resetUserSelection = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\r\n    setUserSelectionRect(initialRect);\r\n    store.setState({\r\n      userSelectionActive: false\r\n    });\r\n    prevSelectedNodesCount.current = 0;\r\n    prevSelectedEdgesCount.current = 0;\r\n  }, []);\r\n  var onMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    var reactFlowNode = event.target.closest('.react-flow');\r\n    containerBounds.current = reactFlowNode.getBoundingClientRect();\r\n    var mousePos = getMousePosition(event, containerBounds.current);\r\n    setUserSelectionRect({\r\n      width: 0,\r\n      height: 0,\r\n      startX: mousePos.x,\r\n      startY: mousePos.y,\r\n      x: mousePos.x,\r\n      y: mousePos.y,\r\n      draw: true\r\n    });\r\n    store.setState({\r\n      userSelectionActive: true,\r\n      nodesSelectionActive: false\r\n    });\r\n  }, []);\r\n\r\n  var onMouseMove = function onMouseMove(event) {\r\n    var _userSelectionRect$st, _userSelectionRect$st2;\r\n\r\n    if (!selectionKeyPressed || !userSelectionRect.draw || !containerBounds.current) {\r\n      return;\r\n    }\r\n\r\n    var mousePos = getMousePosition(event, containerBounds.current);\r\n    var startX = (_userSelectionRect$st = userSelectionRect.startX) !== null && _userSelectionRect$st !== void 0 ? _userSelectionRect$st : 0;\r\n    var startY = (_userSelectionRect$st2 = userSelectionRect.startY) !== null && _userSelectionRect$st2 !== void 0 ? _userSelectionRect$st2 : 0;\r\n\r\n    var nextUserSelectRect = _objectSpread$6(_objectSpread$6({}, userSelectionRect), {}, {\r\n      x: mousePos.x < startX ? mousePos.x : startX,\r\n      y: mousePos.y < startY ? mousePos.y : startY,\r\n      width: Math.abs(mousePos.x - startX),\r\n      height: Math.abs(mousePos.y - startY)\r\n    });\r\n\r\n    var _store$getState = store.getState(),\r\n        nodeInternals = _store$getState.nodeInternals,\r\n        edges = _store$getState.edges,\r\n        transform = _store$getState.transform,\r\n        onNodesChange = _store$getState.onNodesChange,\r\n        onEdgesChange = _store$getState.onEdgesChange;\r\n\r\n    var nodes = Array.from(nodeInternals).map(function (_ref2) {\r\n      var _ref3 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref2, 2);\r\n          _ref3[0];\r\n          var node = _ref3[1];\r\n\r\n      return node;\r\n    });\r\n    var selectedNodes = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.j)(nodeInternals, nextUserSelectRect, transform, false, true);\r\n    var selectedEdgeIds = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.e)(selectedNodes, edges).map(function (e) {\r\n      return e.id;\r\n    });\r\n    var selectedNodeIds = selectedNodes.map(function (n) {\r\n      return n.id;\r\n    });\r\n\r\n    if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\r\n      prevSelectedNodesCount.current = selectedNodeIds.length;\r\n      var changes = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.k)(nodes, selectedNodeIds);\r\n\r\n      if (changes.length) {\r\n        onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\r\n      }\r\n    }\r\n\r\n    if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\r\n      prevSelectedEdgesCount.current = selectedEdgeIds.length;\r\n\r\n      var _changes = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.k)(edges, selectedEdgeIds);\r\n\r\n      if (_changes.length) {\r\n        onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(_changes);\r\n      }\r\n    }\r\n\r\n    setUserSelectionRect(nextUserSelectRect);\r\n  };\r\n\r\n  var onMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\r\n    store.setState({\r\n      nodesSelectionActive: prevSelectedNodesCount.current > 0\r\n    });\r\n    resetUserSelection();\r\n  }, []);\r\n  var onMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function () {\r\n    store.setState({\r\n      nodesSelectionActive: false\r\n    });\r\n    resetUserSelection();\r\n  }, []);\r\n\r\n  if (!elementsSelectable || !renderUserSelectionPane) {\r\n    return null;\r\n  }\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    className: \"react-flow__selectionpane react-flow__container\",\r\n    onMouseDown: onMouseDown,\r\n    onMouseMove: onMouseMove,\r\n    onMouseUp: onMouseUp,\r\n    onMouseLeave: onMouseLeave\r\n  }, userSelectionRect.draw && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    className: \"react-flow__selection react-flow__container\",\r\n    style: {\r\n      width: userSelectionRect.width,\r\n      height: userSelectionRect.height,\r\n      transform: \"translate(\".concat(userSelectionRect.x, \"px, \").concat(userSelectionRect.y, \"px)\")\r\n    }\r\n  }));\r\n});\r\n\r\nvar selector$6 = function selector(s) {\r\n  return {\r\n    transform: s.transform,\r\n    selectedNodesBbox: s.selectedNodesBbox,\r\n    userSelectionActive: s.userSelectionActive,\r\n    selectedNodes: Array.from(s.nodeInternals).filter(function (_ref) {\r\n      var _ref2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref, 2);\r\n          _ref2[0];\r\n          var n = _ref2[1];\r\n\r\n      return n.selected;\r\n    }).map(function (_ref3) {\r\n      var _ref4 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref3, 2);\r\n          _ref4[0];\r\n          var n = _ref4[1];\r\n\r\n      return n;\r\n    }),\r\n    snapToGrid: s.snapToGrid,\r\n    snapGrid: s.snapGrid,\r\n    updateNodePosition: s.updateNodePosition\r\n  };\r\n};\r\n\r\nfunction NodesSelection(_ref5) {\r\n  var onSelectionDragStart = _ref5.onSelectionDragStart,\r\n      onSelectionDrag = _ref5.onSelectionDrag,\r\n      onSelectionDragStop = _ref5.onSelectionDragStop,\r\n      onSelectionContextMenu = _ref5.onSelectionContextMenu,\r\n      noPanClassName = _ref5.noPanClassName;\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$6, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      transform = _useStore.transform,\r\n      userSelectionActive = _useStore.userSelectionActive,\r\n      selectedNodes = _useStore.selectedNodes,\r\n      snapToGrid = _useStore.snapToGrid,\r\n      snapGrid = _useStore.snapGrid,\r\n      updateNodePosition = _useStore.updateNodePosition;\r\n\r\n  var _transform = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(transform, 3),\r\n      tX = _transform[0],\r\n      tY = _transform[1],\r\n      tScale = _transform[2];\r\n\r\n  var nodeRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\r\n  var grid = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    return snapToGrid ? snapGrid : [1, 1];\r\n  }, [snapToGrid, snapGrid]);\r\n  var style = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    return {\r\n      transform: \"translate(\".concat(tX, \"px,\").concat(tY, \"px) scale(\").concat(tScale, \")\")\r\n    };\r\n  }, [tX, tY, tScale]);\r\n  var selectedNodesBbox = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    return (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.l)(selectedNodes);\r\n  }, [selectedNodes]);\r\n  var innerStyle = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    return {\r\n      width: selectedNodesBbox.width,\r\n      height: selectedNodesBbox.height,\r\n      top: selectedNodesBbox.y,\r\n      left: selectedNodesBbox.x\r\n    };\r\n  }, [selectedNodesBbox]);\r\n\r\n  var _onStart = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    onSelectionDragStart === null || onSelectionDragStart === void 0 ? void 0 : onSelectionDragStart(event, selectedNodes);\r\n  }, [onSelectionDragStart, selectedNodes]);\r\n\r\n  var _onDrag = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event, data) {\r\n    updateNodePosition({\r\n      diff: {\r\n        x: data.deltaX,\r\n        y: data.deltaY\r\n      },\r\n      dragging: true\r\n    });\r\n    onSelectionDrag === null || onSelectionDrag === void 0 ? void 0 : onSelectionDrag(event, selectedNodes);\r\n  }, [onSelectionDrag, selectedNodes, updateNodePosition]);\r\n\r\n  var _onStop = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    updateNodePosition({\r\n      dragging: false\r\n    });\r\n    onSelectionDragStop === null || onSelectionDragStop === void 0 ? void 0 : onSelectionDragStop(event, selectedNodes);\r\n  }, [selectedNodes, onSelectionDragStop]);\r\n\r\n  var onContextMenu = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    onSelectionContextMenu === null || onSelectionContextMenu === void 0 ? void 0 : onSelectionContextMenu(event, selectedNodes);\r\n  }, [onSelectionContextMenu, selectedNodes]);\r\n\r\n  if (!(selectedNodes !== null && selectedNodes !== void 0 && selectedNodes.length) || userSelectionActive) {\r\n    return null;\r\n  }\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__nodesselection', 'react-flow__container', noPanClassName]),\r\n    style: style\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(react_draggable__WEBPACK_IMPORTED_MODULE_7__.DraggableCore, {\r\n    scale: tScale,\r\n    grid: grid,\r\n    onStart: function onStart(event) {\r\n      return _onStart(event);\r\n    },\r\n    onDrag: function onDrag(event, data) {\r\n      return _onDrag(event, data);\r\n    },\r\n    onStop: function onStop(event) {\r\n      return _onStop(event);\r\n    },\r\n    nodeRef: nodeRef,\r\n    enableUserSelectHack: false\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    ref: nodeRef,\r\n    className: \"react-flow__nodesselection-rect\",\r\n    onContextMenu: onContextMenu,\r\n    style: innerStyle\r\n  })));\r\n}\r\n\r\nvar NodesSelection$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(NodesSelection);\r\n\r\nvar selector$5 = function selector(s) {\r\n  return {\r\n    resetSelectedElements: s.resetSelectedElements,\r\n    nodesSelectionActive: s.nodesSelectionActive\r\n  };\r\n};\r\n\r\nvar FlowRenderer = function FlowRenderer(_ref) {\r\n  var children = _ref.children,\r\n      onPaneClick = _ref.onPaneClick,\r\n      onPaneContextMenu = _ref.onPaneContextMenu,\r\n      onPaneScroll = _ref.onPaneScroll,\r\n      deleteKeyCode = _ref.deleteKeyCode,\r\n      onMove = _ref.onMove,\r\n      onMoveStart = _ref.onMoveStart,\r\n      onMoveEnd = _ref.onMoveEnd,\r\n      selectionKeyCode = _ref.selectionKeyCode,\r\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode,\r\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\r\n      elementsSelectable = _ref.elementsSelectable,\r\n      zoomOnScroll = _ref.zoomOnScroll,\r\n      zoomOnPinch = _ref.zoomOnPinch,\r\n      panOnScroll = _ref.panOnScroll,\r\n      panOnScrollSpeed = _ref.panOnScrollSpeed,\r\n      panOnScrollMode = _ref.panOnScrollMode,\r\n      zoomOnDoubleClick = _ref.zoomOnDoubleClick,\r\n      panOnDrag = _ref.panOnDrag,\r\n      defaultPosition = _ref.defaultPosition,\r\n      defaultZoom = _ref.defaultZoom,\r\n      preventScrolling = _ref.preventScrolling,\r\n      onSelectionDragStart = _ref.onSelectionDragStart,\r\n      onSelectionDrag = _ref.onSelectionDrag,\r\n      onSelectionDragStop = _ref.onSelectionDragStop,\r\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\r\n      noWheelClassName = _ref.noWheelClassName,\r\n      noPanClassName = _ref.noPanClassName;\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$5, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      resetSelectedElements = _useStore.resetSelectedElements,\r\n      nodesSelectionActive = _useStore.nodesSelectionActive;\r\n\r\n  var selectionKeyPressed = useKeyPress(selectionKeyCode);\r\n  useGlobalKeyHandler({\r\n    deleteKeyCode: deleteKeyCode,\r\n    multiSelectionKeyCode: multiSelectionKeyCode\r\n  });\r\n  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    onPaneClick === null || onPaneClick === void 0 ? void 0 : onPaneClick(event);\r\n    resetSelectedElements();\r\n    store.setState({\r\n      nodesSelectionActive: false\r\n    });\r\n  }, [onPaneClick]);\r\n  var onContextMenu = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    return onPaneContextMenu === null || onPaneContextMenu === void 0 ? void 0 : onPaneContextMenu(event);\r\n  }, [onPaneContextMenu]);\r\n  var onWheel = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    return onPaneScroll === null || onPaneScroll === void 0 ? void 0 : onPaneScroll(event);\r\n  }, [onPaneScroll]);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(ZoomPane, {\r\n    onMove: onMove,\r\n    onMoveStart: onMoveStart,\r\n    onMoveEnd: onMoveEnd,\r\n    selectionKeyPressed: selectionKeyPressed,\r\n    elementsSelectable: elementsSelectable,\r\n    zoomOnScroll: zoomOnScroll,\r\n    zoomOnPinch: zoomOnPinch,\r\n    panOnScroll: panOnScroll,\r\n    panOnScrollSpeed: panOnScrollSpeed,\r\n    panOnScrollMode: panOnScrollMode,\r\n    zoomOnDoubleClick: zoomOnDoubleClick,\r\n    panOnDrag: panOnDrag,\r\n    defaultPosition: defaultPosition,\r\n    defaultZoom: defaultZoom,\r\n    zoomActivationKeyCode: zoomActivationKeyCode,\r\n    preventScrolling: preventScrolling,\r\n    noWheelClassName: noWheelClassName,\r\n    noPanClassName: noPanClassName\r\n  }, children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(UserSelection, {\r\n    selectionKeyPressed: selectionKeyPressed\r\n  }), nodesSelectionActive && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(NodesSelection$1, {\r\n    onSelectionDragStart: onSelectionDragStart,\r\n    onSelectionDrag: onSelectionDrag,\r\n    onSelectionDragStop: onSelectionDragStop,\r\n    onSelectionContextMenu: onSelectionContextMenu,\r\n    noPanClassName: noPanClassName\r\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    className: \"react-flow__pane react-flow__container\",\r\n    onClick: onClick,\r\n    onContextMenu: onContextMenu,\r\n    onWheel: onWheel\r\n  }));\r\n};\r\n\r\nFlowRenderer.displayName = 'FlowRenderer';\r\nvar FlowRenderer$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(FlowRenderer);\r\n\r\nfunction useVisibleNodes(onlyRenderVisible) {\r\n  var nodes = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)((0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (s) {\r\n    return onlyRenderVisible ? (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.j)(s.nodeInternals, {\r\n      x: 0,\r\n      y: 0,\r\n      width: s.width,\r\n      height: s.height\r\n    }, s.transform, true) : Array.from(s.nodeInternals).map(function (_ref) {\r\n      var _ref2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref, 2);\r\n          _ref2[0];\r\n          var node = _ref2[1];\r\n\r\n      return node;\r\n    });\r\n  }, [onlyRenderVisible]));\r\n  return nodes;\r\n}\r\n\r\nvar selector$4 = function selector(s) {\r\n  return {\r\n    scale: s.transform[2],\r\n    nodesDraggable: s.nodesDraggable,\r\n    nodesConnectable: s.nodesConnectable,\r\n    elementsSelectable: s.elementsSelectable,\r\n    updateNodeDimensions: s.updateNodeDimensions,\r\n    snapGrid: s.snapGrid,\r\n    snapToGrid: s.snapToGrid,\r\n    nodeInternals: s.nodeInternals\r\n  };\r\n};\r\n\r\nvar NodeRenderer = function NodeRenderer(props) {\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$4, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      scale = _useStore.scale,\r\n      nodesDraggable = _useStore.nodesDraggable,\r\n      nodesConnectable = _useStore.nodesConnectable,\r\n      elementsSelectable = _useStore.elementsSelectable,\r\n      updateNodeDimensions = _useStore.updateNodeDimensions,\r\n      snapGrid = _useStore.snapGrid,\r\n      snapToGrid = _useStore.snapToGrid;\r\n\r\n  var nodes = useVisibleNodes(props.onlyRenderVisibleElements);\r\n  var resizeObserverRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\r\n  var resizeObserver = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    if (typeof ResizeObserver === 'undefined') {\r\n      return null;\r\n    }\r\n\r\n    var observer = new ResizeObserver(function (entries) {\r\n      var updates = entries.map(function (entry) {\r\n        return {\r\n          id: entry.target.getAttribute('data-id'),\r\n          nodeElement: entry.target,\r\n          forceUpdate: true\r\n        };\r\n      });\r\n      updateNodeDimensions(updates);\r\n    });\r\n    resizeObserverRef.current = observer;\r\n    return observer;\r\n  }, []);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    return function () {\r\n      var _resizeObserverRef$cu;\r\n\r\n      resizeObserverRef === null || resizeObserverRef === void 0 ? void 0 : (_resizeObserverRef$cu = resizeObserverRef.current) === null || _resizeObserverRef$cu === void 0 ? void 0 : _resizeObserverRef$cu.disconnect();\r\n    };\r\n  }, []);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    className: \"react-flow__nodes react-flow__container\"\r\n  }, nodes.map(function (node) {\r\n    var _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4, _node$z;\r\n\r\n    var nodeType = node.type || 'default';\r\n\r\n    if (!props.nodeTypes[nodeType]) {\r\n      console.warn(\"Node type \\\"\".concat(nodeType, \"\\\" not found. Using fallback type \\\"default\\\".\"));\r\n    }\r\n\r\n    var NodeComponent = props.nodeTypes[nodeType] || props.nodeTypes[\"default\"];\r\n    var isDraggable = !!(node.draggable || nodesDraggable && typeof node.draggable === 'undefined');\r\n    var isSelectable = !!(node.selectable || elementsSelectable && typeof node.selectable === 'undefined');\r\n    var isConnectable = !!(node.connectable || nodesConnectable && typeof node.connectable === 'undefined');\r\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(NodeComponent, {\r\n      key: node.id,\r\n      id: node.id,\r\n      className: node.className,\r\n      style: node.style,\r\n      type: nodeType,\r\n      data: node.data,\r\n      sourcePosition: node.sourcePosition || _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom,\r\n      targetPosition: node.targetPosition || _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top,\r\n      hidden: node.hidden,\r\n      xPos: (_node$positionAbsolut = (_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.x) !== null && _node$positionAbsolut !== void 0 ? _node$positionAbsolut : 0,\r\n      yPos: (_node$positionAbsolut3 = (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) !== null && _node$positionAbsolut3 !== void 0 ? _node$positionAbsolut3 : 0,\r\n      dragging: !!node.dragging,\r\n      snapGrid: snapGrid,\r\n      snapToGrid: snapToGrid,\r\n      selectNodesOnDrag: props.selectNodesOnDrag,\r\n      onClick: props.onNodeClick,\r\n      onMouseEnter: props.onNodeMouseEnter,\r\n      onMouseMove: props.onNodeMouseMove,\r\n      onMouseLeave: props.onNodeMouseLeave,\r\n      onContextMenu: props.onNodeContextMenu,\r\n      onNodeDoubleClick: props.onNodeDoubleClick,\r\n      onNodeDragStart: props.onNodeDragStart,\r\n      onNodeDrag: props.onNodeDrag,\r\n      onNodeDragStop: props.onNodeDragStop,\r\n      scale: scale,\r\n      selected: !!node.selected,\r\n      isDraggable: isDraggable,\r\n      isSelectable: isSelectable,\r\n      isConnectable: isConnectable,\r\n      resizeObserver: resizeObserver,\r\n      dragHandle: node.dragHandle,\r\n      zIndex: (_node$z = node.z) !== null && _node$z !== void 0 ? _node$z : 0,\r\n      isParent: !!node.isParent,\r\n      noDragClassName: props.noDragClassName,\r\n      noPanClassName: props.noPanClassName\r\n    });\r\n  }));\r\n};\r\n\r\nNodeRenderer.displayName = 'NodeRenderer';\r\nvar NodeRenderer$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(NodeRenderer);\r\n\r\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nvar selector$3 = function selector(s) {\r\n  return {\r\n    nodeInternals: s.nodeInternals,\r\n    transform: s.transform\r\n  };\r\n};\r\n\r\nvar ConnectionLine = (function (_ref) {\r\n  var _fromNode$current$han, _fromNode$current$han2, _fromNode$current$wid, _fromNode$current, _fromNode$current$hei, _fromNode$current2, _fromNode$current$pos, _fromNode$current$pos2;\r\n\r\n  var connectionNodeId = _ref.connectionNodeId,\r\n      connectionHandleId = _ref.connectionHandleId,\r\n      connectionHandleType = _ref.connectionHandleType,\r\n      connectionLineStyle = _ref.connectionLineStyle,\r\n      connectionPositionX = _ref.connectionPositionX,\r\n      connectionPositionY = _ref.connectionPositionY,\r\n      _ref$connectionLineTy = _ref.connectionLineType,\r\n      connectionLineType = _ref$connectionLineTy === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.m.Bezier : _ref$connectionLineTy,\r\n      isConnectable = _ref.isConnectable,\r\n      CustomConnectionLineComponent = _ref.CustomConnectionLineComponent;\r\n  var nodeId = connectionNodeId;\r\n  var handleId = connectionHandleId;\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$3, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      nodeInternals = _useStore.nodeInternals,\r\n      transform = _useStore.transform;\r\n\r\n  var fromNode = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(nodeInternals.get(nodeId));\r\n\r\n  if (!fromNode.current || !fromNode.current || !isConnectable || !((_fromNode$current$han = fromNode.current.handleBounds) !== null && _fromNode$current$han !== void 0 && _fromNode$current$han[connectionHandleType])) {\r\n    return null;\r\n  }\r\n\r\n  var handleBound = (_fromNode$current$han2 = fromNode.current.handleBounds) === null || _fromNode$current$han2 === void 0 ? void 0 : _fromNode$current$han2[connectionHandleType];\r\n  var fromHandle = handleId ? handleBound === null || handleBound === void 0 ? void 0 : handleBound.find(function (d) {\r\n    return d.id === handleId;\r\n  }) : handleBound === null || handleBound === void 0 ? void 0 : handleBound[0];\r\n  var fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : ((_fromNode$current$wid = (_fromNode$current = fromNode.current) === null || _fromNode$current === void 0 ? void 0 : _fromNode$current.width) !== null && _fromNode$current$wid !== void 0 ? _fromNode$current$wid : 0) / 2;\r\n  var fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : (_fromNode$current$hei = (_fromNode$current2 = fromNode.current) === null || _fromNode$current2 === void 0 ? void 0 : _fromNode$current2.height) !== null && _fromNode$current$hei !== void 0 ? _fromNode$current$hei : 0;\r\n  var fromX = (((_fromNode$current$pos = fromNode.current.positionAbsolute) === null || _fromNode$current$pos === void 0 ? void 0 : _fromNode$current$pos.x) || 0) + fromHandleX;\r\n  var fromY = (((_fromNode$current$pos2 = fromNode.current.positionAbsolute) === null || _fromNode$current$pos2 === void 0 ? void 0 : _fromNode$current$pos2.y) || 0) + fromHandleY;\r\n  var toX = (connectionPositionX - transform[0]) / transform[2];\r\n  var toY = (connectionPositionY - transform[1]) / transform[2];\r\n  var fromPosition = fromHandle === null || fromHandle === void 0 ? void 0 : fromHandle.position;\r\n  var toPosition;\r\n\r\n  switch (fromPosition) {\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left:\r\n      toPosition = _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right;\r\n      break;\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Right:\r\n      toPosition = _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Left;\r\n      break;\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top:\r\n      toPosition = _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom;\r\n      break;\r\n\r\n    case _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom:\r\n      toPosition = _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top;\r\n      break;\r\n  }\r\n\r\n  var sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition;\r\n\r\n  switch (connectionHandleType) {\r\n    case 'source':\r\n      {\r\n        sourceX = fromX;\r\n        sourceY = fromY;\r\n        sourcePosition = fromPosition;\r\n        targetX = toX;\r\n        targetY = toY;\r\n        targetPosition = toPosition;\r\n      }\r\n      break;\r\n\r\n    case 'target':\r\n      {\r\n        sourceX = toX;\r\n        sourceY = toY;\r\n        sourcePosition = toPosition;\r\n        targetX = fromX;\r\n        targetY = fromY;\r\n        targetPosition = fromPosition;\r\n      }\r\n      break;\r\n  }\r\n\r\n  if (CustomConnectionLineComponent) {\r\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"g\", {\r\n      className: \"react-flow__connection\"\r\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(CustomConnectionLineComponent, {\r\n      sourceX: sourceX,\r\n      sourceY: sourceY,\r\n      sourcePosition: sourcePosition,\r\n      targetX: targetX,\r\n      targetY: targetY,\r\n      targetPosition: targetPosition,\r\n      connectionLineType: connectionLineType,\r\n      connectionLineStyle: connectionLineStyle,\r\n      fromNode: fromNode.current,\r\n      fromHandle: fromHandle,\r\n      // backward compatibility, mark as deprecated?\r\n      sourceNode: fromNode.current,\r\n      sourceHandle: fromHandle\r\n    }));\r\n  }\r\n\r\n  var dAttr = '';\r\n  var pathParams = {\r\n    sourceX: sourceX,\r\n    sourceY: sourceY,\r\n    sourcePosition: sourcePosition,\r\n    targetX: targetX,\r\n    targetY: targetY,\r\n    targetPosition: targetPosition\r\n  };\r\n\r\n  if (connectionLineType === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.m.Bezier) {\r\n    // we assume the destination position is opposite to the source position\r\n    dAttr = getBezierPath(pathParams);\r\n  } else if (connectionLineType === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.m.Step) {\r\n    dAttr = getSmoothStepPath(_objectSpread$5(_objectSpread$5({}, pathParams), {}, {\r\n      borderRadius: 0\r\n    }));\r\n  } else if (connectionLineType === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.m.SmoothStep) {\r\n    dAttr = getSmoothStepPath(pathParams);\r\n  } else if (connectionLineType === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.m.SimpleBezier) {\r\n    dAttr = getSimpleBezierPath(pathParams);\r\n  } else {\r\n    dAttr = \"M\".concat(sourceX, \",\").concat(sourceY, \" \").concat(targetX, \",\").concat(targetY);\r\n  }\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"g\", {\r\n    className: \"react-flow__connection\"\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"path\", {\r\n    d: dAttr,\r\n    className: \"react-flow__connection-path\",\r\n    style: connectionLineStyle\r\n  }));\r\n});\r\n\r\nfunction _typeof(obj) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\r\n    return typeof obj;\r\n  } : function (obj) {\r\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n  }, _typeof(obj);\r\n}\r\n\r\nvar _MarkerSymbols;\r\n\r\nvar ArrowSymbol = function ArrowSymbol(_ref) {\r\n  var _ref$color = _ref.color,\r\n      color = _ref$color === void 0 ? 'none' : _ref$color,\r\n      _ref$strokeWidth = _ref.strokeWidth,\r\n      strokeWidth = _ref$strokeWidth === void 0 ? 1 : _ref$strokeWidth;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"polyline\", {\r\n    stroke: color,\r\n    strokeLinecap: \"round\",\r\n    strokeLinejoin: \"round\",\r\n    strokeWidth: strokeWidth,\r\n    fill: \"none\",\r\n    points: \"-5,-4 0,0 -5,4\"\r\n  });\r\n};\r\n\r\nvar ArrowClosedSymbol = function ArrowClosedSymbol(_ref2) {\r\n  var _ref2$color = _ref2.color,\r\n      color = _ref2$color === void 0 ? 'none' : _ref2$color,\r\n      _ref2$strokeWidth = _ref2.strokeWidth,\r\n      strokeWidth = _ref2$strokeWidth === void 0 ? 1 : _ref2$strokeWidth;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"polyline\", {\r\n    stroke: color,\r\n    strokeLinecap: \"round\",\r\n    strokeLinejoin: \"round\",\r\n    strokeWidth: strokeWidth,\r\n    fill: color,\r\n    points: \"-5,-4 0,0 -5,4 -5,-4\"\r\n  });\r\n};\r\n\r\nvar MarkerSymbols = (_MarkerSymbols = {}, (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_MarkerSymbols, _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.M.Arrow, ArrowSymbol), (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_MarkerSymbols, _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.M.ArrowClosed, ArrowClosedSymbol), _MarkerSymbols);\r\nfunction useMarkerSymbol(type) {\r\n  var symbol = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    var symbolExists = MarkerSymbols.hasOwnProperty(type);\r\n\r\n    if (!symbolExists) {\r\n      console.warn(\"marker type \\\"\".concat(type, \"\\\" doesn't exist.\"));\r\n      return function () {\r\n        return null;\r\n      };\r\n    }\r\n\r\n    return MarkerSymbols[type];\r\n  }, [type]);\r\n  return symbol;\r\n}\r\n\r\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nvar Marker = function Marker(_ref) {\r\n  var id = _ref.id,\r\n      type = _ref.type,\r\n      color = _ref.color,\r\n      _ref$width = _ref.width,\r\n      width = _ref$width === void 0 ? 12.5 : _ref$width,\r\n      _ref$height = _ref.height,\r\n      height = _ref$height === void 0 ? 12.5 : _ref$height,\r\n      _ref$markerUnits = _ref.markerUnits,\r\n      markerUnits = _ref$markerUnits === void 0 ? 'strokeWidth' : _ref$markerUnits,\r\n      strokeWidth = _ref.strokeWidth,\r\n      _ref$orient = _ref.orient,\r\n      orient = _ref$orient === void 0 ? 'auto' : _ref$orient;\r\n\r\n  var _Symbol = useMarkerSymbol(type);\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"marker\", {\r\n    className: \"react-flow__arrowhead\",\r\n    id: id,\r\n    markerWidth: \"\".concat(width),\r\n    markerHeight: \"\".concat(height),\r\n    viewBox: \"-10 -10 20 20\",\r\n    markerUnits: markerUnits,\r\n    orient: orient,\r\n    refX: \"0\",\r\n    refY: \"0\"\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(_Symbol, {\r\n    color: color,\r\n    strokeWidth: strokeWidth\r\n  }));\r\n};\r\n\r\nvar edgesSelector = function edgesSelector(s) {\r\n  return s.edges;\r\n};\r\n\r\nvar MarkerDefinitions = function MarkerDefinitions(_ref2) {\r\n  var defaultColor = _ref2.defaultColor;\r\n  var edges = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(edgesSelector);\r\n  var markers = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    var ids = [];\r\n    return edges.reduce(function (markers, edge) {\r\n      [edge.markerStart, edge.markerEnd].forEach(function (marker) {\r\n        if (marker && _typeof(marker) === 'object') {\r\n          var markerId = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.d)(marker);\r\n\r\n          if (!ids.includes(markerId)) {\r\n            markers.push(_objectSpread$4({\r\n              id: markerId,\r\n              color: marker.color || defaultColor\r\n            }, marker));\r\n            ids.push(markerId);\r\n          }\r\n        }\r\n      });\r\n      return markers.sort(function (a, b) {\r\n        return a.id.localeCompare(b.id);\r\n      });\r\n    }, []);\r\n  }, [edges, defaultColor]);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"defs\", null, markers.map(function (marker) {\r\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Marker, {\r\n      id: marker.id,\r\n      key: marker.id,\r\n      type: marker.type,\r\n      color: marker.color,\r\n      width: marker.width,\r\n      height: marker.height,\r\n      markerUnits: marker.markerUnits,\r\n      strokeWidth: marker.strokeWidth,\r\n      orient: marker.orient\r\n    });\r\n  }));\r\n};\r\n\r\nMarkerDefinitions.displayName = 'MarkerDefinitions';\r\n\r\nvar defaultEdgeTree = [{\r\n  level: 0,\r\n  isMaxLevel: true,\r\n  edges: []\r\n}];\r\n\r\nfunction groupEdgesByZLevel(edges, nodeInternals) {\r\n  var maxLevel = -1;\r\n  var levelLookup = edges.reduce(function (tree, edge) {\r\n    var _nodeInternals$get, _nodeInternals$get2;\r\n\r\n    var z = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.n)(edge.zIndex) ? edge.zIndex : Math.max(((_nodeInternals$get = nodeInternals.get(edge.source)) === null || _nodeInternals$get === void 0 ? void 0 : _nodeInternals$get.z) || 0, ((_nodeInternals$get2 = nodeInternals.get(edge.target)) === null || _nodeInternals$get2 === void 0 ? void 0 : _nodeInternals$get2.z) || 0);\r\n\r\n    if (tree[z]) {\r\n      tree[z].push(edge);\r\n    } else {\r\n      tree[z] = [edge];\r\n    }\r\n\r\n    maxLevel = z > maxLevel ? z : maxLevel;\r\n    return tree;\r\n  }, {});\r\n  var edgeTree = Object.entries(levelLookup).map(function (_ref) {\r\n    var _ref2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref, 2),\r\n        key = _ref2[0],\r\n        edges = _ref2[1];\r\n\r\n    var level = +key;\r\n    return {\r\n      edges: edges,\r\n      level: level,\r\n      isMaxLevel: level === maxLevel\r\n    };\r\n  });\r\n\r\n  if (edgeTree.length === 0) {\r\n    return defaultEdgeTree;\r\n  }\r\n\r\n  return edgeTree;\r\n}\r\n\r\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals) {\r\n  var edges = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)((0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (s) {\r\n    if (!onlyRenderVisible) {\r\n      return s.edges;\r\n    }\r\n\r\n    return s.edges.filter(function (e) {\r\n      var sourceNode = nodeInternals.get(e.source);\r\n      var targetNode = nodeInternals.get(e.target);\r\n      return (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.width) && (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.height) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.width) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.height) && isEdgeVisible({\r\n        sourcePos: sourceNode.position || {\r\n          x: 0,\r\n          y: 0\r\n        },\r\n        targetPos: targetNode.position || {\r\n          x: 0,\r\n          y: 0\r\n        },\r\n        sourceWidth: sourceNode.width,\r\n        sourceHeight: sourceNode.height,\r\n        targetWidth: targetNode.width,\r\n        targetHeight: targetNode.height,\r\n        width: s.width,\r\n        height: s.height,\r\n        transform: s.transform\r\n      });\r\n    });\r\n  }, [onlyRenderVisible, nodeInternals]));\r\n  return groupEdgesByZLevel(edges, nodeInternals);\r\n}\r\n\r\nvar selector$2 = function selector(s) {\r\n  return {\r\n    connectionNodeId: s.connectionNodeId,\r\n    connectionHandleId: s.connectionHandleId,\r\n    connectionHandleType: s.connectionHandleType,\r\n    connectionPosition: s.connectionPosition,\r\n    nodesConnectable: s.nodesConnectable,\r\n    elementsSelectable: s.elementsSelectable,\r\n    width: s.width,\r\n    height: s.height,\r\n    connectionMode: s.connectionMode,\r\n    nodeInternals: s.nodeInternals\r\n  };\r\n};\r\n\r\nvar EdgeRenderer = function EdgeRenderer(props) {\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$2, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n      connectionNodeId = _useStore.connectionNodeId,\r\n      connectionHandleId = _useStore.connectionHandleId,\r\n      connectionHandleType = _useStore.connectionHandleType,\r\n      connectionPosition = _useStore.connectionPosition,\r\n      nodesConnectable = _useStore.nodesConnectable,\r\n      elementsSelectable = _useStore.elementsSelectable,\r\n      width = _useStore.width,\r\n      height = _useStore.height,\r\n      connectionMode = _useStore.connectionMode,\r\n      nodeInternals = _useStore.nodeInternals;\r\n\r\n  var edgeTree = useVisibleEdges(props.onlyRenderVisibleElements, nodeInternals);\r\n\r\n  if (!width) {\r\n    return null;\r\n  }\r\n\r\n  var connectionLineType = props.connectionLineType,\r\n      defaultMarkerColor = props.defaultMarkerColor,\r\n      connectionLineStyle = props.connectionLineStyle,\r\n      connectionLineComponent = props.connectionLineComponent;\r\n  var renderConnectionLine = connectionNodeId && connectionHandleType;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, edgeTree.map(function (_ref) {\r\n    var level = _ref.level,\r\n        edges = _ref.edges,\r\n        isMaxLevel = _ref.isMaxLevel;\r\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"svg\", {\r\n      key: level,\r\n      style: {\r\n        zIndex: level\r\n      },\r\n      width: width,\r\n      height: height,\r\n      className: \"react-flow__edges react-flow__container\"\r\n    }, isMaxLevel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(MarkerDefinitions, {\r\n      defaultColor: defaultMarkerColor\r\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"g\", null, edges.map(function (edge) {\r\n      var _getNodeData = getNodeData(nodeInternals, edge.source),\r\n          _getNodeData2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getNodeData, 3),\r\n          sourceNodeRect = _getNodeData2[0],\r\n          sourceHandleBounds = _getNodeData2[1],\r\n          sourceIsValid = _getNodeData2[2];\r\n\r\n      var _getNodeData3 = getNodeData(nodeInternals, edge.target),\r\n          _getNodeData4 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getNodeData3, 3),\r\n          targetNodeRect = _getNodeData4[0],\r\n          targetHandleBounds = _getNodeData4[1],\r\n          targetIsValid = _getNodeData4[2];\r\n\r\n      if (!sourceIsValid || !targetIsValid) {\r\n        return null;\r\n      }\r\n\r\n      var edgeType = edge.type || 'default';\r\n      var EdgeComponent = props.edgeTypes[edgeType] || props.edgeTypes[\"default\"]; // when connection type is loose we can define all handles as sources\r\n\r\n      var targetNodeHandles = connectionMode === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.C.Strict ? targetHandleBounds.target : targetHandleBounds.target || targetHandleBounds.source;\r\n      var sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle || null);\r\n      var targetHandle = getHandle(targetNodeHandles, edge.targetHandle || null);\r\n      var sourcePosition = (sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position) || _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Bottom;\r\n      var targetPosition = (targetHandle === null || targetHandle === void 0 ? void 0 : targetHandle.position) || _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.P.Top;\r\n\r\n      if (!sourceHandle) {\r\n        console.warn(\"couldn't create edge for source handle id: \".concat(edge.sourceHandle, \"; edge id: \").concat(edge.id));\r\n        return null;\r\n      }\r\n\r\n      if (!targetHandle) {\r\n        console.warn(\"couldn't create edge for target handle id: \".concat(edge.targetHandle, \"; edge id: \").concat(edge.id));\r\n        return null;\r\n      }\r\n\r\n      var _getEdgePositions = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition),\r\n          sourceX = _getEdgePositions.sourceX,\r\n          sourceY = _getEdgePositions.sourceY,\r\n          targetX = _getEdgePositions.targetX,\r\n          targetY = _getEdgePositions.targetY;\r\n\r\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(EdgeComponent, {\r\n        key: edge.id,\r\n        id: edge.id,\r\n        className: (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([edge.className, props.noPanClassName]),\r\n        type: edgeType,\r\n        data: edge.data,\r\n        selected: !!edge.selected,\r\n        animated: !!edge.animated,\r\n        hidden: !!edge.hidden,\r\n        label: edge.label,\r\n        labelStyle: edge.labelStyle,\r\n        labelShowBg: edge.labelShowBg,\r\n        labelBgStyle: edge.labelBgStyle,\r\n        labelBgPadding: edge.labelBgPadding,\r\n        labelBgBorderRadius: edge.labelBgBorderRadius,\r\n        style: edge.style,\r\n        source: edge.source,\r\n        target: edge.target,\r\n        sourceHandleId: edge.sourceHandle,\r\n        targetHandleId: edge.targetHandle,\r\n        markerEnd: edge.markerEnd,\r\n        markerStart: edge.markerStart,\r\n        sourceX: sourceX,\r\n        sourceY: sourceY,\r\n        targetX: targetX,\r\n        targetY: targetY,\r\n        sourcePosition: sourcePosition,\r\n        targetPosition: targetPosition,\r\n        elementsSelectable: elementsSelectable,\r\n        onEdgeUpdate: props.onEdgeUpdate,\r\n        onContextMenu: props.onEdgeContextMenu,\r\n        onMouseEnter: props.onEdgeMouseEnter,\r\n        onMouseMove: props.onEdgeMouseMove,\r\n        onMouseLeave: props.onEdgeMouseLeave,\r\n        onClick: props.onEdgeClick,\r\n        edgeUpdaterRadius: props.edgeUpdaterRadius,\r\n        onEdgeDoubleClick: props.onEdgeDoubleClick,\r\n        onEdgeUpdateStart: props.onEdgeUpdateStart,\r\n        onEdgeUpdateEnd: props.onEdgeUpdateEnd\r\n      });\r\n    }), renderConnectionLine && isMaxLevel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(ConnectionLine, {\r\n      connectionNodeId: connectionNodeId,\r\n      connectionHandleId: connectionHandleId,\r\n      connectionHandleType: connectionHandleType,\r\n      connectionPositionX: connectionPosition.x,\r\n      connectionPositionY: connectionPosition.y,\r\n      connectionLineStyle: connectionLineStyle,\r\n      connectionLineType: connectionLineType,\r\n      isConnectable: nodesConnectable,\r\n      CustomConnectionLineComponent: connectionLineComponent\r\n    })));\r\n  }));\r\n};\r\n\r\nEdgeRenderer.displayName = 'EdgeRenderer';\r\nvar EdgeRenderer$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(EdgeRenderer);\r\n\r\nvar selector$1 = function selector(s) {\r\n  return s.transform;\r\n};\r\n\r\nfunction Viewport(_ref) {\r\n  var children = _ref.children;\r\n  var transform = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector$1);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n    className: \"react-flow__viewport react-flow__container\",\r\n    style: {\r\n      transform: \"translate(\".concat(transform[0], \"px,\").concat(transform[1], \"px) scale(\").concat(transform[2], \")\")\r\n    }\r\n  }, children);\r\n}\r\n\r\nfunction useOnInitHandler(onInit) {\r\n  var ReactFlowInstance = (0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__.u)();\r\n  var isInitialized = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(false);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n    if (!isInitialized.current && ReactFlowInstance.viewportInitialized && onInit) {\r\n      setTimeout(function () {\r\n        return onInit(ReactFlowInstance);\r\n      }, 1);\r\n      isInitialized.current = true;\r\n    }\r\n  }, [onInit, ReactFlowInstance.viewportInitialized]);\r\n}\r\n\r\nvar GraphView = function GraphView(_ref) {\r\n  var nodeTypes = _ref.nodeTypes,\r\n      edgeTypes = _ref.edgeTypes,\r\n      onMove = _ref.onMove,\r\n      onMoveStart = _ref.onMoveStart,\r\n      onMoveEnd = _ref.onMoveEnd,\r\n      onInit = _ref.onInit,\r\n      onNodeClick = _ref.onNodeClick,\r\n      onEdgeClick = _ref.onEdgeClick,\r\n      onNodeDoubleClick = _ref.onNodeDoubleClick,\r\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\r\n      onNodeMouseEnter = _ref.onNodeMouseEnter,\r\n      onNodeMouseMove = _ref.onNodeMouseMove,\r\n      onNodeMouseLeave = _ref.onNodeMouseLeave,\r\n      onNodeContextMenu = _ref.onNodeContextMenu,\r\n      onNodeDragStart = _ref.onNodeDragStart,\r\n      onNodeDrag = _ref.onNodeDrag,\r\n      onNodeDragStop = _ref.onNodeDragStop,\r\n      onSelectionDragStart = _ref.onSelectionDragStart,\r\n      onSelectionDrag = _ref.onSelectionDrag,\r\n      onSelectionDragStop = _ref.onSelectionDragStop,\r\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\r\n      connectionLineType = _ref.connectionLineType,\r\n      connectionLineStyle = _ref.connectionLineStyle,\r\n      connectionLineComponent = _ref.connectionLineComponent,\r\n      selectionKeyCode = _ref.selectionKeyCode,\r\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode,\r\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\r\n      deleteKeyCode = _ref.deleteKeyCode,\r\n      onlyRenderVisibleElements = _ref.onlyRenderVisibleElements,\r\n      elementsSelectable = _ref.elementsSelectable,\r\n      selectNodesOnDrag = _ref.selectNodesOnDrag,\r\n      defaultZoom = _ref.defaultZoom,\r\n      defaultPosition = _ref.defaultPosition,\r\n      preventScrolling = _ref.preventScrolling,\r\n      defaultMarkerColor = _ref.defaultMarkerColor,\r\n      zoomOnScroll = _ref.zoomOnScroll,\r\n      zoomOnPinch = _ref.zoomOnPinch,\r\n      panOnScroll = _ref.panOnScroll,\r\n      panOnScrollSpeed = _ref.panOnScrollSpeed,\r\n      panOnScrollMode = _ref.panOnScrollMode,\r\n      zoomOnDoubleClick = _ref.zoomOnDoubleClick,\r\n      panOnDrag = _ref.panOnDrag,\r\n      onPaneClick = _ref.onPaneClick,\r\n      onPaneScroll = _ref.onPaneScroll,\r\n      onPaneContextMenu = _ref.onPaneContextMenu,\r\n      onEdgeUpdate = _ref.onEdgeUpdate,\r\n      onEdgeContextMenu = _ref.onEdgeContextMenu,\r\n      onEdgeMouseEnter = _ref.onEdgeMouseEnter,\r\n      onEdgeMouseMove = _ref.onEdgeMouseMove,\r\n      onEdgeMouseLeave = _ref.onEdgeMouseLeave,\r\n      edgeUpdaterRadius = _ref.edgeUpdaterRadius,\r\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\r\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\r\n      noDragClassName = _ref.noDragClassName,\r\n      noWheelClassName = _ref.noWheelClassName,\r\n      noPanClassName = _ref.noPanClassName;\r\n  useOnInitHandler(onInit);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(FlowRenderer$1, {\r\n    onPaneClick: onPaneClick,\r\n    onPaneContextMenu: onPaneContextMenu,\r\n    onPaneScroll: onPaneScroll,\r\n    deleteKeyCode: deleteKeyCode,\r\n    selectionKeyCode: selectionKeyCode,\r\n    multiSelectionKeyCode: multiSelectionKeyCode,\r\n    zoomActivationKeyCode: zoomActivationKeyCode,\r\n    elementsSelectable: elementsSelectable,\r\n    onMove: onMove,\r\n    onMoveStart: onMoveStart,\r\n    onMoveEnd: onMoveEnd,\r\n    zoomOnScroll: zoomOnScroll,\r\n    zoomOnPinch: zoomOnPinch,\r\n    zoomOnDoubleClick: zoomOnDoubleClick,\r\n    panOnScroll: panOnScroll,\r\n    panOnScrollSpeed: panOnScrollSpeed,\r\n    panOnScrollMode: panOnScrollMode,\r\n    panOnDrag: panOnDrag,\r\n    defaultPosition: defaultPosition,\r\n    defaultZoom: defaultZoom,\r\n    onSelectionDragStart: onSelectionDragStart,\r\n    onSelectionDrag: onSelectionDrag,\r\n    onSelectionDragStop: onSelectionDragStop,\r\n    onSelectionContextMenu: onSelectionContextMenu,\r\n    preventScrolling: preventScrolling,\r\n    noDragClassName: noDragClassName,\r\n    noWheelClassName: noWheelClassName,\r\n    noPanClassName: noPanClassName\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Viewport, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(EdgeRenderer$1, {\r\n    edgeTypes: edgeTypes,\r\n    onEdgeClick: onEdgeClick,\r\n    onEdgeDoubleClick: onEdgeDoubleClick,\r\n    connectionLineType: connectionLineType,\r\n    connectionLineStyle: connectionLineStyle,\r\n    connectionLineComponent: connectionLineComponent,\r\n    onEdgeUpdate: onEdgeUpdate,\r\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\r\n    onEdgeContextMenu: onEdgeContextMenu,\r\n    onEdgeMouseEnter: onEdgeMouseEnter,\r\n    onEdgeMouseMove: onEdgeMouseMove,\r\n    onEdgeMouseLeave: onEdgeMouseLeave,\r\n    onEdgeUpdateStart: onEdgeUpdateStart,\r\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\r\n    edgeUpdaterRadius: edgeUpdaterRadius,\r\n    defaultMarkerColor: defaultMarkerColor,\r\n    noPanClassName: noPanClassName\r\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(NodeRenderer$1, {\r\n    nodeTypes: nodeTypes,\r\n    onNodeClick: onNodeClick,\r\n    onNodeDoubleClick: onNodeDoubleClick,\r\n    onNodeMouseEnter: onNodeMouseEnter,\r\n    onNodeMouseMove: onNodeMouseMove,\r\n    onNodeMouseLeave: onNodeMouseLeave,\r\n    onNodeContextMenu: onNodeContextMenu,\r\n    onNodeDragStop: onNodeDragStop,\r\n    onNodeDrag: onNodeDrag,\r\n    onNodeDragStart: onNodeDragStart,\r\n    selectNodesOnDrag: selectNodesOnDrag,\r\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\r\n    noPanClassName: noPanClassName,\r\n    noDragClassName: noDragClassName\r\n  })));\r\n};\r\n\r\nGraphView.displayName = 'GraphView';\r\nvar GraphView$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(GraphView);\r\n\r\nvar GroupNode = function GroupNode() {\r\n  return null;\r\n};\r\n\r\nGroupNode.displayName = 'GroupNode';\r\n\r\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nfunction useMemoizedMouseHandler(id, dragging, getState, handler) {\r\n  var memoizedHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n    if (typeof handler !== 'undefined' && !dragging) {\r\n      var node = getState().nodeInternals.get(id);\r\n      handler(event, _objectSpread$3({}, node));\r\n    }\r\n  }, [handler, dragging, id]);\r\n  return memoizedHandler;\r\n}\r\n\r\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nvar selector = function selector(s) {\r\n  return {\r\n    addSelectedNodes: s.addSelectedNodes,\r\n    updateNodePosition: s.updateNodePosition,\r\n    unselectNodesAndEdges: s.unselectNodesAndEdges,\r\n    updateNodeDimensions: s.updateNodeDimensions\r\n  };\r\n};\r\n\r\nvar wrapNode = (function (NodeComponent) {\r\n  var NodeWrapper = function NodeWrapper(_ref) {\r\n    var id = _ref.id,\r\n        type = _ref.type,\r\n        data = _ref.data,\r\n        scale = _ref.scale,\r\n        xPos = _ref.xPos,\r\n        yPos = _ref.yPos,\r\n        selected = _ref.selected,\r\n        onClick = _ref.onClick,\r\n        onMouseEnter = _ref.onMouseEnter,\r\n        onMouseMove = _ref.onMouseMove,\r\n        onMouseLeave = _ref.onMouseLeave,\r\n        onContextMenu = _ref.onContextMenu,\r\n        onNodeDoubleClick = _ref.onNodeDoubleClick,\r\n        onNodeDragStart = _ref.onNodeDragStart,\r\n        onNodeDrag = _ref.onNodeDrag,\r\n        onNodeDragStop = _ref.onNodeDragStop,\r\n        style = _ref.style,\r\n        className = _ref.className,\r\n        isDraggable = _ref.isDraggable,\r\n        isSelectable = _ref.isSelectable,\r\n        isConnectable = _ref.isConnectable,\r\n        selectNodesOnDrag = _ref.selectNodesOnDrag,\r\n        sourcePosition = _ref.sourcePosition,\r\n        targetPosition = _ref.targetPosition,\r\n        hidden = _ref.hidden,\r\n        snapToGrid = _ref.snapToGrid,\r\n        snapGrid = _ref.snapGrid,\r\n        dragging = _ref.dragging,\r\n        resizeObserver = _ref.resizeObserver,\r\n        dragHandle = _ref.dragHandle,\r\n        zIndex = _ref.zIndex,\r\n        isParent = _ref.isParent,\r\n        noPanClassName = _ref.noPanClassName,\r\n        noDragClassName = _ref.noDragClassName;\r\n    var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n\r\n    var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\r\n        addSelectedNodes = _useStore.addSelectedNodes,\r\n        unselectNodesAndEdges = _useStore.unselectNodesAndEdges,\r\n        updateNodePosition = _useStore.updateNodePosition,\r\n        updateNodeDimensions = _useStore.updateNodeDimensions;\r\n\r\n    var nodeElement = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\r\n    var prevSourcePosition = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(sourcePosition);\r\n    var prevTargetPosition = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(targetPosition);\r\n    var prevType = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(type);\r\n    var hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\r\n    var nodeStyle = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n      return _objectSpread$2({\r\n        zIndex: zIndex,\r\n        transform: \"translate(\".concat(xPos, \"px,\").concat(yPos, \"px)\"),\r\n        pointerEvents: hasPointerEvents ? 'all' : 'none'\r\n      }, style);\r\n    }, [zIndex, xPos, yPos, hasPointerEvents, style]);\r\n    var grid = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n      return snapToGrid ? snapGrid : [1, 1];\r\n    }, [snapToGrid, snapGrid === null || snapGrid === void 0 ? void 0 : snapGrid[0], snapGrid === null || snapGrid === void 0 ? void 0 : snapGrid[1]]);\r\n    var onMouseEnterHandler = useMemoizedMouseHandler(id, dragging, store.getState, onMouseEnter);\r\n    var onMouseMoveHandler = useMemoizedMouseHandler(id, dragging, store.getState, onMouseMove);\r\n    var onMouseLeaveHandler = useMemoizedMouseHandler(id, dragging, store.getState, onMouseLeave);\r\n    var onContextMenuHandler = useMemoizedMouseHandler(id, false, store.getState, onContextMenu);\r\n    var onNodeDoubleClickHandler = useMemoizedMouseHandler(id, false, store.getState, onNodeDoubleClick);\r\n    var onSelectNodeHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      if (!isDraggable) {\r\n        if (isSelectable) {\r\n          store.setState({\r\n            nodesSelectionActive: false\r\n          });\r\n\r\n          if (!selected) {\r\n            addSelectedNodes([id]);\r\n          }\r\n        }\r\n\r\n        if (onClick) {\r\n          var node = store.getState().nodeInternals.get(id);\r\n          onClick(event, _objectSpread$2({}, node));\r\n        }\r\n      }\r\n    }, [isSelectable, selected, isDraggable, onClick, id]);\r\n    var onDragStart = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      if (selectNodesOnDrag && isSelectable) {\r\n        store.setState({\r\n          nodesSelectionActive: false\r\n        });\r\n\r\n        if (!selected) {\r\n          addSelectedNodes([id]);\r\n        }\r\n      } else if (!selectNodesOnDrag && !selected && isSelectable) {\r\n        var _store$getState = store.getState(),\r\n            multiSelectionActive = _store$getState.multiSelectionActive;\r\n\r\n        if (multiSelectionActive) {\r\n          addSelectedNodes([id]);\r\n        } else {\r\n          unselectNodesAndEdges();\r\n          store.setState({\r\n            nodesSelectionActive: false\r\n          });\r\n        }\r\n      }\r\n\r\n      if (onNodeDragStart) {\r\n        var node = store.getState().nodeInternals.get(id);\r\n        onNodeDragStart(event, _objectSpread$2({}, node));\r\n      }\r\n    }, [id, selected, selectNodesOnDrag, isSelectable, onNodeDragStart]);\r\n    var onDrag = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event, draggableData) {\r\n      updateNodePosition({\r\n        id: id,\r\n        dragging: true,\r\n        diff: {\r\n          x: draggableData.deltaX,\r\n          y: draggableData.deltaY\r\n        }\r\n      });\r\n\r\n      if (onNodeDrag) {\r\n        var _node$positionAbsolut, _node$positionAbsolut2;\r\n\r\n        var node = store.getState().nodeInternals.get(id);\r\n        onNodeDrag(event, _objectSpread$2(_objectSpread$2({}, node), {}, {\r\n          dragging: true,\r\n          position: {\r\n            x: node.position.x + draggableData.deltaX,\r\n            y: node.position.y + draggableData.deltaY\r\n          },\r\n          positionAbsolute: {\r\n            x: (((_node$positionAbsolut = node.positionAbsolute) === null || _node$positionAbsolut === void 0 ? void 0 : _node$positionAbsolut.x) || 0) + draggableData.deltaX,\r\n            y: (((_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.y) || 0) + draggableData.deltaY\r\n          }\r\n        }));\r\n      }\r\n    }, [id, onNodeDrag]);\r\n    var onDragStop = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (event) {\r\n      // onDragStop also gets called when user just clicks on a node.\r\n      // Because of that we set dragging to true inside the onDrag handler and handle the click here\r\n      var node;\r\n\r\n      if (onClick || onNodeDragStop) {\r\n        node = store.getState().nodeInternals.get(id);\r\n      }\r\n\r\n      if (!dragging) {\r\n        if (isSelectable && !selectNodesOnDrag && !selected) {\r\n          addSelectedNodes([id]);\r\n        }\r\n\r\n        if (onClick && node) {\r\n          onClick(event, _objectSpread$2({}, node));\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      updateNodePosition({\r\n        id: id,\r\n        dragging: false\r\n      });\r\n\r\n      if (onNodeDragStop && node) {\r\n        onNodeDragStop(event, _objectSpread$2(_objectSpread$2({}, node), {}, {\r\n          dragging: false\r\n        }));\r\n      }\r\n    }, [id, isSelectable, selectNodesOnDrag, onClick, onNodeDragStop, dragging, selected]);\r\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n      if (nodeElement.current && !hidden) {\r\n        var currNode = nodeElement.current;\r\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.observe(currNode);\r\n        return function () {\r\n          return resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.unobserve(currNode);\r\n        };\r\n      }\r\n    }, [hidden]);\r\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function () {\r\n      // when the user programmatically changes the source or handle position, we re-initialize the node\r\n      var typeChanged = prevType.current !== type;\r\n      var sourcePosChanged = prevSourcePosition.current !== sourcePosition;\r\n      var targetPosChanged = prevTargetPosition.current !== targetPosition;\r\n\r\n      if (nodeElement.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\r\n        if (typeChanged) {\r\n          prevType.current = type;\r\n        }\r\n\r\n        if (sourcePosChanged) {\r\n          prevSourcePosition.current = sourcePosition;\r\n        }\r\n\r\n        if (targetPosChanged) {\r\n          prevTargetPosition.current = targetPosition;\r\n        }\r\n\r\n        updateNodeDimensions([{\r\n          id: id,\r\n          nodeElement: nodeElement.current,\r\n          forceUpdate: true\r\n        }]);\r\n      }\r\n    }, [id, type, sourcePosition, targetPosition]);\r\n\r\n    if (hidden) {\r\n      return null;\r\n    }\r\n\r\n    var nodeClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__node', \"react-flow__node-\".concat(type), noPanClassName, className, {\r\n      selected: selected,\r\n      selectable: isSelectable,\r\n      parent: isParent\r\n    }]);\r\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(react_draggable__WEBPACK_IMPORTED_MODULE_7__.DraggableCore, {\r\n      onStart: onDragStart,\r\n      onDrag: onDrag,\r\n      onStop: onDragStop,\r\n      scale: scale,\r\n      disabled: !isDraggable,\r\n      cancel: \".\".concat(noDragClassName),\r\n      nodeRef: nodeElement,\r\n      grid: grid,\r\n      enableUserSelectHack: false,\r\n      handle: dragHandle\r\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", {\r\n      className: nodeClasses,\r\n      ref: nodeElement,\r\n      style: nodeStyle,\r\n      onMouseEnter: onMouseEnterHandler,\r\n      onMouseMove: onMouseMoveHandler,\r\n      onMouseLeave: onMouseLeaveHandler,\r\n      onContextMenu: onContextMenuHandler,\r\n      onClick: onSelectNodeHandler,\r\n      onDoubleClick: onNodeDoubleClickHandler,\r\n      \"data-id\": id\r\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Provider, {\r\n      value: id\r\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(NodeComponent, {\r\n      id: id,\r\n      data: data,\r\n      type: type,\r\n      xPos: xPos,\r\n      yPos: yPos,\r\n      selected: selected,\r\n      isConnectable: isConnectable,\r\n      sourcePosition: sourcePosition,\r\n      targetPosition: targetPosition,\r\n      dragging: dragging,\r\n      dragHandle: dragHandle,\r\n      zIndex: zIndex\r\n    }))));\r\n  };\r\n\r\n  NodeWrapper.displayName = 'NodeWrapper';\r\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(NodeWrapper);\r\n});\r\n\r\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\nfunction createNodeTypes(nodeTypes) {\r\n  var standardTypes = {\r\n    input: wrapNode(nodeTypes.input || InputNode$1),\r\n    \"default\": wrapNode(nodeTypes[\"default\"] || DefaultNode$1),\r\n    output: wrapNode(nodeTypes.output || OutputNode$1),\r\n    group: wrapNode(nodeTypes.group || GroupNode)\r\n  };\r\n  var wrappedTypes = {};\r\n  var specialTypes = Object.keys(nodeTypes).filter(function (k) {\r\n    return !['input', 'default', 'output', 'group'].includes(k);\r\n  }).reduce(function (res, key) {\r\n    res[key] = wrapNode(nodeTypes[key] || DefaultNode$1);\r\n    return res;\r\n  }, wrappedTypes);\r\n  return _objectSpread$1(_objectSpread$1({}, standardTypes), specialTypes);\r\n}\r\n\r\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\r\n  var typesKeysRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\r\n  var typesParsed = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(function () {\r\n    if (true) {\r\n      var typeKeys = Object.keys(nodeOrEdgeTypes);\r\n\r\n      if ((0,zustand_shallow__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(typesKeysRef.current, typeKeys)) {\r\n        console.warn(\"React Flow: It looks like that you created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\");\r\n      }\r\n\r\n      typesKeysRef.current = typeKeys;\r\n    }\r\n\r\n    return createTypes(nodeOrEdgeTypes);\r\n  }, [nodeOrEdgeTypes]);\r\n  return typesParsed;\r\n}\r\nfunction injectStyle(css) {\r\n  if (!css || typeof document === 'undefined') return;\r\n  var head = document.head || document.getElementsByTagName('head')[0];\r\n  var style = document.createElement('style');\r\n  head.appendChild(style);\r\n  style.appendChild(document.createTextNode(css));\r\n}\r\n\r\nvar Wrapper = function Wrapper(_ref) {\r\n  var children = _ref.children;\r\n  var isWrapped = true;\r\n\r\n  try {\r\n    (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n  } catch (e) {\r\n    isWrapped = false;\r\n  }\r\n\r\n  if (isWrapped) {\r\n    // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\r\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\r\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, null, children);\r\n  }\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.o, {\r\n    createStore: _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.p\r\n  }, children);\r\n};\r\n\r\nWrapper.displayName = 'ReactFlowWrapper';\r\n\r\nvar _excluded = [\"nodes\", \"edges\", \"defaultNodes\", \"defaultEdges\", \"className\", \"nodeTypes\", \"edgeTypes\", \"onNodeClick\", \"onEdgeClick\", \"onInit\", \"onMove\", \"onMoveStart\", \"onMoveEnd\", \"onConnect\", \"onConnectStart\", \"onConnectStop\", \"onConnectEnd\", \"onNodeMouseEnter\", \"onNodeMouseMove\", \"onNodeMouseLeave\", \"onNodeContextMenu\", \"onNodeDoubleClick\", \"onNodeDragStart\", \"onNodeDrag\", \"onNodeDragStop\", \"onNodesDelete\", \"onEdgesDelete\", \"onSelectionChange\", \"onSelectionDragStart\", \"onSelectionDrag\", \"onSelectionDragStop\", \"onSelectionContextMenu\", \"connectionMode\", \"connectionLineType\", \"connectionLineStyle\", \"connectionLineComponent\", \"deleteKeyCode\", \"selectionKeyCode\", \"multiSelectionKeyCode\", \"zoomActivationKeyCode\", \"snapToGrid\", \"snapGrid\", \"onlyRenderVisibleElements\", \"selectNodesOnDrag\", \"nodesDraggable\", \"nodesConnectable\", \"elementsSelectable\", \"minZoom\", \"maxZoom\", \"defaultZoom\", \"defaultPosition\", \"translateExtent\", \"preventScrolling\", \"nodeExtent\", \"defaultMarkerColor\", \"zoomOnScroll\", \"zoomOnPinch\", \"panOnScroll\", \"panOnScrollSpeed\", \"panOnScrollMode\", \"zoomOnDoubleClick\", \"panOnDrag\", \"onPaneClick\", \"onPaneScroll\", \"onPaneContextMenu\", \"children\", \"onEdgeUpdate\", \"onEdgeContextMenu\", \"onEdgeDoubleClick\", \"onEdgeMouseEnter\", \"onEdgeMouseMove\", \"onEdgeMouseLeave\", \"onEdgeUpdateStart\", \"onEdgeUpdateEnd\", \"edgeUpdaterRadius\", \"onNodesChange\", \"onEdgesChange\", \"noDragClassName\", \"noWheelClassName\", \"noPanClassName\", \"fitView\", \"fitViewOptions\", \"connectOnClick\", \"attributionPosition\", \"proOptions\", \"defaultEdgeOptions\"];\r\n\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\n{\r\n  injectStyle(css_248z$1);\r\n  injectStyle(css_248z);\r\n}\r\n\r\nvar defaultNodeTypes = {\r\n  input: InputNode$1,\r\n  \"default\": DefaultNode$1,\r\n  output: OutputNode$1\r\n};\r\nvar defaultEdgeTypes = {\r\n  \"default\": BezierEdge,\r\n  straight: StraightEdge,\r\n  step: StepEdge,\r\n  smoothstep: SmoothStepEdge,\r\n  simplebezier: SimpleBezierEdge\r\n};\r\nvar initSnapGrid = [15, 15];\r\nvar initDefaultPosition = [0, 0];\r\nvar ReactFlow = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (_ref, ref) {\r\n  var nodes = _ref.nodes,\r\n      edges = _ref.edges,\r\n      defaultNodes = _ref.defaultNodes,\r\n      defaultEdges = _ref.defaultEdges,\r\n      className = _ref.className,\r\n      _ref$nodeTypes = _ref.nodeTypes,\r\n      nodeTypes = _ref$nodeTypes === void 0 ? defaultNodeTypes : _ref$nodeTypes,\r\n      _ref$edgeTypes = _ref.edgeTypes,\r\n      edgeTypes = _ref$edgeTypes === void 0 ? defaultEdgeTypes : _ref$edgeTypes,\r\n      onNodeClick = _ref.onNodeClick,\r\n      onEdgeClick = _ref.onEdgeClick,\r\n      onInit = _ref.onInit,\r\n      onMove = _ref.onMove,\r\n      onMoveStart = _ref.onMoveStart,\r\n      onMoveEnd = _ref.onMoveEnd,\r\n      onConnect = _ref.onConnect,\r\n      onConnectStart = _ref.onConnectStart,\r\n      onConnectStop = _ref.onConnectStop,\r\n      onConnectEnd = _ref.onConnectEnd,\r\n      onNodeMouseEnter = _ref.onNodeMouseEnter,\r\n      onNodeMouseMove = _ref.onNodeMouseMove,\r\n      onNodeMouseLeave = _ref.onNodeMouseLeave,\r\n      onNodeContextMenu = _ref.onNodeContextMenu,\r\n      onNodeDoubleClick = _ref.onNodeDoubleClick,\r\n      onNodeDragStart = _ref.onNodeDragStart,\r\n      onNodeDrag = _ref.onNodeDrag,\r\n      onNodeDragStop = _ref.onNodeDragStop,\r\n      onNodesDelete = _ref.onNodesDelete,\r\n      onEdgesDelete = _ref.onEdgesDelete,\r\n      onSelectionChange = _ref.onSelectionChange,\r\n      onSelectionDragStart = _ref.onSelectionDragStart,\r\n      onSelectionDrag = _ref.onSelectionDrag,\r\n      onSelectionDragStop = _ref.onSelectionDragStop,\r\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\r\n      _ref$connectionMode = _ref.connectionMode,\r\n      connectionMode = _ref$connectionMode === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.C.Strict : _ref$connectionMode,\r\n      _ref$connectionLineTy = _ref.connectionLineType,\r\n      connectionLineType = _ref$connectionLineTy === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.m.Bezier : _ref$connectionLineTy,\r\n      connectionLineStyle = _ref.connectionLineStyle,\r\n      connectionLineComponent = _ref.connectionLineComponent,\r\n      _ref$deleteKeyCode = _ref.deleteKeyCode,\r\n      deleteKeyCode = _ref$deleteKeyCode === void 0 ? 'Backspace' : _ref$deleteKeyCode,\r\n      _ref$selectionKeyCode = _ref.selectionKeyCode,\r\n      selectionKeyCode = _ref$selectionKeyCode === void 0 ? 'Shift' : _ref$selectionKeyCode,\r\n      _ref$multiSelectionKe = _ref.multiSelectionKeyCode,\r\n      multiSelectionKeyCode = _ref$multiSelectionKe === void 0 ? 'Meta' : _ref$multiSelectionKe,\r\n      _ref$zoomActivationKe = _ref.zoomActivationKeyCode,\r\n      zoomActivationKeyCode = _ref$zoomActivationKe === void 0 ? 'Meta' : _ref$zoomActivationKe,\r\n      _ref$snapToGrid = _ref.snapToGrid,\r\n      snapToGrid = _ref$snapToGrid === void 0 ? false : _ref$snapToGrid,\r\n      _ref$snapGrid = _ref.snapGrid,\r\n      snapGrid = _ref$snapGrid === void 0 ? initSnapGrid : _ref$snapGrid,\r\n      _ref$onlyRenderVisibl = _ref.onlyRenderVisibleElements,\r\n      onlyRenderVisibleElements = _ref$onlyRenderVisibl === void 0 ? false : _ref$onlyRenderVisibl,\r\n      _ref$selectNodesOnDra = _ref.selectNodesOnDrag,\r\n      selectNodesOnDrag = _ref$selectNodesOnDra === void 0 ? true : _ref$selectNodesOnDra,\r\n      nodesDraggable = _ref.nodesDraggable,\r\n      nodesConnectable = _ref.nodesConnectable,\r\n      elementsSelectable = _ref.elementsSelectable,\r\n      minZoom = _ref.minZoom,\r\n      maxZoom = _ref.maxZoom,\r\n      _ref$defaultZoom = _ref.defaultZoom,\r\n      defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\r\n      _ref$defaultPosition = _ref.defaultPosition,\r\n      defaultPosition = _ref$defaultPosition === void 0 ? initDefaultPosition : _ref$defaultPosition,\r\n      translateExtent = _ref.translateExtent,\r\n      _ref$preventScrolling = _ref.preventScrolling,\r\n      preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\r\n      nodeExtent = _ref.nodeExtent,\r\n      _ref$defaultMarkerCol = _ref.defaultMarkerColor,\r\n      defaultMarkerColor = _ref$defaultMarkerCol === void 0 ? '#b1b1b7' : _ref$defaultMarkerCol,\r\n      _ref$zoomOnScroll = _ref.zoomOnScroll,\r\n      zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\r\n      _ref$zoomOnPinch = _ref.zoomOnPinch,\r\n      zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\r\n      _ref$panOnScroll = _ref.panOnScroll,\r\n      panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\r\n      _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\r\n      panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\r\n      _ref$panOnScrollMode = _ref.panOnScrollMode,\r\n      panOnScrollMode = _ref$panOnScrollMode === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.h.Free : _ref$panOnScrollMode,\r\n      _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\r\n      zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\r\n      _ref$panOnDrag = _ref.panOnDrag,\r\n      panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\r\n      onPaneClick = _ref.onPaneClick,\r\n      onPaneScroll = _ref.onPaneScroll,\r\n      onPaneContextMenu = _ref.onPaneContextMenu,\r\n      children = _ref.children,\r\n      onEdgeUpdate = _ref.onEdgeUpdate,\r\n      onEdgeContextMenu = _ref.onEdgeContextMenu,\r\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\r\n      onEdgeMouseEnter = _ref.onEdgeMouseEnter,\r\n      onEdgeMouseMove = _ref.onEdgeMouseMove,\r\n      onEdgeMouseLeave = _ref.onEdgeMouseLeave,\r\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\r\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\r\n      _ref$edgeUpdaterRadiu = _ref.edgeUpdaterRadius,\r\n      edgeUpdaterRadius = _ref$edgeUpdaterRadiu === void 0 ? 10 : _ref$edgeUpdaterRadiu,\r\n      onNodesChange = _ref.onNodesChange,\r\n      onEdgesChange = _ref.onEdgesChange,\r\n      _ref$noDragClassName = _ref.noDragClassName,\r\n      noDragClassName = _ref$noDragClassName === void 0 ? 'nodrag' : _ref$noDragClassName,\r\n      _ref$noWheelClassName = _ref.noWheelClassName,\r\n      noWheelClassName = _ref$noWheelClassName === void 0 ? 'nowheel' : _ref$noWheelClassName,\r\n      _ref$noPanClassName = _ref.noPanClassName,\r\n      noPanClassName = _ref$noPanClassName === void 0 ? 'nopan' : _ref$noPanClassName,\r\n      _ref$fitView = _ref.fitView,\r\n      fitView = _ref$fitView === void 0 ? false : _ref$fitView,\r\n      fitViewOptions = _ref.fitViewOptions,\r\n      _ref$connectOnClick = _ref.connectOnClick,\r\n      connectOnClick = _ref$connectOnClick === void 0 ? true : _ref$connectOnClick,\r\n      attributionPosition = _ref.attributionPosition,\r\n      proOptions = _ref.proOptions,\r\n      defaultEdgeOptions = _ref.defaultEdgeOptions,\r\n      rest = (0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__.a)(_ref, _excluded);\r\n\r\n  var nodeTypesParsed = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\r\n  var edgeTypesParsed = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\r\n  var reactFlowClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow', className]);\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(\"div\", _objectSpread(_objectSpread({}, rest), {}, {\r\n    ref: ref,\r\n    className: reactFlowClasses\r\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Wrapper, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(GraphView$1, {\r\n    onInit: onInit,\r\n    onMove: onMove,\r\n    onMoveStart: onMoveStart,\r\n    onMoveEnd: onMoveEnd,\r\n    onNodeClick: onNodeClick,\r\n    onEdgeClick: onEdgeClick,\r\n    onNodeMouseEnter: onNodeMouseEnter,\r\n    onNodeMouseMove: onNodeMouseMove,\r\n    onNodeMouseLeave: onNodeMouseLeave,\r\n    onNodeContextMenu: onNodeContextMenu,\r\n    onNodeDoubleClick: onNodeDoubleClick,\r\n    onNodeDragStart: onNodeDragStart,\r\n    onNodeDrag: onNodeDrag,\r\n    onNodeDragStop: onNodeDragStop,\r\n    nodeTypes: nodeTypesParsed,\r\n    edgeTypes: edgeTypesParsed,\r\n    connectionLineType: connectionLineType,\r\n    connectionLineStyle: connectionLineStyle,\r\n    connectionLineComponent: connectionLineComponent,\r\n    selectionKeyCode: selectionKeyCode,\r\n    deleteKeyCode: deleteKeyCode,\r\n    multiSelectionKeyCode: multiSelectionKeyCode,\r\n    zoomActivationKeyCode: zoomActivationKeyCode,\r\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\r\n    selectNodesOnDrag: selectNodesOnDrag,\r\n    defaultZoom: defaultZoom,\r\n    defaultPosition: defaultPosition,\r\n    preventScrolling: preventScrolling,\r\n    zoomOnScroll: zoomOnScroll,\r\n    zoomOnPinch: zoomOnPinch,\r\n    zoomOnDoubleClick: zoomOnDoubleClick,\r\n    panOnScroll: panOnScroll,\r\n    panOnScrollSpeed: panOnScrollSpeed,\r\n    panOnScrollMode: panOnScrollMode,\r\n    panOnDrag: panOnDrag,\r\n    onPaneClick: onPaneClick,\r\n    onPaneScroll: onPaneScroll,\r\n    onPaneContextMenu: onPaneContextMenu,\r\n    onSelectionDragStart: onSelectionDragStart,\r\n    onSelectionDrag: onSelectionDrag,\r\n    onSelectionDragStop: onSelectionDragStop,\r\n    onSelectionContextMenu: onSelectionContextMenu,\r\n    onEdgeUpdate: onEdgeUpdate,\r\n    onEdgeContextMenu: onEdgeContextMenu,\r\n    onEdgeDoubleClick: onEdgeDoubleClick,\r\n    onEdgeMouseEnter: onEdgeMouseEnter,\r\n    onEdgeMouseMove: onEdgeMouseMove,\r\n    onEdgeMouseLeave: onEdgeMouseLeave,\r\n    onEdgeUpdateStart: onEdgeUpdateStart,\r\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\r\n    edgeUpdaterRadius: edgeUpdaterRadius,\r\n    defaultMarkerColor: defaultMarkerColor,\r\n    noDragClassName: noDragClassName,\r\n    noWheelClassName: noWheelClassName,\r\n    noPanClassName: noPanClassName\r\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(StoreUpdater, {\r\n    nodes: nodes,\r\n    edges: edges,\r\n    defaultNodes: defaultNodes,\r\n    defaultEdges: defaultEdges,\r\n    onConnect: onConnect,\r\n    onConnectStart: onConnectStart,\r\n    onConnectStop: onConnectStop,\r\n    onConnectEnd: onConnectEnd,\r\n    nodesDraggable: nodesDraggable,\r\n    nodesConnectable: nodesConnectable,\r\n    elementsSelectable: elementsSelectable,\r\n    minZoom: minZoom,\r\n    maxZoom: maxZoom,\r\n    nodeExtent: nodeExtent,\r\n    onNodesChange: onNodesChange,\r\n    onEdgesChange: onEdgesChange,\r\n    snapToGrid: snapToGrid,\r\n    snapGrid: snapGrid,\r\n    connectionMode: connectionMode,\r\n    translateExtent: translateExtent,\r\n    connectOnClick: connectOnClick,\r\n    defaultEdgeOptions: defaultEdgeOptions,\r\n    fitView: fitView,\r\n    fitViewOptions: fitViewOptions,\r\n    onNodesDelete: onNodesDelete,\r\n    onEdgesDelete: onEdgesDelete\r\n  }), onSelectionChange && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(SelectionListener$1, {\r\n    onSelectionChange: onSelectionChange\r\n  }), children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(Attribution, {\r\n    proOptions: proOptions,\r\n    position: attributionPosition\r\n  })));\r\n});\r\nReactFlow.displayName = 'ReactFlow';\r\n\r\nvar ReactFlowProvider = function ReactFlowProvider(_ref) {\r\n  var children = _ref.children;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.o, {\r\n    createStore: _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.p\r\n  }, children);\r\n};\r\n\r\nReactFlowProvider.displayName = 'ReactFlowProvider';\r\n\r\nfunction createUseItemsState(applyChanges) {\r\n  return function (initialItems) {\r\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(initialItems),\r\n        _useState2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\r\n        items = _useState2[0],\r\n        setItems = _useState2[1];\r\n\r\n    var onItemsChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(function (changes) {\r\n      return setItems(function (items) {\r\n        return applyChanges(changes, items);\r\n      });\r\n    }, []);\r\n    return [items, setItems, onItemsChange];\r\n  };\r\n}\r\n\r\nvar useNodesState = createUseItemsState(_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.s);\r\nvar useEdgesState = createUseItemsState(_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.q);\r\n\r\n\r\n//# sourceMappingURL=index.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwZjtBQUNwRztBQUMvUjtBQUN4RDtBQUNyQztBQUM2RztBQUNqRztBQUNPO0FBQ0U7QUFDQztBQUNDO0FBQ2dCO0FBQ2I7QUFDNEI7QUFDNUI7QUFDQTtBQUNNO0FBQ3pDO0FBQ1E7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBNEI7QUFDbEQsZUFBZSxvREFBRSxvQ0FBb0MsNERBQWtCO0FBQ3ZFO0FBQ0EsR0FBRyxlQUFlLGdEQUE0QjtBQUM5QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsZ0NBQWdDLG9DQUFvQyxvREFBb0QsNkRBQTZELGlFQUFpRSxzQ0FBc0M7QUFDelU7QUFDQSxtQ0FBbUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCwrREFBK0QscURBQWUsNkJBQTZCLHNLQUFzSyxtRkFBbUYsS0FBSztBQUNoZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNERBQXdCO0FBQ3JDO0FBQ0EsZ0JBQWdCLDZDQUFNO0FBQ3RCO0FBQ0Esa0JBQWtCLCtDQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQixxREFBYztBQUNqQztBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQUU7QUFDMUIsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQ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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdCQUFnQixnREFBNEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcscUNBQXFDLGdEQUE0QjtBQUNwRTtBQUNBLEdBQUcsMEJBQTBCLGdEQUE0QjtBQUN6RDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBNEIsQ0FBQyxpREFBVTtBQUM3RCxpQkFBaUIsaURBQVc7QUFDNUIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrQ0FBUTtBQUM1QixxQkFBcUIscURBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGlEQUFnQjtBQUN4RCx3Q0FBd0MsaURBQWdCO0FBQ3hEO0FBQzZZO0FBQzdZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy55YWxjL3JlYWN0LWZsb3ctcmVuZGVyZXItdjEyL2Rpc3QvZXNtL2luZGV4LmpzP2ZkOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXyBhcyBfc2xpY2VkVG9BcnJheSwgYSBhcyBfZGVmaW5lUHJvcGVydHksIFAgYXMgUG9zaXRpb24sIEMgYXMgQ29ubmVjdGlvbk1vZGUsIGcgYXMgZ2V0SG9zdEZvckVsZW1lbnQsIHUgYXMgdXNlU3RvcmVBcGksIGIgYXMgdXNlU3RvcmUsIGMgYXMgYWRkRWRnZSwgZCBhcyBnZXRNYXJrZXJJZCwgciBhcyByZWN0VG9Cb3gsIGUgYXMgZ2V0Q29ubmVjdGVkRWRnZXMsIGYgYXMgZ2V0RGltZW5zaW9ucywgaCBhcyBQYW5PblNjcm9sbE1vZGUsIGkgYXMgY2xhbXAsIGogYXMgZ2V0Tm9kZXNJbnNpZGUsIGsgYXMgZ2V0U2VsZWN0aW9uQ2hhbmdlcywgbCBhcyBnZXRSZWN0T2ZOb2RlcywgbSBhcyBDb25uZWN0aW9uTGluZVR5cGUsIE0gYXMgTWFya2VyVHlwZSwgbiBhcyBpc051bWVyaWMsIG8gYXMgUHJvdmlkZXIkMSwgcCBhcyBjcmVhdGVTdG9yZSwgcSBhcyBhcHBseUVkZ2VDaGFuZ2VzLCBzIGFzIGFwcGx5Tm9kZUNoYW5nZXMgfSBmcm9tICcuL2luZGV4LTNkZTJiNGRkLmpzJztcclxuZXhwb3J0IHsgQiBhcyBCYWNrZ3JvdW5kVmFyaWFudCwgbSBhcyBDb25uZWN0aW9uTGluZVR5cGUsIEMgYXMgQ29ubmVjdGlvbk1vZGUsIE0gYXMgTWFya2VyVHlwZSwgaCBhcyBQYW5PblNjcm9sbE1vZGUsIFAgYXMgUG9zaXRpb24sIGMgYXMgYWRkRWRnZSwgcSBhcyBhcHBseUVkZ2VDaGFuZ2VzLCBzIGFzIGFwcGx5Tm9kZUNoYW5nZXMsIGUgYXMgZ2V0Q29ubmVjdGVkRWRnZXMsIHggYXMgZ2V0SW5jb21lcnMsIHcgYXMgZ2V0T3V0Z29lcnMsIGwgYXMgZ2V0UmVjdE9mTm9kZXMsIHogYXMgZ2V0VHJhbnNmb3JtRm9yQm91bmRzLCB2IGFzIGlzRWRnZSwgdCBhcyBpc05vZGUsIHkgYXMgdXBkYXRlRWRnZSwgYiBhcyB1c2VTdG9yZSwgdSBhcyB1c2VTdG9yZUFwaSB9IGZyb20gJy4vaW5kZXgtM2RlMmI0ZGQuanMnO1xyXG5pbXBvcnQgeyBfIGFzIF90b0NvbnN1bWFibGVBcnJheSwgYSBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMsIHUgYXMgdXNlUmVhY3RGbG93IH0gZnJvbSAnLi91c2VSZWFjdEZsb3ctM2U2OTQ5MTUuanMnO1xyXG5leHBvcnQgeyB1IGFzIHVzZVJlYWN0RmxvdyB9IGZyb20gJy4vdXNlUmVhY3RGbG93LTNlNjk0OTE1LmpzJztcclxuaW1wb3J0IGNjIGZyb20gJ2NsYXNzY2F0JztcclxuaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IG1lbW8sIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgY3JlYXRlQ29udGV4dCwgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBzaGFsbG93IGZyb20gJ3p1c3RhbmQvc2hhbGxvdyc7XHJcbmltcG9ydCB7IHpvb20sIHpvb21JZGVudGl0eSB9IGZyb20gJ2QzLXpvb20nO1xyXG5pbXBvcnQgeyBzZWxlY3QsIHBvaW50ZXIgfSBmcm9tICdkMy1zZWxlY3Rpb24nO1xyXG5pbXBvcnQgeyBEcmFnZ2FibGVDb3JlIH0gZnJvbSAncmVhY3QtZHJhZ2dhYmxlJztcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyBNaW5pTWFwIH0gZnJvbSAnLi9pbmRleDIuanMnO1xyXG5leHBvcnQgeyBDb250cm9sQnV0dG9uLCBkZWZhdWx0IGFzIENvbnRyb2xzIH0gZnJvbSAnLi9pbmRleDMuanMnO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhY2tncm91bmQgfSBmcm9tICcuL2luZGV4NC5qcyc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlVXBkYXRlTm9kZUludGVybmFscyB9IGZyb20gJy4vdXNlVXBkYXRlTm9kZUludGVybmFscy5qcyc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXNlTm9kZXMgfSBmcm9tICcuL3VzZU5vZGVzLmpzJztcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyB1c2VFZGdlcyB9IGZyb20gJy4vdXNlRWRnZXMuanMnO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIHVzZVZpZXdwb3J0IH0gZnJvbSAnLi91c2VWaWV3cG9ydC5qcyc7XHJcbmltcG9ydCAnenVzdGFuZCc7XHJcbmltcG9ydCAnenVzdGFuZC9jb250ZXh0JztcclxuXHJcbmZ1bmN0aW9uIEF0dHJpYnV0aW9uKF9yZWYpIHtcclxuICB2YXIgcHJvT3B0aW9ucyA9IF9yZWYucHJvT3B0aW9ucyxcclxuICAgICAgX3JlZiRwb3NpdGlvbiA9IF9yZWYucG9zaXRpb24sXHJcbiAgICAgIHBvc2l0aW9uID0gX3JlZiRwb3NpdGlvbiA9PT0gdm9pZCAwID8gJ2JvdHRvbS1yaWdodCcgOiBfcmVmJHBvc2l0aW9uO1xyXG5cclxuICBpZiAoKChwcm9PcHRpb25zID09PSBudWxsIHx8IHByb09wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb09wdGlvbnMuYWNjb3VudCkgPT09ICdwYWlkLXNwb25zb3InIHx8IChwcm9PcHRpb25zID09PSBudWxsIHx8IHByb09wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb09wdGlvbnMuYWNjb3VudCkgPT09ICdwYWlkLWVudGVycHJpc2UnIHx8IChwcm9PcHRpb25zID09PSBudWxsIHx8IHByb09wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb09wdGlvbnMuYWNjb3VudCkgPT09ICdwYWlkLWN1c3RvbScpICYmIHByb09wdGlvbnMgIT09IG51bGwgJiYgcHJvT3B0aW9ucyAhPT0gdm9pZCAwICYmIHByb09wdGlvbnMuaGlkZUF0dHJpYnV0aW9uKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHZhciBwb3NpdGlvbkNsYXNzZXMgPSBcIlwiLmNvbmNhdChwb3NpdGlvbikuc3BsaXQoJy0nKTtcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3dfX2F0dHJpYnV0aW9uJ10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwb3NpdGlvbkNsYXNzZXMpKSksXHJcbiAgICBcImRhdGEtbWVzc2FnZVwiOiBcIlBsZWFzZSBvbmx5IGhpZGUgdGhpcyBhdHRyaWJ1dGlvbiB3aGVuIHlvdSBhcmUgc3Vic2NyaWJlZCB0byBSZWFjdCBGbG93IFBybzogaHR0cHM6Ly9wcm8ucmVhY3RmbG93LmRldi9wcmljaW5nXCJcclxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImFcIiwge1xyXG4gICAgaHJlZjogXCJodHRwczovL3JlYWN0Zmxvdy5kZXZcIixcclxuICAgIHRhcmdldDogXCJfYmxhbmtcIixcclxuICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCJcclxuICB9LCBcIlJlYWN0IEZsb3dcIikpO1xyXG59XHJcblxyXG52YXIgX2V4Y2x1ZGVkJDIgPSBbXCJ4XCIsIFwieVwiLCBcImxhYmVsXCIsIFwibGFiZWxTdHlsZVwiLCBcImxhYmVsU2hvd0JnXCIsIFwibGFiZWxCZ1N0eWxlXCIsIFwibGFiZWxCZ1BhZGRpbmdcIiwgXCJsYWJlbEJnQm9yZGVyUmFkaXVzXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIl07XHJcblxyXG5mdW5jdGlvbiBvd25LZXlzJGEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJGEodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkYShPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJGEoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxyXG5cclxudmFyIEVkZ2VUZXh0ID0gZnVuY3Rpb24gRWRnZVRleHQoX3JlZikge1xyXG4gIHZhciB4ID0gX3JlZi54LFxyXG4gICAgICB5ID0gX3JlZi55LFxyXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXHJcbiAgICAgIF9yZWYkbGFiZWxTdHlsZSA9IF9yZWYubGFiZWxTdHlsZSxcclxuICAgICAgbGFiZWxTdHlsZSA9IF9yZWYkbGFiZWxTdHlsZSA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGxhYmVsU3R5bGUsXHJcbiAgICAgIF9yZWYkbGFiZWxTaG93QmcgPSBfcmVmLmxhYmVsU2hvd0JnLFxyXG4gICAgICBsYWJlbFNob3dCZyA9IF9yZWYkbGFiZWxTaG93QmcgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGxhYmVsU2hvd0JnLFxyXG4gICAgICBfcmVmJGxhYmVsQmdTdHlsZSA9IF9yZWYubGFiZWxCZ1N0eWxlLFxyXG4gICAgICBsYWJlbEJnU3R5bGUgPSBfcmVmJGxhYmVsQmdTdHlsZSA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGxhYmVsQmdTdHlsZSxcclxuICAgICAgX3JlZiRsYWJlbEJnUGFkZGluZyA9IF9yZWYubGFiZWxCZ1BhZGRpbmcsXHJcbiAgICAgIGxhYmVsQmdQYWRkaW5nID0gX3JlZiRsYWJlbEJnUGFkZGluZyA9PT0gdm9pZCAwID8gWzIsIDRdIDogX3JlZiRsYWJlbEJnUGFkZGluZyxcclxuICAgICAgX3JlZiRsYWJlbEJnQm9yZGVyUmFkID0gX3JlZi5sYWJlbEJnQm9yZGVyUmFkaXVzLFxyXG4gICAgICBsYWJlbEJnQm9yZGVyUmFkaXVzID0gX3JlZiRsYWJlbEJnQm9yZGVyUmFkID09PSB2b2lkIDAgPyAyIDogX3JlZiRsYWJlbEJnQm9yZGVyUmFkLFxyXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXHJcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxyXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQyKTtcclxuXHJcbiAgdmFyIGVkZ2VSZWYgPSB1c2VSZWYobnVsbCk7XHJcblxyXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh7XHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICAgIHdpZHRoOiAwLFxyXG4gICAgaGVpZ2h0OiAwXHJcbiAgfSksXHJcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxyXG4gICAgICBlZGdlVGV4dEJib3ggPSBfdXNlU3RhdGUyWzBdLFxyXG4gICAgICBzZXRFZGdlVGV4dEJib3ggPSBfdXNlU3RhdGUyWzFdO1xyXG5cclxuICB2YXIgZWRnZVRleHRDbGFzc2VzID0gY2MoWydyZWFjdC1mbG93X19lZGdlLXRleHR3cmFwcGVyJywgY2xhc3NOYW1lXSk7XHJcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChlZGdlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgdmFyIHRleHRCYm94ID0gZWRnZVJlZi5jdXJyZW50LmdldEJCb3goKTtcclxuICAgICAgc2V0RWRnZVRleHRCYm94KHtcclxuICAgICAgICB4OiB0ZXh0QmJveC54LFxyXG4gICAgICAgIHk6IHRleHRCYm94LnksXHJcbiAgICAgICAgd2lkdGg6IHRleHRCYm94LndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogdGV4dEJib3guaGVpZ2h0XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtsYWJlbF0pO1xyXG5cclxuICBpZiAodHlwZW9mIGxhYmVsID09PSAndW5kZWZpbmVkJyB8fCAhbGFiZWwpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBfb2JqZWN0U3ByZWFkJGEoe1xyXG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIi5jb25jYXQoeCAtIGVkZ2VUZXh0QmJveC53aWR0aCAvIDIsIFwiIFwiKS5jb25jYXQoeSAtIGVkZ2VUZXh0QmJveC5oZWlnaHQgLyAyLCBcIilcIiksXHJcbiAgICBjbGFzc05hbWU6IGVkZ2VUZXh0Q2xhc3Nlc1xyXG4gIH0sIHJlc3QpLCBsYWJlbFNob3dCZyAmJiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xyXG4gICAgd2lkdGg6IGVkZ2VUZXh0QmJveC53aWR0aCArIDIgKiBsYWJlbEJnUGFkZGluZ1swXSxcclxuICAgIHg6IC1sYWJlbEJnUGFkZGluZ1swXSxcclxuICAgIHk6IC1sYWJlbEJnUGFkZGluZ1sxXSxcclxuICAgIGhlaWdodDogZWRnZVRleHRCYm94LmhlaWdodCArIDIgKiBsYWJlbEJnUGFkZGluZ1sxXSxcclxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlLXRleHRiZ1wiLFxyXG4gICAgc3R5bGU6IGxhYmVsQmdTdHlsZSxcclxuICAgIHJ4OiBsYWJlbEJnQm9yZGVyUmFkaXVzLFxyXG4gICAgcnk6IGxhYmVsQmdCb3JkZXJSYWRpdXNcclxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0XCIsIHtcclxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlLXRleHRcIixcclxuICAgIHk6IGVkZ2VUZXh0QmJveC5oZWlnaHQgLyAyLFxyXG4gICAgZHk6IFwiMC4zZW1cIixcclxuICAgIHJlZjogZWRnZVJlZixcclxuICAgIHN0eWxlOiBsYWJlbFN0eWxlXHJcbiAgfSwgbGFiZWwpLCBjaGlsZHJlbik7XHJcbn07XHJcblxyXG52YXIgRWRnZVRleHQkMSA9IC8qI19fUFVSRV9fKi9tZW1vKEVkZ2VUZXh0KTtcclxuXHJcbnZhciBCYXNlRWRnZSA9IChmdW5jdGlvbiAoX3JlZikge1xyXG4gIHZhciBwYXRoID0gX3JlZi5wYXRoLFxyXG4gICAgICBjZW50ZXJYID0gX3JlZi5jZW50ZXJYLFxyXG4gICAgICBjZW50ZXJZID0gX3JlZi5jZW50ZXJZLFxyXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXHJcbiAgICAgIGxhYmVsU3R5bGUgPSBfcmVmLmxhYmVsU3R5bGUsXHJcbiAgICAgIGxhYmVsU2hvd0JnID0gX3JlZi5sYWJlbFNob3dCZyxcclxuICAgICAgbGFiZWxCZ1N0eWxlID0gX3JlZi5sYWJlbEJnU3R5bGUsXHJcbiAgICAgIGxhYmVsQmdQYWRkaW5nID0gX3JlZi5sYWJlbEJnUGFkZGluZyxcclxuICAgICAgbGFiZWxCZ0JvcmRlclJhZGl1cyA9IF9yZWYubGFiZWxCZ0JvcmRlclJhZGl1cyxcclxuICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlLFxyXG4gICAgICBtYXJrZXJFbmQgPSBfcmVmLm1hcmtlckVuZCxcclxuICAgICAgbWFya2VyU3RhcnQgPSBfcmVmLm1hcmtlclN0YXJ0O1xyXG4gIHZhciB0ZXh0ID0gbGFiZWwgPyAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFZGdlVGV4dCQxLCB7XHJcbiAgICB4OiBjZW50ZXJYLFxyXG4gICAgeTogY2VudGVyWSxcclxuICAgIGxhYmVsOiBsYWJlbCxcclxuICAgIGxhYmVsU3R5bGU6IGxhYmVsU3R5bGUsXHJcbiAgICBsYWJlbFNob3dCZzogbGFiZWxTaG93QmcsXHJcbiAgICBsYWJlbEJnU3R5bGU6IGxhYmVsQmdTdHlsZSxcclxuICAgIGxhYmVsQmdQYWRkaW5nOiBsYWJlbEJnUGFkZGluZyxcclxuICAgIGxhYmVsQmdCb3JkZXJSYWRpdXM6IGxhYmVsQmdCb3JkZXJSYWRpdXNcclxuICB9KSA6IG51bGw7XHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xyXG4gICAgc3R5bGU6IHN0eWxlLFxyXG4gICAgZDogcGF0aCxcclxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlLXBhdGhcIixcclxuICAgIG1hcmtlckVuZDogbWFya2VyRW5kLFxyXG4gICAgbWFya2VyU3RhcnQ6IG1hcmtlclN0YXJ0XHJcbiAgfSksIHRleHQpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGdldENvbnRyb2woX3JlZikge1xyXG4gIHZhciBwb3MgPSBfcmVmLnBvcyxcclxuICAgICAgeDEgPSBfcmVmLngxLFxyXG4gICAgICB5MSA9IF9yZWYueTEsXHJcbiAgICAgIHgyID0gX3JlZi54MixcclxuICAgICAgeTIgPSBfcmVmLnkyO1xyXG4gIHZhciBjdFgsIGN0WTtcclxuXHJcbiAgc3dpdGNoIChwb3MpIHtcclxuICAgIGNhc2UgUG9zaXRpb24uTGVmdDpcclxuICAgIGNhc2UgUG9zaXRpb24uUmlnaHQ6XHJcbiAgICAgIHtcclxuICAgICAgICBjdFggPSAwLjUgKiAoeDEgKyB4Mik7XHJcbiAgICAgICAgY3RZID0geTE7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSBQb3NpdGlvbi5Ub3A6XHJcbiAgICBjYXNlIFBvc2l0aW9uLkJvdHRvbTpcclxuICAgICAge1xyXG4gICAgICAgIGN0WCA9IHgxO1xyXG4gICAgICAgIGN0WSA9IDAuNSAqICh5MSArIHkyKTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICB9XHJcblxyXG4gIHJldHVybiBbY3RYLCBjdFldO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTaW1wbGVCZXppZXJQYXRoKF9yZWYyKSB7XHJcbiAgdmFyIHNvdXJjZVggPSBfcmVmMi5zb3VyY2VYLFxyXG4gICAgICBzb3VyY2VZID0gX3JlZjIuc291cmNlWSxcclxuICAgICAgX3JlZjIkc291cmNlUG9zaXRpb24gPSBfcmVmMi5zb3VyY2VQb3NpdGlvbixcclxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmMiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZjIkc291cmNlUG9zaXRpb24sXHJcbiAgICAgIHRhcmdldFggPSBfcmVmMi50YXJnZXRYLFxyXG4gICAgICB0YXJnZXRZID0gX3JlZjIudGFyZ2V0WSxcclxuICAgICAgX3JlZjIkdGFyZ2V0UG9zaXRpb24gPSBfcmVmMi50YXJnZXRQb3NpdGlvbixcclxuICAgICAgdGFyZ2V0UG9zaXRpb24gPSBfcmVmMiR0YXJnZXRQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZjIkdGFyZ2V0UG9zaXRpb247XHJcblxyXG4gIHZhciBfZ2V0Q29udHJvbCA9IGdldENvbnRyb2woe1xyXG4gICAgcG9zOiBzb3VyY2VQb3NpdGlvbixcclxuICAgIHgxOiBzb3VyY2VYLFxyXG4gICAgeTE6IHNvdXJjZVksXHJcbiAgICB4MjogdGFyZ2V0WCxcclxuICAgIHkyOiB0YXJnZXRZXHJcbiAgfSksXHJcbiAgICAgIF9nZXRDb250cm9sMiA9IF9zbGljZWRUb0FycmF5KF9nZXRDb250cm9sLCAyKSxcclxuICAgICAgc291cmNlQ29udHJvbFggPSBfZ2V0Q29udHJvbDJbMF0sXHJcbiAgICAgIHNvdXJjZUNvbnRyb2xZID0gX2dldENvbnRyb2wyWzFdO1xyXG5cclxuICB2YXIgX2dldENvbnRyb2wzID0gZ2V0Q29udHJvbCh7XHJcbiAgICBwb3M6IHRhcmdldFBvc2l0aW9uLFxyXG4gICAgeDE6IHRhcmdldFgsXHJcbiAgICB5MTogdGFyZ2V0WSxcclxuICAgIHgyOiBzb3VyY2VYLFxyXG4gICAgeTI6IHNvdXJjZVlcclxuICB9KSxcclxuICAgICAgX2dldENvbnRyb2w0ID0gX3NsaWNlZFRvQXJyYXkoX2dldENvbnRyb2wzLCAyKSxcclxuICAgICAgdGFyZ2V0Q29udHJvbFggPSBfZ2V0Q29udHJvbDRbMF0sXHJcbiAgICAgIHRhcmdldENvbnRyb2xZID0gX2dldENvbnRyb2w0WzFdO1xyXG5cclxuICByZXR1cm4gXCJNXCIuY29uY2F0KHNvdXJjZVgsIFwiLFwiKS5jb25jYXQoc291cmNlWSwgXCIgQ1wiKS5jb25jYXQoc291cmNlQ29udHJvbFgsIFwiLFwiKS5jb25jYXQoc291cmNlQ29udHJvbFksIFwiIFwiKS5jb25jYXQodGFyZ2V0Q29udHJvbFgsIFwiLFwiKS5jb25jYXQodGFyZ2V0Q29udHJvbFksIFwiIFwiKS5jb25jYXQodGFyZ2V0WCwgXCIsXCIpLmNvbmNhdCh0YXJnZXRZKTtcclxufSAvLyBAVE9ETzogdGhpcyBmdW5jdGlvbiB3aWxsIHJlY2FsY3VsYXRlIHRoZSBjb250cm9sIHBvaW50c1xyXG4vLyBvbmUgb3B0aW9uIGlzIHRvIGxldCBnZXRYWFhQYXRoKCkgcmV0dXJuIGNlbnRlciBwb2ludHNcclxuLy8gYnV0IHdpbGwgaW50cm9kdWNlIGJyZWFraW5nIGNoYW5nZXNcclxuLy8gdGhlIGdldENlbnRlcigpIG9mIG90aGVyIHR5cGVzIG9mIGVkZ2VzIG1pZ2h0IG5lZWQgdG8gY2hhbmdlLCB0b29cclxuXHJcbmZ1bmN0aW9uIGdldFNpbXBsZUJlemllckNlbnRlcihfcmVmMykge1xyXG4gIHZhciBzb3VyY2VYID0gX3JlZjMuc291cmNlWCxcclxuICAgICAgc291cmNlWSA9IF9yZWYzLnNvdXJjZVksXHJcbiAgICAgIF9yZWYzJHNvdXJjZVBvc2l0aW9uID0gX3JlZjMuc291cmNlUG9zaXRpb24sXHJcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZjMkc291cmNlUG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLkJvdHRvbSA6IF9yZWYzJHNvdXJjZVBvc2l0aW9uLFxyXG4gICAgICB0YXJnZXRYID0gX3JlZjMudGFyZ2V0WCxcclxuICAgICAgdGFyZ2V0WSA9IF9yZWYzLnRhcmdldFksXHJcbiAgICAgIF9yZWYzJHRhcmdldFBvc2l0aW9uID0gX3JlZjMudGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZjMkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWYzJHRhcmdldFBvc2l0aW9uO1xyXG5cclxuICB2YXIgX2dldENvbnRyb2w1ID0gZ2V0Q29udHJvbCh7XHJcbiAgICBwb3M6IHNvdXJjZVBvc2l0aW9uLFxyXG4gICAgeDE6IHNvdXJjZVgsXHJcbiAgICB5MTogc291cmNlWSxcclxuICAgIHgyOiB0YXJnZXRYLFxyXG4gICAgeTI6IHRhcmdldFlcclxuICB9KSxcclxuICAgICAgX2dldENvbnRyb2w2ID0gX3NsaWNlZFRvQXJyYXkoX2dldENvbnRyb2w1LCAyKSxcclxuICAgICAgc291cmNlQ29udHJvbFggPSBfZ2V0Q29udHJvbDZbMF0sXHJcbiAgICAgIHNvdXJjZUNvbnRyb2xZID0gX2dldENvbnRyb2w2WzFdO1xyXG5cclxuICB2YXIgX2dldENvbnRyb2w3ID0gZ2V0Q29udHJvbCh7XHJcbiAgICBwb3M6IHRhcmdldFBvc2l0aW9uLFxyXG4gICAgeDE6IHRhcmdldFgsXHJcbiAgICB5MTogdGFyZ2V0WSxcclxuICAgIHgyOiBzb3VyY2VYLFxyXG4gICAgeTI6IHNvdXJjZVlcclxuICB9KSxcclxuICAgICAgX2dldENvbnRyb2w4ID0gX3NsaWNlZFRvQXJyYXkoX2dldENvbnRyb2w3LCAyKSxcclxuICAgICAgdGFyZ2V0Q29udHJvbFggPSBfZ2V0Q29udHJvbDhbMF0sXHJcbiAgICAgIHRhcmdldENvbnRyb2xZID0gX2dldENvbnRyb2w4WzFdOyAvLyBjdWJpYyBiZXppZXIgdD0wLjUgbWlkIHBvaW50LCBub3QgdGhlIGFjdHVhbCBtaWQgcG9pbnQsIGJ1dCBlYXN5IHRvIGNhbGN1bGF0ZVxyXG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzY3NTE2MTAxL2hvdy10by1maW5kLWRpc3RhbmNlLW1pZC1wb2ludC1vZi1iZXppZXItY3VydmVcclxuXHJcblxyXG4gIHZhciBjZW50ZXJYID0gc291cmNlWCAqIDAuMTI1ICsgc291cmNlQ29udHJvbFggKiAwLjM3NSArIHRhcmdldENvbnRyb2xYICogMC4zNzUgKyB0YXJnZXRYICogMC4xMjU7XHJcbiAgdmFyIGNlbnRlclkgPSBzb3VyY2VZICogMC4xMjUgKyBzb3VyY2VDb250cm9sWSAqIDAuMzc1ICsgdGFyZ2V0Q29udHJvbFkgKiAwLjM3NSArIHRhcmdldFkgKiAwLjEyNTtcclxuICB2YXIgeE9mZnNldCA9IE1hdGguYWJzKGNlbnRlclggLSBzb3VyY2VYKTtcclxuICB2YXIgeU9mZnNldCA9IE1hdGguYWJzKGNlbnRlclkgLSBzb3VyY2VZKTtcclxuICByZXR1cm4gW2NlbnRlclgsIGNlbnRlclksIHhPZmZzZXQsIHlPZmZzZXRdO1xyXG59XHJcbnZhciBTaW1wbGVCZXppZXJFZGdlID0gLyojX19QVVJFX18qL21lbW8oZnVuY3Rpb24gKF9yZWY0KSB7XHJcbiAgdmFyIHNvdXJjZVggPSBfcmVmNC5zb3VyY2VYLFxyXG4gICAgICBzb3VyY2VZID0gX3JlZjQuc291cmNlWSxcclxuICAgICAgdGFyZ2V0WCA9IF9yZWY0LnRhcmdldFgsXHJcbiAgICAgIHRhcmdldFkgPSBfcmVmNC50YXJnZXRZLFxyXG4gICAgICBfcmVmNCRzb3VyY2VQb3NpdGlvbiA9IF9yZWY0LnNvdXJjZVBvc2l0aW9uLFxyXG4gICAgICBzb3VyY2VQb3NpdGlvbiA9IF9yZWY0JHNvdXJjZVBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Cb3R0b20gOiBfcmVmNCRzb3VyY2VQb3NpdGlvbixcclxuICAgICAgX3JlZjQkdGFyZ2V0UG9zaXRpb24gPSBfcmVmNC50YXJnZXRQb3NpdGlvbixcclxuICAgICAgdGFyZ2V0UG9zaXRpb24gPSBfcmVmNCR0YXJnZXRQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZjQkdGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIGxhYmVsID0gX3JlZjQubGFiZWwsXHJcbiAgICAgIGxhYmVsU3R5bGUgPSBfcmVmNC5sYWJlbFN0eWxlLFxyXG4gICAgICBsYWJlbFNob3dCZyA9IF9yZWY0LmxhYmVsU2hvd0JnLFxyXG4gICAgICBsYWJlbEJnU3R5bGUgPSBfcmVmNC5sYWJlbEJnU3R5bGUsXHJcbiAgICAgIGxhYmVsQmdQYWRkaW5nID0gX3JlZjQubGFiZWxCZ1BhZGRpbmcsXHJcbiAgICAgIGxhYmVsQmdCb3JkZXJSYWRpdXMgPSBfcmVmNC5sYWJlbEJnQm9yZGVyUmFkaXVzLFxyXG4gICAgICBzdHlsZSA9IF9yZWY0LnN0eWxlLFxyXG4gICAgICBtYXJrZXJFbmQgPSBfcmVmNC5tYXJrZXJFbmQsXHJcbiAgICAgIG1hcmtlclN0YXJ0ID0gX3JlZjQubWFya2VyU3RhcnQ7XHJcbiAgdmFyIHBhcmFtcyA9IHtcclxuICAgIHNvdXJjZVg6IHNvdXJjZVgsXHJcbiAgICBzb3VyY2VZOiBzb3VyY2VZLFxyXG4gICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxyXG4gICAgdGFyZ2V0WDogdGFyZ2V0WCxcclxuICAgIHRhcmdldFk6IHRhcmdldFksXHJcbiAgICB0YXJnZXRQb3NpdGlvbjogdGFyZ2V0UG9zaXRpb25cclxuICB9O1xyXG4gIHZhciBwYXRoID0gZ2V0U2ltcGxlQmV6aWVyUGF0aChwYXJhbXMpO1xyXG5cclxuICB2YXIgX2dldFNpbXBsZUJlemllckNlbnRlID0gZ2V0U2ltcGxlQmV6aWVyQ2VudGVyKHBhcmFtcyksXHJcbiAgICAgIF9nZXRTaW1wbGVCZXppZXJDZW50ZTIgPSBfc2xpY2VkVG9BcnJheShfZ2V0U2ltcGxlQmV6aWVyQ2VudGUsIDIpLFxyXG4gICAgICBjZW50ZXJYID0gX2dldFNpbXBsZUJlemllckNlbnRlMlswXSxcclxuICAgICAgY2VudGVyWSA9IF9nZXRTaW1wbGVCZXppZXJDZW50ZTJbMV07XHJcblxyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCYXNlRWRnZSwge1xyXG4gICAgcGF0aDogcGF0aCxcclxuICAgIGNlbnRlclg6IGNlbnRlclgsXHJcbiAgICBjZW50ZXJZOiBjZW50ZXJZLFxyXG4gICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgbGFiZWxTdHlsZTogbGFiZWxTdHlsZSxcclxuICAgIGxhYmVsU2hvd0JnOiBsYWJlbFNob3dCZyxcclxuICAgIGxhYmVsQmdTdHlsZTogbGFiZWxCZ1N0eWxlLFxyXG4gICAgbGFiZWxCZ1BhZGRpbmc6IGxhYmVsQmdQYWRkaW5nLFxyXG4gICAgbGFiZWxCZ0JvcmRlclJhZGl1czogbGFiZWxCZ0JvcmRlclJhZGl1cyxcclxuICAgIHN0eWxlOiBzdHlsZSxcclxuICAgIG1hcmtlckVuZDogbWFya2VyRW5kLFxyXG4gICAgbWFya2VyU3RhcnQ6IG1hcmtlclN0YXJ0XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxudmFyIGdldE1hcmtlckVuZCA9IGZ1bmN0aW9uIGdldE1hcmtlckVuZChtYXJrZXJUeXBlLCBtYXJrZXJFbmRJZCkge1xyXG4gIGlmICh0eXBlb2YgbWFya2VyRW5kSWQgIT09ICd1bmRlZmluZWQnICYmIG1hcmtlckVuZElkKSB7XHJcbiAgICByZXR1cm4gXCJ1cmwoI1wiLmNvbmNhdChtYXJrZXJFbmRJZCwgXCIpXCIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHR5cGVvZiBtYXJrZXJUeXBlICE9PSAndW5kZWZpbmVkJyA/IFwidXJsKCNyZWFjdC1mbG93X19cIi5jb25jYXQobWFya2VyVHlwZSwgXCIpXCIpIDogJ25vbmUnO1xyXG59O1xyXG52YXIgTGVmdE9yUmlnaHQgPSBbUG9zaXRpb24uTGVmdCwgUG9zaXRpb24uUmlnaHRdO1xyXG52YXIgZ2V0Q2VudGVyID0gZnVuY3Rpb24gZ2V0Q2VudGVyKF9yZWYpIHtcclxuICB2YXIgc291cmNlWCA9IF9yZWYuc291cmNlWCxcclxuICAgICAgc291cmNlWSA9IF9yZWYuc291cmNlWSxcclxuICAgICAgdGFyZ2V0WCA9IF9yZWYudGFyZ2V0WCxcclxuICAgICAgdGFyZ2V0WSA9IF9yZWYudGFyZ2V0WSxcclxuICAgICAgX3JlZiRzb3VyY2VQb3NpdGlvbiA9IF9yZWYuc291cmNlUG9zaXRpb24sXHJcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZiRzb3VyY2VQb3NpdGlvbixcclxuICAgICAgX3JlZiR0YXJnZXRQb3NpdGlvbiA9IF9yZWYudGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZiR0YXJnZXRQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZiR0YXJnZXRQb3NpdGlvbjtcclxuICB2YXIgc291cmNlSXNMZWZ0T3JSaWdodCA9IExlZnRPclJpZ2h0LmluY2x1ZGVzKHNvdXJjZVBvc2l0aW9uKTtcclxuICB2YXIgdGFyZ2V0SXNMZWZ0T3JSaWdodCA9IExlZnRPclJpZ2h0LmluY2x1ZGVzKHRhcmdldFBvc2l0aW9uKTsgLy8gd2UgZXhwZWN0IGZsb3dzIHRvIGJlIGhvcml6b250YWwgb3IgdmVydGljYWwgKGFsbCBoYW5kbGVzIGxlZnQgb3IgcmlnaHQgcmVzcGVjdGl2ZWx5IHRvcCBvciBib3R0b20pXHJcbiAgLy8gYSBtaXhlZCBlZGdlIGlzIHdoZW4gb25lIHRoZSBzb3VyY2UgaXMgb24gdGhlIGxlZnQgYW5kIHRoZSB0YXJnZXQgaXMgb24gdGhlIHRvcCBmb3IgZXhhbXBsZS5cclxuXHJcbiAgdmFyIG1peGVkRWRnZSA9IHNvdXJjZUlzTGVmdE9yUmlnaHQgJiYgIXRhcmdldElzTGVmdE9yUmlnaHQgfHwgdGFyZ2V0SXNMZWZ0T3JSaWdodCAmJiAhc291cmNlSXNMZWZ0T3JSaWdodDtcclxuXHJcbiAgaWYgKG1peGVkRWRnZSkge1xyXG4gICAgdmFyIF94T2Zmc2V0ID0gc291cmNlSXNMZWZ0T3JSaWdodCA/IE1hdGguYWJzKHRhcmdldFggLSBzb3VyY2VYKSA6IDA7XHJcblxyXG4gICAgdmFyIF9jZW50ZXJYID0gc291cmNlWCA+IHRhcmdldFggPyBzb3VyY2VYIC0gX3hPZmZzZXQgOiBzb3VyY2VYICsgX3hPZmZzZXQ7XHJcblxyXG4gICAgdmFyIF95T2Zmc2V0ID0gc291cmNlSXNMZWZ0T3JSaWdodCA/IDAgOiBNYXRoLmFicyh0YXJnZXRZIC0gc291cmNlWSk7XHJcblxyXG4gICAgdmFyIF9jZW50ZXJZID0gc291cmNlWSA8IHRhcmdldFkgPyBzb3VyY2VZICsgX3lPZmZzZXQgOiBzb3VyY2VZIC0gX3lPZmZzZXQ7XHJcblxyXG4gICAgcmV0dXJuIFtfY2VudGVyWCwgX2NlbnRlclksIF94T2Zmc2V0LCBfeU9mZnNldF07XHJcbiAgfVxyXG5cclxuICB2YXIgeE9mZnNldCA9IE1hdGguYWJzKHRhcmdldFggLSBzb3VyY2VYKSAvIDI7XHJcbiAgdmFyIGNlbnRlclggPSB0YXJnZXRYIDwgc291cmNlWCA/IHRhcmdldFggKyB4T2Zmc2V0IDogdGFyZ2V0WCAtIHhPZmZzZXQ7XHJcbiAgdmFyIHlPZmZzZXQgPSBNYXRoLmFicyh0YXJnZXRZIC0gc291cmNlWSkgLyAyO1xyXG4gIHZhciBjZW50ZXJZID0gdGFyZ2V0WSA8IHNvdXJjZVkgPyB0YXJnZXRZICsgeU9mZnNldCA6IHRhcmdldFkgLSB5T2Zmc2V0O1xyXG4gIHJldHVybiBbY2VudGVyWCwgY2VudGVyWSwgeE9mZnNldCwgeU9mZnNldF07XHJcbn07XHJcblxyXG4vLyBUaGUgbmFtZSBpbmRpY2F0ZXMgdGhlIGRpcmVjdGlvbiBvZiB0aGUgcGF0aC4gXCJib3R0b21MZWZ0Q29ybmVyXCIgZ29lc1xyXG4vLyBmcm9tIGJvdHRvbSB0byB0aGUgbGVmdCBhbmQgXCJsZWZ0Qm90dG9tQ29ybmVyXCIgZ29lcyBmcm9tIGxlZnQgdG8gdGhlIGJvdHRvbS5cclxuLy8gV2UgaGF2ZSB0byBjb25zaWRlciB0aGUgZGlyZWN0aW9uIG9mIHRoZSBwYXRocyBiZWNhdXNlIG9mIHRoZSBhbmltYXRlZCBsaW5lcy5cclxuXHJcbnZhciBib3R0b21MZWZ0Q29ybmVyID0gZnVuY3Rpb24gYm90dG9tTGVmdENvcm5lcih4LCB5LCBzaXplKSB7XHJcbiAgcmV0dXJuIFwiTCBcIi5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5IC0gc2l6ZSwgXCJRIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5LCBcIiBcIikuY29uY2F0KHggKyBzaXplLCBcIixcIikuY29uY2F0KHkpO1xyXG59O1xyXG5cclxudmFyIGxlZnRCb3R0b21Db3JuZXIgPSBmdW5jdGlvbiBsZWZ0Qm90dG9tQ29ybmVyKHgsIHksIHNpemUpIHtcclxuICByZXR1cm4gXCJMIFwiLmNvbmNhdCh4ICsgc2l6ZSwgXCIsXCIpLmNvbmNhdCh5LCBcIlEgXCIpLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHksIFwiIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5IC0gc2l6ZSk7XHJcbn07XHJcblxyXG52YXIgYm90dG9tUmlnaHRDb3JuZXIgPSBmdW5jdGlvbiBib3R0b21SaWdodENvcm5lcih4LCB5LCBzaXplKSB7XHJcbiAgcmV0dXJuIFwiTCBcIi5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5IC0gc2l6ZSwgXCJRIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5LCBcIiBcIikuY29uY2F0KHggLSBzaXplLCBcIixcIikuY29uY2F0KHkpO1xyXG59O1xyXG5cclxudmFyIHJpZ2h0Qm90dG9tQ29ybmVyID0gZnVuY3Rpb24gcmlnaHRCb3R0b21Db3JuZXIoeCwgeSwgc2l6ZSkge1xyXG4gIHJldHVybiBcIkwgXCIuY29uY2F0KHggLSBzaXplLCBcIixcIikuY29uY2F0KHksIFwiUSBcIikuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSwgXCIgXCIpLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHkgLSBzaXplKTtcclxufTtcclxuXHJcbnZhciBsZWZ0VG9wQ29ybmVyID0gZnVuY3Rpb24gbGVmdFRvcENvcm5lcih4LCB5LCBzaXplKSB7XHJcbiAgcmV0dXJuIFwiTCBcIi5jb25jYXQoeCArIHNpemUsIFwiLFwiKS5jb25jYXQoeSwgXCJRIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5LCBcIiBcIikuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSArIHNpemUpO1xyXG59O1xyXG5cclxudmFyIHRvcExlZnRDb3JuZXIgPSBmdW5jdGlvbiB0b3BMZWZ0Q29ybmVyKHgsIHksIHNpemUpIHtcclxuICByZXR1cm4gXCJMIFwiLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHkgKyBzaXplLCBcIlEgXCIpLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHksIFwiIFwiKS5jb25jYXQoeCArIHNpemUsIFwiLFwiKS5jb25jYXQoeSk7XHJcbn07XHJcblxyXG52YXIgdG9wUmlnaHRDb3JuZXIgPSBmdW5jdGlvbiB0b3BSaWdodENvcm5lcih4LCB5LCBzaXplKSB7XHJcbiAgcmV0dXJuIFwiTCBcIi5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5ICsgc2l6ZSwgXCJRIFwiKS5jb25jYXQoeCwgXCIsXCIpLmNvbmNhdCh5LCBcIiBcIikuY29uY2F0KHggLSBzaXplLCBcIixcIikuY29uY2F0KHkpO1xyXG59O1xyXG5cclxudmFyIHJpZ2h0VG9wQ29ybmVyID0gZnVuY3Rpb24gcmlnaHRUb3BDb3JuZXIoeCwgeSwgc2l6ZSkge1xyXG4gIHJldHVybiBcIkwgXCIuY29uY2F0KHggLSBzaXplLCBcIixcIikuY29uY2F0KHksIFwiUSBcIikuY29uY2F0KHgsIFwiLFwiKS5jb25jYXQoeSwgXCIgXCIpLmNvbmNhdCh4LCBcIixcIikuY29uY2F0KHkgKyBzaXplKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldFNtb290aFN0ZXBQYXRoKF9yZWYpIHtcclxuICB2YXIgc291cmNlWCA9IF9yZWYuc291cmNlWCxcclxuICAgICAgc291cmNlWSA9IF9yZWYuc291cmNlWSxcclxuICAgICAgX3JlZiRzb3VyY2VQb3NpdGlvbiA9IF9yZWYuc291cmNlUG9zaXRpb24sXHJcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZiRzb3VyY2VQb3NpdGlvbixcclxuICAgICAgdGFyZ2V0WCA9IF9yZWYudGFyZ2V0WCxcclxuICAgICAgdGFyZ2V0WSA9IF9yZWYudGFyZ2V0WSxcclxuICAgICAgX3JlZiR0YXJnZXRQb3NpdGlvbiA9IF9yZWYudGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZiR0YXJnZXRQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZiR0YXJnZXRQb3NpdGlvbixcclxuICAgICAgX3JlZiRib3JkZXJSYWRpdXMgPSBfcmVmLmJvcmRlclJhZGl1cyxcclxuICAgICAgYm9yZGVyUmFkaXVzID0gX3JlZiRib3JkZXJSYWRpdXMgPT09IHZvaWQgMCA/IDUgOiBfcmVmJGJvcmRlclJhZGl1cyxcclxuICAgICAgY2VudGVyWCA9IF9yZWYuY2VudGVyWCxcclxuICAgICAgY2VudGVyWSA9IF9yZWYuY2VudGVyWTtcclxuXHJcbiAgdmFyIF9nZXRDZW50ZXIgPSBnZXRDZW50ZXIoe1xyXG4gICAgc291cmNlWDogc291cmNlWCxcclxuICAgIHNvdXJjZVk6IHNvdXJjZVksXHJcbiAgICB0YXJnZXRYOiB0YXJnZXRYLFxyXG4gICAgdGFyZ2V0WTogdGFyZ2V0WVxyXG4gIH0pLFxyXG4gICAgICBfZ2V0Q2VudGVyMiA9IF9zbGljZWRUb0FycmF5KF9nZXRDZW50ZXIsIDQpLFxyXG4gICAgICBfY2VudGVyWCA9IF9nZXRDZW50ZXIyWzBdLFxyXG4gICAgICBfY2VudGVyWSA9IF9nZXRDZW50ZXIyWzFdLFxyXG4gICAgICBvZmZzZXRYID0gX2dldENlbnRlcjJbMl0sXHJcbiAgICAgIG9mZnNldFkgPSBfZ2V0Q2VudGVyMlszXTtcclxuXHJcbiAgdmFyIGNvcm5lcldpZHRoID0gTWF0aC5taW4oYm9yZGVyUmFkaXVzLCBNYXRoLmFicyh0YXJnZXRYIC0gc291cmNlWCkpO1xyXG4gIHZhciBjb3JuZXJIZWlnaHQgPSBNYXRoLm1pbihib3JkZXJSYWRpdXMsIE1hdGguYWJzKHRhcmdldFkgLSBzb3VyY2VZKSk7XHJcbiAgdmFyIGNvcm5lclNpemUgPSBNYXRoLm1pbihjb3JuZXJXaWR0aCwgY29ybmVySGVpZ2h0LCBvZmZzZXRYLCBvZmZzZXRZKTtcclxuICB2YXIgbGVmdEFuZFJpZ2h0ID0gW1Bvc2l0aW9uLkxlZnQsIFBvc2l0aW9uLlJpZ2h0XTtcclxuICB2YXIgY1ggPSB0eXBlb2YgY2VudGVyWCAhPT0gJ3VuZGVmaW5lZCcgPyBjZW50ZXJYIDogX2NlbnRlclg7XHJcbiAgdmFyIGNZID0gdHlwZW9mIGNlbnRlclkgIT09ICd1bmRlZmluZWQnID8gY2VudGVyWSA6IF9jZW50ZXJZO1xyXG4gIHZhciBmaXJzdENvcm5lclBhdGggPSBudWxsO1xyXG4gIHZhciBzZWNvbmRDb3JuZXJQYXRoID0gbnVsbDtcclxuXHJcbiAgaWYgKHNvdXJjZVggPD0gdGFyZ2V0WCkge1xyXG4gICAgZmlyc3RDb3JuZXJQYXRoID0gc291cmNlWSA8PSB0YXJnZXRZID8gYm90dG9tTGVmdENvcm5lcihzb3VyY2VYLCBjWSwgY29ybmVyU2l6ZSkgOiB0b3BMZWZ0Q29ybmVyKHNvdXJjZVgsIGNZLCBjb3JuZXJTaXplKTtcclxuICAgIHNlY29uZENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyByaWdodFRvcENvcm5lcih0YXJnZXRYLCBjWSwgY29ybmVyU2l6ZSkgOiByaWdodEJvdHRvbUNvcm5lcih0YXJnZXRYLCBjWSwgY29ybmVyU2l6ZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGZpcnN0Q29ybmVyUGF0aCA9IHNvdXJjZVkgPCB0YXJnZXRZID8gYm90dG9tUmlnaHRDb3JuZXIoc291cmNlWCwgY1ksIGNvcm5lclNpemUpIDogdG9wUmlnaHRDb3JuZXIoc291cmNlWCwgY1ksIGNvcm5lclNpemUpO1xyXG4gICAgc2Vjb25kQ29ybmVyUGF0aCA9IHNvdXJjZVkgPCB0YXJnZXRZID8gbGVmdFRvcENvcm5lcih0YXJnZXRYLCBjWSwgY29ybmVyU2l6ZSkgOiBsZWZ0Qm90dG9tQ29ybmVyKHRhcmdldFgsIGNZLCBjb3JuZXJTaXplKTtcclxuICB9XHJcblxyXG4gIGlmIChsZWZ0QW5kUmlnaHQuaW5jbHVkZXMoc291cmNlUG9zaXRpb24pICYmIGxlZnRBbmRSaWdodC5pbmNsdWRlcyh0YXJnZXRQb3NpdGlvbikpIHtcclxuICAgIGlmIChzb3VyY2VYIDw9IHRhcmdldFgpIHtcclxuICAgICAgZmlyc3RDb3JuZXJQYXRoID0gc291cmNlWSA8PSB0YXJnZXRZID8gcmlnaHRUb3BDb3JuZXIoY1gsIHNvdXJjZVksIGNvcm5lclNpemUpIDogcmlnaHRCb3R0b21Db3JuZXIoY1gsIHNvdXJjZVksIGNvcm5lclNpemUpO1xyXG4gICAgICBzZWNvbmRDb3JuZXJQYXRoID0gc291cmNlWSA8PSB0YXJnZXRZID8gYm90dG9tTGVmdENvcm5lcihjWCwgdGFyZ2V0WSwgY29ybmVyU2l6ZSkgOiB0b3BMZWZ0Q29ybmVyKGNYLCB0YXJnZXRZLCBjb3JuZXJTaXplKTtcclxuICAgIH0gZWxzZSBpZiAoc291cmNlUG9zaXRpb24gPT09IFBvc2l0aW9uLlJpZ2h0ICYmIHRhcmdldFBvc2l0aW9uID09PSBQb3NpdGlvbi5MZWZ0IHx8IHNvdXJjZVBvc2l0aW9uID09PSBQb3NpdGlvbi5MZWZ0ICYmIHRhcmdldFBvc2l0aW9uID09PSBQb3NpdGlvbi5SaWdodCB8fCBzb3VyY2VQb3NpdGlvbiA9PT0gUG9zaXRpb24uTGVmdCAmJiB0YXJnZXRQb3NpdGlvbiA9PT0gUG9zaXRpb24uTGVmdCkge1xyXG4gICAgICAvLyBhbmQgc291cmNlWCA+IHRhcmdldFhcclxuICAgICAgZmlyc3RDb3JuZXJQYXRoID0gc291cmNlWSA8PSB0YXJnZXRZID8gbGVmdFRvcENvcm5lcihjWCwgc291cmNlWSwgY29ybmVyU2l6ZSkgOiBsZWZ0Qm90dG9tQ29ybmVyKGNYLCBzb3VyY2VZLCBjb3JuZXJTaXplKTtcclxuICAgICAgc2Vjb25kQ29ybmVyUGF0aCA9IHNvdXJjZVkgPD0gdGFyZ2V0WSA/IGJvdHRvbVJpZ2h0Q29ybmVyKGNYLCB0YXJnZXRZLCBjb3JuZXJTaXplKSA6IHRvcFJpZ2h0Q29ybmVyKGNYLCB0YXJnZXRZLCBjb3JuZXJTaXplKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGxlZnRBbmRSaWdodC5pbmNsdWRlcyhzb3VyY2VQb3NpdGlvbikgJiYgIWxlZnRBbmRSaWdodC5pbmNsdWRlcyh0YXJnZXRQb3NpdGlvbikpIHtcclxuICAgIGlmIChzb3VyY2VYIDw9IHRhcmdldFgpIHtcclxuICAgICAgZmlyc3RDb3JuZXJQYXRoID0gc291cmNlWSA8PSB0YXJnZXRZID8gcmlnaHRUb3BDb3JuZXIodGFyZ2V0WCwgc291cmNlWSwgY29ybmVyU2l6ZSkgOiByaWdodEJvdHRvbUNvcm5lcih0YXJnZXRYLCBzb3VyY2VZLCBjb3JuZXJTaXplKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZpcnN0Q29ybmVyUGF0aCA9IHNvdXJjZVkgPD0gdGFyZ2V0WSA/IGxlZnRUb3BDb3JuZXIodGFyZ2V0WCwgc291cmNlWSwgY29ybmVyU2l6ZSkgOiBsZWZ0Qm90dG9tQ29ybmVyKHRhcmdldFgsIHNvdXJjZVksIGNvcm5lclNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlY29uZENvcm5lclBhdGggPSAnJztcclxuICB9IGVsc2UgaWYgKCFsZWZ0QW5kUmlnaHQuaW5jbHVkZXMoc291cmNlUG9zaXRpb24pICYmIGxlZnRBbmRSaWdodC5pbmNsdWRlcyh0YXJnZXRQb3NpdGlvbikpIHtcclxuICAgIGlmIChzb3VyY2VYIDw9IHRhcmdldFgpIHtcclxuICAgICAgZmlyc3RDb3JuZXJQYXRoID0gc291cmNlWSA8PSB0YXJnZXRZID8gYm90dG9tTGVmdENvcm5lcihzb3VyY2VYLCB0YXJnZXRZLCBjb3JuZXJTaXplKSA6IHRvcExlZnRDb3JuZXIoc291cmNlWCwgdGFyZ2V0WSwgY29ybmVyU2l6ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmaXJzdENvcm5lclBhdGggPSBzb3VyY2VZIDw9IHRhcmdldFkgPyBib3R0b21SaWdodENvcm5lcihzb3VyY2VYLCB0YXJnZXRZLCBjb3JuZXJTaXplKSA6IHRvcFJpZ2h0Q29ybmVyKHNvdXJjZVgsIHRhcmdldFksIGNvcm5lclNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlY29uZENvcm5lclBhdGggPSAnJztcclxuICB9XHJcblxyXG4gIHJldHVybiBcIk0gXCIuY29uY2F0KHNvdXJjZVgsIFwiLFwiKS5jb25jYXQoc291cmNlWSkuY29uY2F0KGZpcnN0Q29ybmVyUGF0aCkuY29uY2F0KHNlY29uZENvcm5lclBhdGgsIFwiTCBcIikuY29uY2F0KHRhcmdldFgsIFwiLFwiKS5jb25jYXQodGFyZ2V0WSk7XHJcbn1cclxudmFyIFNtb290aFN0ZXBFZGdlID0gLyojX19QVVJFX18qL21lbW8oZnVuY3Rpb24gKF9yZWYyKSB7XHJcbiAgdmFyIHNvdXJjZVggPSBfcmVmMi5zb3VyY2VYLFxyXG4gICAgICBzb3VyY2VZID0gX3JlZjIuc291cmNlWSxcclxuICAgICAgdGFyZ2V0WCA9IF9yZWYyLnRhcmdldFgsXHJcbiAgICAgIHRhcmdldFkgPSBfcmVmMi50YXJnZXRZLFxyXG4gICAgICBsYWJlbCA9IF9yZWYyLmxhYmVsLFxyXG4gICAgICBsYWJlbFN0eWxlID0gX3JlZjIubGFiZWxTdHlsZSxcclxuICAgICAgbGFiZWxTaG93QmcgPSBfcmVmMi5sYWJlbFNob3dCZyxcclxuICAgICAgbGFiZWxCZ1N0eWxlID0gX3JlZjIubGFiZWxCZ1N0eWxlLFxyXG4gICAgICBsYWJlbEJnUGFkZGluZyA9IF9yZWYyLmxhYmVsQmdQYWRkaW5nLFxyXG4gICAgICBsYWJlbEJnQm9yZGVyUmFkaXVzID0gX3JlZjIubGFiZWxCZ0JvcmRlclJhZGl1cyxcclxuICAgICAgc3R5bGUgPSBfcmVmMi5zdHlsZSxcclxuICAgICAgX3JlZjIkc291cmNlUG9zaXRpb24gPSBfcmVmMi5zb3VyY2VQb3NpdGlvbixcclxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmMiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZjIkc291cmNlUG9zaXRpb24sXHJcbiAgICAgIF9yZWYyJHRhcmdldFBvc2l0aW9uID0gX3JlZjIudGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZjIkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWYyJHRhcmdldFBvc2l0aW9uLFxyXG4gICAgICBtYXJrZXJFbmQgPSBfcmVmMi5tYXJrZXJFbmQsXHJcbiAgICAgIG1hcmtlclN0YXJ0ID0gX3JlZjIubWFya2VyU3RhcnQsXHJcbiAgICAgIF9yZWYyJGJvcmRlclJhZGl1cyA9IF9yZWYyLmJvcmRlclJhZGl1cyxcclxuICAgICAgYm9yZGVyUmFkaXVzID0gX3JlZjIkYm9yZGVyUmFkaXVzID09PSB2b2lkIDAgPyA1IDogX3JlZjIkYm9yZGVyUmFkaXVzO1xyXG5cclxuICB2YXIgX2dldENlbnRlcjMgPSBnZXRDZW50ZXIoe1xyXG4gICAgc291cmNlWDogc291cmNlWCxcclxuICAgIHNvdXJjZVk6IHNvdXJjZVksXHJcbiAgICB0YXJnZXRYOiB0YXJnZXRYLFxyXG4gICAgdGFyZ2V0WTogdGFyZ2V0WSxcclxuICAgIHNvdXJjZVBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcclxuICAgIHRhcmdldFBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvblxyXG4gIH0pLFxyXG4gICAgICBfZ2V0Q2VudGVyNCA9IF9zbGljZWRUb0FycmF5KF9nZXRDZW50ZXIzLCAyKSxcclxuICAgICAgY2VudGVyWCA9IF9nZXRDZW50ZXI0WzBdLFxyXG4gICAgICBjZW50ZXJZID0gX2dldENlbnRlcjRbMV07XHJcblxyXG4gIHZhciBwYXRoID0gZ2V0U21vb3RoU3RlcFBhdGgoe1xyXG4gICAgc291cmNlWDogc291cmNlWCxcclxuICAgIHNvdXJjZVk6IHNvdXJjZVksXHJcbiAgICBzb3VyY2VQb3NpdGlvbjogc291cmNlUG9zaXRpb24sXHJcbiAgICB0YXJnZXRYOiB0YXJnZXRYLFxyXG4gICAgdGFyZ2V0WTogdGFyZ2V0WSxcclxuICAgIHRhcmdldFBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvbixcclxuICAgIGJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzXHJcbiAgfSk7XHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJhc2VFZGdlLCB7XHJcbiAgICBwYXRoOiBwYXRoLFxyXG4gICAgY2VudGVyWDogY2VudGVyWCxcclxuICAgIGNlbnRlclk6IGNlbnRlclksXHJcbiAgICBsYWJlbDogbGFiZWwsXHJcbiAgICBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLFxyXG4gICAgbGFiZWxTaG93Qmc6IGxhYmVsU2hvd0JnLFxyXG4gICAgbGFiZWxCZ1N0eWxlOiBsYWJlbEJnU3R5bGUsXHJcbiAgICBsYWJlbEJnUGFkZGluZzogbGFiZWxCZ1BhZGRpbmcsXHJcbiAgICBsYWJlbEJnQm9yZGVyUmFkaXVzOiBsYWJlbEJnQm9yZGVyUmFkaXVzLFxyXG4gICAgc3R5bGU6IHN0eWxlLFxyXG4gICAgbWFya2VyRW5kOiBtYXJrZXJFbmQsXHJcbiAgICBtYXJrZXJTdGFydDogbWFya2VyU3RhcnRcclxuICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBvd25LZXlzJDkob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDkodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkOShPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDkoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxyXG52YXIgU3RlcEVkZ2UgPSAvKiNfX1BVUkVfXyovbWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU21vb3RoU3RlcEVkZ2UsIF9vYmplY3RTcHJlYWQkOShfb2JqZWN0U3ByZWFkJDkoe30sIHByb3BzKSwge30sIHtcclxuICAgIGJvcmRlclJhZGl1czogMFxyXG4gIH0pKTtcclxufSk7XHJcblxyXG52YXIgU3RyYWlnaHRFZGdlID0gLyojX19QVVJFX18qL21lbW8oZnVuY3Rpb24gKF9yZWYpIHtcclxuICB2YXIgc291cmNlWCA9IF9yZWYuc291cmNlWCxcclxuICAgICAgc291cmNlWSA9IF9yZWYuc291cmNlWSxcclxuICAgICAgdGFyZ2V0WCA9IF9yZWYudGFyZ2V0WCxcclxuICAgICAgdGFyZ2V0WSA9IF9yZWYudGFyZ2V0WSxcclxuICAgICAgbGFiZWwgPSBfcmVmLmxhYmVsLFxyXG4gICAgICBsYWJlbFN0eWxlID0gX3JlZi5sYWJlbFN0eWxlLFxyXG4gICAgICBsYWJlbFNob3dCZyA9IF9yZWYubGFiZWxTaG93QmcsXHJcbiAgICAgIGxhYmVsQmdTdHlsZSA9IF9yZWYubGFiZWxCZ1N0eWxlLFxyXG4gICAgICBsYWJlbEJnUGFkZGluZyA9IF9yZWYubGFiZWxCZ1BhZGRpbmcsXHJcbiAgICAgIGxhYmVsQmdCb3JkZXJSYWRpdXMgPSBfcmVmLmxhYmVsQmdCb3JkZXJSYWRpdXMsXHJcbiAgICAgIHN0eWxlID0gX3JlZi5zdHlsZSxcclxuICAgICAgbWFya2VyRW5kID0gX3JlZi5tYXJrZXJFbmQsXHJcbiAgICAgIG1hcmtlclN0YXJ0ID0gX3JlZi5tYXJrZXJTdGFydDtcclxuICB2YXIgeU9mZnNldCA9IE1hdGguYWJzKHRhcmdldFkgLSBzb3VyY2VZKSAvIDI7XHJcbiAgdmFyIGNlbnRlclkgPSB0YXJnZXRZIDwgc291cmNlWSA/IHRhcmdldFkgKyB5T2Zmc2V0IDogdGFyZ2V0WSAtIHlPZmZzZXQ7XHJcbiAgdmFyIHhPZmZzZXQgPSBNYXRoLmFicyh0YXJnZXRYIC0gc291cmNlWCkgLyAyO1xyXG4gIHZhciBjZW50ZXJYID0gdGFyZ2V0WCA8IHNvdXJjZVggPyB0YXJnZXRYICsgeE9mZnNldCA6IHRhcmdldFggLSB4T2Zmc2V0O1xyXG4gIHZhciBwYXRoID0gXCJNIFwiLmNvbmNhdChzb3VyY2VYLCBcIixcIikuY29uY2F0KHNvdXJjZVksIFwiTCBcIikuY29uY2F0KHRhcmdldFgsIFwiLFwiKS5jb25jYXQodGFyZ2V0WSk7XHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJhc2VFZGdlLCB7XHJcbiAgICBwYXRoOiBwYXRoLFxyXG4gICAgY2VudGVyWDogY2VudGVyWCxcclxuICAgIGNlbnRlclk6IGNlbnRlclksXHJcbiAgICBsYWJlbDogbGFiZWwsXHJcbiAgICBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLFxyXG4gICAgbGFiZWxTaG93Qmc6IGxhYmVsU2hvd0JnLFxyXG4gICAgbGFiZWxCZ1N0eWxlOiBsYWJlbEJnU3R5bGUsXHJcbiAgICBsYWJlbEJnUGFkZGluZzogbGFiZWxCZ1BhZGRpbmcsXHJcbiAgICBsYWJlbEJnQm9yZGVyUmFkaXVzOiBsYWJlbEJnQm9yZGVyUmFkaXVzLFxyXG4gICAgc3R5bGU6IHN0eWxlLFxyXG4gICAgbWFya2VyRW5kOiBtYXJrZXJFbmQsXHJcbiAgICBtYXJrZXJTdGFydDogbWFya2VyU3RhcnRcclxuICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVDb250cm9sT2Zmc2V0KGRpc3RhbmNlLCBjdXJ2YXR1cmUpIHtcclxuICBpZiAoZGlzdGFuY2UgPj0gMCkge1xyXG4gICAgcmV0dXJuIDAuNSAqIGRpc3RhbmNlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gY3VydmF0dXJlICogMjUgKiBNYXRoLnNxcnQoLWRpc3RhbmNlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbnRyb2xXaXRoQ3VydmF0dXJlKF9yZWYpIHtcclxuICB2YXIgcG9zID0gX3JlZi5wb3MsXHJcbiAgICAgIHgxID0gX3JlZi54MSxcclxuICAgICAgeTEgPSBfcmVmLnkxLFxyXG4gICAgICB4MiA9IF9yZWYueDIsXHJcbiAgICAgIHkyID0gX3JlZi55MixcclxuICAgICAgYyA9IF9yZWYuYztcclxuICB2YXIgY3RYLCBjdFk7XHJcblxyXG4gIHN3aXRjaCAocG9zKSB7XHJcbiAgICBjYXNlIFBvc2l0aW9uLkxlZnQ6XHJcbiAgICAgIHtcclxuICAgICAgICBjdFggPSB4MSAtIGNhbGN1bGF0ZUNvbnRyb2xPZmZzZXQoeDEgLSB4MiwgYyk7XHJcbiAgICAgICAgY3RZID0geTE7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSBQb3NpdGlvbi5SaWdodDpcclxuICAgICAge1xyXG4gICAgICAgIGN0WCA9IHgxICsgY2FsY3VsYXRlQ29udHJvbE9mZnNldCh4MiAtIHgxLCBjKTtcclxuICAgICAgICBjdFkgPSB5MTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIFBvc2l0aW9uLlRvcDpcclxuICAgICAge1xyXG4gICAgICAgIGN0WCA9IHgxO1xyXG4gICAgICAgIGN0WSA9IHkxIC0gY2FsY3VsYXRlQ29udHJvbE9mZnNldCh5MSAtIHkyLCBjKTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIFBvc2l0aW9uLkJvdHRvbTpcclxuICAgICAge1xyXG4gICAgICAgIGN0WCA9IHgxO1xyXG4gICAgICAgIGN0WSA9IHkxICsgY2FsY3VsYXRlQ29udHJvbE9mZnNldCh5MiAtIHkxLCBjKTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICB9XHJcblxyXG4gIHJldHVybiBbY3RYLCBjdFldO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRCZXppZXJQYXRoKF9yZWYyKSB7XHJcbiAgdmFyIHNvdXJjZVggPSBfcmVmMi5zb3VyY2VYLFxyXG4gICAgICBzb3VyY2VZID0gX3JlZjIuc291cmNlWSxcclxuICAgICAgX3JlZjIkc291cmNlUG9zaXRpb24gPSBfcmVmMi5zb3VyY2VQb3NpdGlvbixcclxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmMiRzb3VyY2VQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uQm90dG9tIDogX3JlZjIkc291cmNlUG9zaXRpb24sXHJcbiAgICAgIHRhcmdldFggPSBfcmVmMi50YXJnZXRYLFxyXG4gICAgICB0YXJnZXRZID0gX3JlZjIudGFyZ2V0WSxcclxuICAgICAgX3JlZjIkdGFyZ2V0UG9zaXRpb24gPSBfcmVmMi50YXJnZXRQb3NpdGlvbixcclxuICAgICAgdGFyZ2V0UG9zaXRpb24gPSBfcmVmMiR0YXJnZXRQb3NpdGlvbiA9PT0gdm9pZCAwID8gUG9zaXRpb24uVG9wIDogX3JlZjIkdGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIF9yZWYyJGN1cnZhdHVyZSA9IF9yZWYyLmN1cnZhdHVyZSxcclxuICAgICAgY3VydmF0dXJlID0gX3JlZjIkY3VydmF0dXJlID09PSB2b2lkIDAgPyAwLjI1IDogX3JlZjIkY3VydmF0dXJlO1xyXG5cclxuICB2YXIgX2dldENvbnRyb2xXaXRoQ3VydmF0ID0gZ2V0Q29udHJvbFdpdGhDdXJ2YXR1cmUoe1xyXG4gICAgcG9zOiBzb3VyY2VQb3NpdGlvbixcclxuICAgIHgxOiBzb3VyY2VYLFxyXG4gICAgeTE6IHNvdXJjZVksXHJcbiAgICB4MjogdGFyZ2V0WCxcclxuICAgIHkyOiB0YXJnZXRZLFxyXG4gICAgYzogY3VydmF0dXJlXHJcbiAgfSksXHJcbiAgICAgIF9nZXRDb250cm9sV2l0aEN1cnZhdDIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q29udHJvbFdpdGhDdXJ2YXQsIDIpLFxyXG4gICAgICBzb3VyY2VDb250cm9sWCA9IF9nZXRDb250cm9sV2l0aEN1cnZhdDJbMF0sXHJcbiAgICAgIHNvdXJjZUNvbnRyb2xZID0gX2dldENvbnRyb2xXaXRoQ3VydmF0MlsxXTtcclxuXHJcbiAgdmFyIF9nZXRDb250cm9sV2l0aEN1cnZhdDMgPSBnZXRDb250cm9sV2l0aEN1cnZhdHVyZSh7XHJcbiAgICBwb3M6IHRhcmdldFBvc2l0aW9uLFxyXG4gICAgeDE6IHRhcmdldFgsXHJcbiAgICB5MTogdGFyZ2V0WSxcclxuICAgIHgyOiBzb3VyY2VYLFxyXG4gICAgeTI6IHNvdXJjZVksXHJcbiAgICBjOiBjdXJ2YXR1cmVcclxuICB9KSxcclxuICAgICAgX2dldENvbnRyb2xXaXRoQ3VydmF0NCA9IF9zbGljZWRUb0FycmF5KF9nZXRDb250cm9sV2l0aEN1cnZhdDMsIDIpLFxyXG4gICAgICB0YXJnZXRDb250cm9sWCA9IF9nZXRDb250cm9sV2l0aEN1cnZhdDRbMF0sXHJcbiAgICAgIHRhcmdldENvbnRyb2xZID0gX2dldENvbnRyb2xXaXRoQ3VydmF0NFsxXTtcclxuXHJcbiAgcmV0dXJuIFwiTVwiLmNvbmNhdChzb3VyY2VYLCBcIixcIikuY29uY2F0KHNvdXJjZVksIFwiIENcIikuY29uY2F0KHNvdXJjZUNvbnRyb2xYLCBcIixcIikuY29uY2F0KHNvdXJjZUNvbnRyb2xZLCBcIiBcIikuY29uY2F0KHRhcmdldENvbnRyb2xYLCBcIixcIikuY29uY2F0KHRhcmdldENvbnRyb2xZLCBcIiBcIikuY29uY2F0KHRhcmdldFgsIFwiLFwiKS5jb25jYXQodGFyZ2V0WSk7XHJcbn0gLy8gQFRPRE86IHRoaXMgZnVuY3Rpb24gd2lsbCByZWNhbGN1bGF0ZSB0aGUgY29udHJvbCBwb2ludHNcclxuLy8gb25lIG9wdGlvbiBpcyB0byBsZXQgZ2V0WFhYUGF0aCgpIHJldHVybiBjZW50ZXIgcG9pbnRzXHJcbi8vIGJ1dCB3aWxsIGludHJvZHVjZSBicmVha2luZyBjaGFuZ2VzXHJcbi8vIHRoZSBnZXRDZW50ZXIoKSBvZiBvdGhlciB0eXBlcyBvZiBlZGdlcyBtaWdodCBuZWVkIHRvIGNoYW5nZSwgdG9vXHJcblxyXG5mdW5jdGlvbiBnZXRCZXppZXJDZW50ZXIoX3JlZjMpIHtcclxuICB2YXIgc291cmNlWCA9IF9yZWYzLnNvdXJjZVgsXHJcbiAgICAgIHNvdXJjZVkgPSBfcmVmMy5zb3VyY2VZLFxyXG4gICAgICBfcmVmMyRzb3VyY2VQb3NpdGlvbiA9IF9yZWYzLnNvdXJjZVBvc2l0aW9uLFxyXG4gICAgICBzb3VyY2VQb3NpdGlvbiA9IF9yZWYzJHNvdXJjZVBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Cb3R0b20gOiBfcmVmMyRzb3VyY2VQb3NpdGlvbixcclxuICAgICAgdGFyZ2V0WCA9IF9yZWYzLnRhcmdldFgsXHJcbiAgICAgIHRhcmdldFkgPSBfcmVmMy50YXJnZXRZLFxyXG4gICAgICBfcmVmMyR0YXJnZXRQb3NpdGlvbiA9IF9yZWYzLnRhcmdldFBvc2l0aW9uLFxyXG4gICAgICB0YXJnZXRQb3NpdGlvbiA9IF9yZWYzJHRhcmdldFBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Ub3AgOiBfcmVmMyR0YXJnZXRQb3NpdGlvbixcclxuICAgICAgX3JlZjMkY3VydmF0dXJlID0gX3JlZjMuY3VydmF0dXJlLFxyXG4gICAgICBjdXJ2YXR1cmUgPSBfcmVmMyRjdXJ2YXR1cmUgPT09IHZvaWQgMCA/IDAuMjUgOiBfcmVmMyRjdXJ2YXR1cmU7XHJcblxyXG4gIHZhciBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ1ID0gZ2V0Q29udHJvbFdpdGhDdXJ2YXR1cmUoe1xyXG4gICAgcG9zOiBzb3VyY2VQb3NpdGlvbixcclxuICAgIHgxOiBzb3VyY2VYLFxyXG4gICAgeTE6IHNvdXJjZVksXHJcbiAgICB4MjogdGFyZ2V0WCxcclxuICAgIHkyOiB0YXJnZXRZLFxyXG4gICAgYzogY3VydmF0dXJlXHJcbiAgfSksXHJcbiAgICAgIF9nZXRDb250cm9sV2l0aEN1cnZhdDYgPSBfc2xpY2VkVG9BcnJheShfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ1LCAyKSxcclxuICAgICAgc291cmNlQ29udHJvbFggPSBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ2WzBdLFxyXG4gICAgICBzb3VyY2VDb250cm9sWSA9IF9nZXRDb250cm9sV2l0aEN1cnZhdDZbMV07XHJcblxyXG4gIHZhciBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ3ID0gZ2V0Q29udHJvbFdpdGhDdXJ2YXR1cmUoe1xyXG4gICAgcG9zOiB0YXJnZXRQb3NpdGlvbixcclxuICAgIHgxOiB0YXJnZXRYLFxyXG4gICAgeTE6IHRhcmdldFksXHJcbiAgICB4Mjogc291cmNlWCxcclxuICAgIHkyOiBzb3VyY2VZLFxyXG4gICAgYzogY3VydmF0dXJlXHJcbiAgfSksXHJcbiAgICAgIF9nZXRDb250cm9sV2l0aEN1cnZhdDggPSBfc2xpY2VkVG9BcnJheShfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ3LCAyKSxcclxuICAgICAgdGFyZ2V0Q29udHJvbFggPSBfZ2V0Q29udHJvbFdpdGhDdXJ2YXQ4WzBdLFxyXG4gICAgICB0YXJnZXRDb250cm9sWSA9IF9nZXRDb250cm9sV2l0aEN1cnZhdDhbMV07IC8vIGN1YmljIGJlemllciB0PTAuNSBtaWQgcG9pbnQsIG5vdCB0aGUgYWN0dWFsIG1pZCBwb2ludCwgYnV0IGVhc3kgdG8gY2FsY3VsYXRlXHJcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjc1MTYxMDEvaG93LXRvLWZpbmQtZGlzdGFuY2UtbWlkLXBvaW50LW9mLWJlemllci1jdXJ2ZVxyXG5cclxuXHJcbiAgdmFyIGNlbnRlclggPSBzb3VyY2VYICogMC4xMjUgKyBzb3VyY2VDb250cm9sWCAqIDAuMzc1ICsgdGFyZ2V0Q29udHJvbFggKiAwLjM3NSArIHRhcmdldFggKiAwLjEyNTtcclxuICB2YXIgY2VudGVyWSA9IHNvdXJjZVkgKiAwLjEyNSArIHNvdXJjZUNvbnRyb2xZICogMC4zNzUgKyB0YXJnZXRDb250cm9sWSAqIDAuMzc1ICsgdGFyZ2V0WSAqIDAuMTI1O1xyXG4gIHZhciB4T2Zmc2V0ID0gTWF0aC5hYnMoY2VudGVyWCAtIHNvdXJjZVgpO1xyXG4gIHZhciB5T2Zmc2V0ID0gTWF0aC5hYnMoY2VudGVyWSAtIHNvdXJjZVkpO1xyXG4gIHJldHVybiBbY2VudGVyWCwgY2VudGVyWSwgeE9mZnNldCwgeU9mZnNldF07XHJcbn1cclxudmFyIEJlemllckVkZ2UgPSAvKiNfX1BVUkVfXyovbWVtbyhmdW5jdGlvbiAoX3JlZjQpIHtcclxuICB2YXIgc291cmNlWCA9IF9yZWY0LnNvdXJjZVgsXHJcbiAgICAgIHNvdXJjZVkgPSBfcmVmNC5zb3VyY2VZLFxyXG4gICAgICB0YXJnZXRYID0gX3JlZjQudGFyZ2V0WCxcclxuICAgICAgdGFyZ2V0WSA9IF9yZWY0LnRhcmdldFksXHJcbiAgICAgIF9yZWY0JHNvdXJjZVBvc2l0aW9uID0gX3JlZjQuc291cmNlUG9zaXRpb24sXHJcbiAgICAgIHNvdXJjZVBvc2l0aW9uID0gX3JlZjQkc291cmNlUG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLkJvdHRvbSA6IF9yZWY0JHNvdXJjZVBvc2l0aW9uLFxyXG4gICAgICBfcmVmNCR0YXJnZXRQb3NpdGlvbiA9IF9yZWY0LnRhcmdldFBvc2l0aW9uLFxyXG4gICAgICB0YXJnZXRQb3NpdGlvbiA9IF9yZWY0JHRhcmdldFBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Ub3AgOiBfcmVmNCR0YXJnZXRQb3NpdGlvbixcclxuICAgICAgbGFiZWwgPSBfcmVmNC5sYWJlbCxcclxuICAgICAgbGFiZWxTdHlsZSA9IF9yZWY0LmxhYmVsU3R5bGUsXHJcbiAgICAgIGxhYmVsU2hvd0JnID0gX3JlZjQubGFiZWxTaG93QmcsXHJcbiAgICAgIGxhYmVsQmdTdHlsZSA9IF9yZWY0LmxhYmVsQmdTdHlsZSxcclxuICAgICAgbGFiZWxCZ1BhZGRpbmcgPSBfcmVmNC5sYWJlbEJnUGFkZGluZyxcclxuICAgICAgbGFiZWxCZ0JvcmRlclJhZGl1cyA9IF9yZWY0LmxhYmVsQmdCb3JkZXJSYWRpdXMsXHJcbiAgICAgIHN0eWxlID0gX3JlZjQuc3R5bGUsXHJcbiAgICAgIG1hcmtlckVuZCA9IF9yZWY0Lm1hcmtlckVuZCxcclxuICAgICAgbWFya2VyU3RhcnQgPSBfcmVmNC5tYXJrZXJTdGFydCxcclxuICAgICAgY3VydmF0dXJlID0gX3JlZjQuY3VydmF0dXJlO1xyXG4gIHZhciBwYXJhbXMgPSB7XHJcbiAgICBzb3VyY2VYOiBzb3VyY2VYLFxyXG4gICAgc291cmNlWTogc291cmNlWSxcclxuICAgIHNvdXJjZVBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcclxuICAgIHRhcmdldFg6IHRhcmdldFgsXHJcbiAgICB0YXJnZXRZOiB0YXJnZXRZLFxyXG4gICAgdGFyZ2V0UG9zaXRpb246IHRhcmdldFBvc2l0aW9uLFxyXG4gICAgY3VydmF0dXJlOiBjdXJ2YXR1cmVcclxuICB9O1xyXG4gIHZhciBwYXRoID0gZ2V0QmV6aWVyUGF0aChwYXJhbXMpO1xyXG5cclxuICB2YXIgX2dldEJlemllckNlbnRlciA9IGdldEJlemllckNlbnRlcihwYXJhbXMpLFxyXG4gICAgICBfZ2V0QmV6aWVyQ2VudGVyMiA9IF9zbGljZWRUb0FycmF5KF9nZXRCZXppZXJDZW50ZXIsIDIpLFxyXG4gICAgICBjZW50ZXJYID0gX2dldEJlemllckNlbnRlcjJbMF0sXHJcbiAgICAgIGNlbnRlclkgPSBfZ2V0QmV6aWVyQ2VudGVyMlsxXTtcclxuXHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJhc2VFZGdlLCB7XHJcbiAgICBwYXRoOiBwYXRoLFxyXG4gICAgY2VudGVyWDogY2VudGVyWCxcclxuICAgIGNlbnRlclk6IGNlbnRlclksXHJcbiAgICBsYWJlbDogbGFiZWwsXHJcbiAgICBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLFxyXG4gICAgbGFiZWxTaG93Qmc6IGxhYmVsU2hvd0JnLFxyXG4gICAgbGFiZWxCZ1N0eWxlOiBsYWJlbEJnU3R5bGUsXHJcbiAgICBsYWJlbEJnUGFkZGluZzogbGFiZWxCZ1BhZGRpbmcsXHJcbiAgICBsYWJlbEJnQm9yZGVyUmFkaXVzOiBsYWJlbEJnQm9yZGVyUmFkaXVzLFxyXG4gICAgc3R5bGU6IHN0eWxlLFxyXG4gICAgbWFya2VyRW5kOiBtYXJrZXJFbmQsXHJcbiAgICBtYXJrZXJTdGFydDogbWFya2VyU3RhcnRcclxuICB9KTtcclxufSk7XHJcblxyXG52YXIgTm9kZUlkQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xyXG52YXIgUHJvdmlkZXIgPSBOb2RlSWRDb250ZXh0LlByb3ZpZGVyO1xyXG5Ob2RlSWRDb250ZXh0LkNvbnN1bWVyO1xyXG5cclxuZnVuY3Rpb24gY2hlY2tFbGVtZW50QmVsb3dJc1ZhbGlkKGV2ZW50LCBjb25uZWN0aW9uTW9kZSwgaXNUYXJnZXQsIG5vZGVJZCwgaGFuZGxlSWQsIGlzVmFsaWRDb25uZWN0aW9uLCBkb2MpIHtcclxuICB2YXIgZWxlbWVudEJlbG93ID0gZG9jLmVsZW1lbnRGcm9tUG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgdmFyIGVsZW1lbnRCZWxvd0lzVGFyZ2V0ID0gKGVsZW1lbnRCZWxvdyA9PT0gbnVsbCB8fCBlbGVtZW50QmVsb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnRCZWxvdy5jbGFzc0xpc3QuY29udGFpbnMoJ3RhcmdldCcpKSB8fCBmYWxzZTtcclxuICB2YXIgZWxlbWVudEJlbG93SXNTb3VyY2UgPSAoZWxlbWVudEJlbG93ID09PSBudWxsIHx8IGVsZW1lbnRCZWxvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudEJlbG93LmNsYXNzTGlzdC5jb250YWlucygnc291cmNlJykpIHx8IGZhbHNlO1xyXG4gIHZhciByZXN1bHQgPSB7XHJcbiAgICBlbGVtZW50QmVsb3c6IGVsZW1lbnRCZWxvdyxcclxuICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgY29ubmVjdGlvbjoge1xyXG4gICAgICBzb3VyY2U6IG51bGwsXHJcbiAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgc291cmNlSGFuZGxlOiBudWxsLFxyXG4gICAgICB0YXJnZXRIYW5kbGU6IG51bGxcclxuICAgIH0sXHJcbiAgICBpc0hvdmVyaW5nSGFuZGxlOiBmYWxzZVxyXG4gIH07XHJcblxyXG4gIGlmIChlbGVtZW50QmVsb3cgJiYgKGVsZW1lbnRCZWxvd0lzVGFyZ2V0IHx8IGVsZW1lbnRCZWxvd0lzU291cmNlKSkge1xyXG4gICAgcmVzdWx0LmlzSG92ZXJpbmdIYW5kbGUgPSB0cnVlOyAvLyBpbiBzdHJpY3QgbW9kZSB3ZSBkb24ndCBhbGxvdyB0YXJnZXQgdG8gdGFyZ2V0IG9yIHNvdXJjZSB0byBzb3VyY2UgY29ubmVjdGlvbnNcclxuXHJcbiAgICB2YXIgaXNWYWxpZCA9IGNvbm5lY3Rpb25Nb2RlID09PSBDb25uZWN0aW9uTW9kZS5TdHJpY3QgPyBpc1RhcmdldCAmJiBlbGVtZW50QmVsb3dJc1NvdXJjZSB8fCAhaXNUYXJnZXQgJiYgZWxlbWVudEJlbG93SXNUYXJnZXQgOiB0cnVlO1xyXG5cclxuICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgIHZhciBlbGVtZW50QmVsb3dOb2RlSWQgPSBlbGVtZW50QmVsb3cuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGVpZCcpO1xyXG4gICAgICB2YXIgZWxlbWVudEJlbG93SGFuZGxlSWQgPSBlbGVtZW50QmVsb3cuZ2V0QXR0cmlidXRlKCdkYXRhLWhhbmRsZWlkJyk7XHJcbiAgICAgIHZhciBjb25uZWN0aW9uID0gaXNUYXJnZXQgPyB7XHJcbiAgICAgICAgc291cmNlOiBlbGVtZW50QmVsb3dOb2RlSWQsXHJcbiAgICAgICAgc291cmNlSGFuZGxlOiBlbGVtZW50QmVsb3dIYW5kbGVJZCxcclxuICAgICAgICB0YXJnZXQ6IG5vZGVJZCxcclxuICAgICAgICB0YXJnZXRIYW5kbGU6IGhhbmRsZUlkXHJcbiAgICAgIH0gOiB7XHJcbiAgICAgICAgc291cmNlOiBub2RlSWQsXHJcbiAgICAgICAgc291cmNlSGFuZGxlOiBoYW5kbGVJZCxcclxuICAgICAgICB0YXJnZXQ6IGVsZW1lbnRCZWxvd05vZGVJZCxcclxuICAgICAgICB0YXJnZXRIYW5kbGU6IGVsZW1lbnRCZWxvd0hhbmRsZUlkXHJcbiAgICAgIH07XHJcbiAgICAgIHJlc3VsdC5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcclxuICAgICAgcmVzdWx0LmlzVmFsaWQgPSBpc1ZhbGlkQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0UmVjZW50SGFuZGxlKGhvdmVyZWRIYW5kbGUpIHtcclxuICBob3ZlcmVkSGFuZGxlID09PSBudWxsIHx8IGhvdmVyZWRIYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvdmVyZWRIYW5kbGUuY2xhc3NMaXN0LnJlbW92ZSgncmVhY3QtZmxvd19faGFuZGxlLXZhbGlkJyk7XHJcbiAgaG92ZXJlZEhhbmRsZSA9PT0gbnVsbCB8fCBob3ZlcmVkSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3ZlcmVkSGFuZGxlLmNsYXNzTGlzdC5yZW1vdmUoJ3JlYWN0LWZsb3dfX2hhbmRsZS1jb25uZWN0aW5nJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50LCBoYW5kbGVJZCwgbm9kZUlkLCBzZXRTdGF0ZSwgb25Db25uZWN0LCBpc1RhcmdldCwgaXNWYWxpZENvbm5lY3Rpb24sIGNvbm5lY3Rpb25Nb2RlLCBlbGVtZW50RWRnZVVwZGF0ZXJUeXBlLCBvbkVkZ2VVcGRhdGVFbmQsIG9uQ29ubmVjdFN0YXJ0LCBvbkNvbm5lY3RTdG9wLCBvbkNvbm5lY3RFbmQpIHtcclxuICB2YXIgcmVhY3RGbG93Tm9kZSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcucmVhY3QtZmxvdycpOyAvLyB3aGVuIHJlYWN0LWZsb3cgaXMgdXNlZCBpbnNpZGUgYSBzaGFkb3cgcm9vdCB3ZSBjYW4ndCB1c2UgZG9jdW1lbnRcclxuXHJcbiAgdmFyIGRvYyA9IGdldEhvc3RGb3JFbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcblxyXG4gIGlmICghZG9jKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICB2YXIgZWxlbWVudEJlbG93ID0gZG9jLmVsZW1lbnRGcm9tUG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgdmFyIGVsZW1lbnRCZWxvd0lzVGFyZ2V0ID0gZWxlbWVudEJlbG93ID09PSBudWxsIHx8IGVsZW1lbnRCZWxvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudEJlbG93LmNsYXNzTGlzdC5jb250YWlucygndGFyZ2V0Jyk7XHJcbiAgdmFyIGVsZW1lbnRCZWxvd0lzU291cmNlID0gZWxlbWVudEJlbG93ID09PSBudWxsIHx8IGVsZW1lbnRCZWxvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudEJlbG93LmNsYXNzTGlzdC5jb250YWlucygnc291cmNlJyk7XHJcblxyXG4gIGlmICghcmVhY3RGbG93Tm9kZSB8fCAhZWxlbWVudEJlbG93SXNUYXJnZXQgJiYgIWVsZW1lbnRCZWxvd0lzU291cmNlICYmICFlbGVtZW50RWRnZVVwZGF0ZXJUeXBlKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICB2YXIgaGFuZGxlVHlwZSA9IGVsZW1lbnRFZGdlVXBkYXRlclR5cGUgPyBlbGVtZW50RWRnZVVwZGF0ZXJUeXBlIDogZWxlbWVudEJlbG93SXNUYXJnZXQgPyAndGFyZ2V0JyA6ICdzb3VyY2UnO1xyXG4gIHZhciBjb250YWluZXJCb3VuZHMgPSByZWFjdEZsb3dOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIHZhciByZWNlbnRIb3ZlcmVkSGFuZGxlO1xyXG4gIHNldFN0YXRlKHtcclxuICAgIGNvbm5lY3Rpb25Qb3NpdGlvbjoge1xyXG4gICAgICB4OiBldmVudC5jbGllbnRYIC0gY29udGFpbmVyQm91bmRzLmxlZnQsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFkgLSBjb250YWluZXJCb3VuZHMudG9wXHJcbiAgICB9LFxyXG4gICAgY29ubmVjdGlvbk5vZGVJZDogbm9kZUlkLFxyXG4gICAgY29ubmVjdGlvbkhhbmRsZUlkOiBoYW5kbGVJZCxcclxuICAgIGNvbm5lY3Rpb25IYW5kbGVUeXBlOiBoYW5kbGVUeXBlXHJcbiAgfSk7XHJcbiAgb25Db25uZWN0U3RhcnQgPT09IG51bGwgfHwgb25Db25uZWN0U3RhcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ29ubmVjdFN0YXJ0KGV2ZW50LCB7XHJcbiAgICBub2RlSWQ6IG5vZGVJZCxcclxuICAgIGhhbmRsZUlkOiBoYW5kbGVJZCxcclxuICAgIGhhbmRsZVR5cGU6IGhhbmRsZVR5cGVcclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHtcclxuICAgIHNldFN0YXRlKHtcclxuICAgICAgY29ubmVjdGlvblBvc2l0aW9uOiB7XHJcbiAgICAgICAgeDogZXZlbnQuY2xpZW50WCAtIGNvbnRhaW5lckJvdW5kcy5sZWZ0LFxyXG4gICAgICAgIHk6IGV2ZW50LmNsaWVudFkgLSBjb250YWluZXJCb3VuZHMudG9wXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBfY2hlY2tFbGVtZW50QmVsb3dJc1YgPSBjaGVja0VsZW1lbnRCZWxvd0lzVmFsaWQoZXZlbnQsIGNvbm5lY3Rpb25Nb2RlLCBpc1RhcmdldCwgbm9kZUlkLCBoYW5kbGVJZCwgaXNWYWxpZENvbm5lY3Rpb24sIGRvYyksXHJcbiAgICAgICAgY29ubmVjdGlvbiA9IF9jaGVja0VsZW1lbnRCZWxvd0lzVi5jb25uZWN0aW9uLFxyXG4gICAgICAgIGVsZW1lbnRCZWxvdyA9IF9jaGVja0VsZW1lbnRCZWxvd0lzVi5lbGVtZW50QmVsb3csXHJcbiAgICAgICAgaXNWYWxpZCA9IF9jaGVja0VsZW1lbnRCZWxvd0lzVi5pc1ZhbGlkLFxyXG4gICAgICAgIGlzSG92ZXJpbmdIYW5kbGUgPSBfY2hlY2tFbGVtZW50QmVsb3dJc1YuaXNIb3ZlcmluZ0hhbmRsZTtcclxuXHJcbiAgICBpZiAoIWlzSG92ZXJpbmdIYW5kbGUpIHtcclxuICAgICAgcmV0dXJuIHJlc2V0UmVjZW50SGFuZGxlKHJlY2VudEhvdmVyZWRIYW5kbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBpc093bkhhbmRsZSA9IGNvbm5lY3Rpb24uc291cmNlID09PSBjb25uZWN0aW9uLnRhcmdldDtcclxuXHJcbiAgICBpZiAoIWlzT3duSGFuZGxlICYmIGVsZW1lbnRCZWxvdykge1xyXG4gICAgICByZWNlbnRIb3ZlcmVkSGFuZGxlID0gZWxlbWVudEJlbG93O1xyXG4gICAgICBlbGVtZW50QmVsb3cuY2xhc3NMaXN0LmFkZCgncmVhY3QtZmxvd19faGFuZGxlLWNvbm5lY3RpbmcnKTtcclxuICAgICAgZWxlbWVudEJlbG93LmNsYXNzTGlzdC50b2dnbGUoJ3JlYWN0LWZsb3dfX2hhbmRsZS12YWxpZCcsIGlzVmFsaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25Nb3VzZVVwKGV2ZW50KSB7XHJcbiAgICB2YXIgX2NoZWNrRWxlbWVudEJlbG93SXNWMiA9IGNoZWNrRWxlbWVudEJlbG93SXNWYWxpZChldmVudCwgY29ubmVjdGlvbk1vZGUsIGlzVGFyZ2V0LCBub2RlSWQsIGhhbmRsZUlkLCBpc1ZhbGlkQ29ubmVjdGlvbiwgZG9jKSxcclxuICAgICAgICBjb25uZWN0aW9uID0gX2NoZWNrRWxlbWVudEJlbG93SXNWMi5jb25uZWN0aW9uLFxyXG4gICAgICAgIGlzVmFsaWQgPSBfY2hlY2tFbGVtZW50QmVsb3dJc1YyLmlzVmFsaWQ7XHJcblxyXG4gICAgb25Db25uZWN0U3RvcCA9PT0gbnVsbCB8fCBvbkNvbm5lY3RTdG9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNvbm5lY3RTdG9wKGV2ZW50KTtcclxuXHJcbiAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICBvbkNvbm5lY3QgPT09IG51bGwgfHwgb25Db25uZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNvbm5lY3QoY29ubmVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgb25Db25uZWN0RW5kID09PSBudWxsIHx8IG9uQ29ubmVjdEVuZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Db25uZWN0RW5kKGV2ZW50KTtcclxuXHJcbiAgICBpZiAoZWxlbWVudEVkZ2VVcGRhdGVyVHlwZSAmJiBvbkVkZ2VVcGRhdGVFbmQpIHtcclxuICAgICAgb25FZGdlVXBkYXRlRW5kKGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldFJlY2VudEhhbmRsZShyZWNlbnRIb3ZlcmVkSGFuZGxlKTtcclxuICAgIHNldFN0YXRlKHtcclxuICAgICAgY29ubmVjdGlvbk5vZGVJZDogbnVsbCxcclxuICAgICAgY29ubmVjdGlvbkhhbmRsZUlkOiBudWxsLFxyXG4gICAgICBjb25uZWN0aW9uSGFuZGxlVHlwZTogbnVsbFxyXG4gICAgfSk7XHJcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xyXG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXApO1xyXG4gIH1cclxuXHJcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcclxuICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XHJcbn1cclxuXHJcbnZhciBfZXhjbHVkZWQkMSA9IFtcInR5cGVcIiwgXCJwb3NpdGlvblwiLCBcImlzVmFsaWRDb25uZWN0aW9uXCIsIFwiaXNDb25uZWN0YWJsZVwiLCBcImlkXCIsIFwib25Db25uZWN0XCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIl07XHJcblxyXG5mdW5jdGlvbiBvd25LZXlzJDgob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDgodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMkOChPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzJDgoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxyXG5cclxudmFyIGFsd2F5c1ZhbGlkID0gZnVuY3Rpb24gYWx3YXlzVmFsaWQoKSB7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG52YXIgc2VsZWN0b3IkZCA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgb25Db25uZWN0QWN0aW9uOiBzLm9uQ29ubmVjdCxcclxuICAgIG9uQ29ubmVjdFN0YXJ0OiBzLm9uQ29ubmVjdFN0YXJ0LFxyXG4gICAgb25Db25uZWN0U3RvcDogcy5vbkNvbm5lY3RTdG9wLFxyXG4gICAgb25Db25uZWN0RW5kOiBzLm9uQ29ubmVjdEVuZCxcclxuICAgIGNvbm5lY3Rpb25Nb2RlOiBzLmNvbm5lY3Rpb25Nb2RlLFxyXG4gICAgY29ubmVjdGlvblN0YXJ0SGFuZGxlOiBzLmNvbm5lY3Rpb25TdGFydEhhbmRsZSxcclxuICAgIGNvbm5lY3RPbkNsaWNrOiBzLmNvbm5lY3RPbkNsaWNrLFxyXG4gICAgaGFzRGVmYXVsdEVkZ2VzOiBzLmhhc0RlZmF1bHRFZGdlc1xyXG4gIH07XHJcbn07XHJcblxyXG52YXIgSGFuZGxlID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xyXG4gIHZhciBfcmVmJHR5cGUgPSBfcmVmLnR5cGUsXHJcbiAgICAgIHR5cGUgPSBfcmVmJHR5cGUgPT09IHZvaWQgMCA/ICdzb3VyY2UnIDogX3JlZiR0eXBlLFxyXG4gICAgICBfcmVmJHBvc2l0aW9uID0gX3JlZi5wb3NpdGlvbixcclxuICAgICAgcG9zaXRpb24gPSBfcmVmJHBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Ub3AgOiBfcmVmJHBvc2l0aW9uLFxyXG4gICAgICBfcmVmJGlzVmFsaWRDb25uZWN0aW8gPSBfcmVmLmlzVmFsaWRDb25uZWN0aW9uLFxyXG4gICAgICBpc1ZhbGlkQ29ubmVjdGlvbiA9IF9yZWYkaXNWYWxpZENvbm5lY3RpbyA9PT0gdm9pZCAwID8gYWx3YXlzVmFsaWQgOiBfcmVmJGlzVmFsaWRDb25uZWN0aW8sXHJcbiAgICAgIF9yZWYkaXNDb25uZWN0YWJsZSA9IF9yZWYuaXNDb25uZWN0YWJsZSxcclxuICAgICAgaXNDb25uZWN0YWJsZSA9IF9yZWYkaXNDb25uZWN0YWJsZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkaXNDb25uZWN0YWJsZSxcclxuICAgICAgaWQgPSBfcmVmLmlkLFxyXG4gICAgICBvbkNvbm5lY3QgPSBfcmVmLm9uQ29ubmVjdCxcclxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxyXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcclxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkMSk7XHJcblxyXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XHJcbiAgdmFyIG5vZGVJZCA9IHVzZUNvbnRleHQoTm9kZUlkQ29udGV4dCk7XHJcblxyXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZShzZWxlY3RvciRkLCBzaGFsbG93KSxcclxuICAgICAgb25Db25uZWN0QWN0aW9uID0gX3VzZVN0b3JlLm9uQ29ubmVjdEFjdGlvbixcclxuICAgICAgb25Db25uZWN0U3RhcnQgPSBfdXNlU3RvcmUub25Db25uZWN0U3RhcnQsXHJcbiAgICAgIG9uQ29ubmVjdFN0b3AgPSBfdXNlU3RvcmUub25Db25uZWN0U3RvcCxcclxuICAgICAgb25Db25uZWN0RW5kID0gX3VzZVN0b3JlLm9uQ29ubmVjdEVuZCxcclxuICAgICAgY29ubmVjdGlvbk1vZGUgPSBfdXNlU3RvcmUuY29ubmVjdGlvbk1vZGUsXHJcbiAgICAgIGNvbm5lY3Rpb25TdGFydEhhbmRsZSA9IF91c2VTdG9yZS5jb25uZWN0aW9uU3RhcnRIYW5kbGUsXHJcbiAgICAgIGNvbm5lY3RPbkNsaWNrID0gX3VzZVN0b3JlLmNvbm5lY3RPbkNsaWNrLFxyXG4gICAgICBoYXNEZWZhdWx0RWRnZXMgPSBfdXNlU3RvcmUuaGFzRGVmYXVsdEVkZ2VzO1xyXG5cclxuICB2YXIgaGFuZGxlSWQgPSBpZCB8fCBudWxsO1xyXG4gIHZhciBpc1RhcmdldCA9IHR5cGUgPT09ICd0YXJnZXQnO1xyXG4gIHZhciBvbkNvbm5lY3RFeHRlbmRlZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLFxyXG4gICAgICAgIGRlZmF1bHRFZGdlT3B0aW9ucyA9IF9zdG9yZSRnZXRTdGF0ZS5kZWZhdWx0RWRnZU9wdGlvbnM7XHJcblxyXG4gICAgdmFyIGVkZ2VQYXJhbXMgPSBfb2JqZWN0U3ByZWFkJDgoX29iamVjdFNwcmVhZCQ4KHt9LCBkZWZhdWx0RWRnZU9wdGlvbnMpLCBwYXJhbXMpO1xyXG5cclxuICAgIGlmIChoYXNEZWZhdWx0RWRnZXMpIHtcclxuICAgICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTIgPSBzdG9yZS5nZXRTdGF0ZSgpLFxyXG4gICAgICAgICAgZWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUyLmVkZ2VzO1xyXG5cclxuICAgICAgc3RvcmUuc2V0U3RhdGUoe1xyXG4gICAgICAgIGVkZ2VzOiBhZGRFZGdlKGVkZ2VQYXJhbXMsIGVkZ2VzKVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNvbm5lY3RBY3Rpb24gPT09IG51bGwgfHwgb25Db25uZWN0QWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNvbm5lY3RBY3Rpb24oZWRnZVBhcmFtcyk7XHJcbiAgICBvbkNvbm5lY3QgPT09IG51bGwgfHwgb25Db25uZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNvbm5lY3QoZWRnZVBhcmFtcyk7XHJcbiAgfSwgW2hhc0RlZmF1bHRFZGdlcywgb25Db25uZWN0QWN0aW9uLCBvbkNvbm5lY3RdKTtcclxuICB2YXIgb25Nb3VzZURvd25IYW5kbGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgIG9uTW91c2VEb3duKGV2ZW50LCBoYW5kbGVJZCwgbm9kZUlkLCBzdG9yZS5zZXRTdGF0ZSwgb25Db25uZWN0RXh0ZW5kZWQsIGlzVGFyZ2V0LCBpc1ZhbGlkQ29ubmVjdGlvbiwgY29ubmVjdGlvbk1vZGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvbkNvbm5lY3RTdGFydCwgb25Db25uZWN0U3RvcCwgb25Db25uZWN0RW5kKTtcclxuICAgIH1cclxuICB9LCBbaGFuZGxlSWQsIG5vZGVJZCwgb25Db25uZWN0RXh0ZW5kZWQsIGlzVGFyZ2V0LCBpc1ZhbGlkQ29ubmVjdGlvbiwgY29ubmVjdGlvbk1vZGUsIG9uQ29ubmVjdFN0YXJ0LCBvbkNvbm5lY3RTdG9wLCBvbkNvbm5lY3RFbmRdKTtcclxuICB2YXIgb25DbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgaWYgKCFjb25uZWN0aW9uU3RhcnRIYW5kbGUpIHtcclxuICAgICAgb25Db25uZWN0U3RhcnQgPT09IG51bGwgfHwgb25Db25uZWN0U3RhcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ29ubmVjdFN0YXJ0KGV2ZW50LCB7XHJcbiAgICAgICAgbm9kZUlkOiBub2RlSWQsXHJcbiAgICAgICAgaGFuZGxlSWQ6IGhhbmRsZUlkLFxyXG4gICAgICAgIGhhbmRsZVR5cGU6IHR5cGVcclxuICAgICAgfSk7XHJcbiAgICAgIHN0b3JlLnNldFN0YXRlKHtcclxuICAgICAgICBjb25uZWN0aW9uU3RhcnRIYW5kbGU6IHtcclxuICAgICAgICAgIG5vZGVJZDogbm9kZUlkLFxyXG4gICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgIGhhbmRsZUlkOiBoYW5kbGVJZFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgZG9jID0gZ2V0SG9zdEZvckVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcclxuXHJcbiAgICAgIHZhciBfY2hlY2tFbGVtZW50QmVsb3dJc1YgPSBjaGVja0VsZW1lbnRCZWxvd0lzVmFsaWQoZXZlbnQsIGNvbm5lY3Rpb25Nb2RlLCBjb25uZWN0aW9uU3RhcnRIYW5kbGUudHlwZSA9PT0gJ3RhcmdldCcsIGNvbm5lY3Rpb25TdGFydEhhbmRsZS5ub2RlSWQsIGNvbm5lY3Rpb25TdGFydEhhbmRsZS5oYW5kbGVJZCB8fCBudWxsLCBpc1ZhbGlkQ29ubmVjdGlvbiwgZG9jKSxcclxuICAgICAgICAgIGNvbm5lY3Rpb24gPSBfY2hlY2tFbGVtZW50QmVsb3dJc1YuY29ubmVjdGlvbixcclxuICAgICAgICAgIGlzVmFsaWQgPSBfY2hlY2tFbGVtZW50QmVsb3dJc1YuaXNWYWxpZDtcclxuXHJcbiAgICAgIG9uQ29ubmVjdFN0b3AgPT09IG51bGwgfHwgb25Db25uZWN0U3RvcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Db25uZWN0U3RvcChldmVudCk7XHJcblxyXG4gICAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICAgIG9uQ29ubmVjdEV4dGVuZGVkKGNvbm5lY3Rpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBvbkNvbm5lY3RFbmQgPT09IG51bGwgfHwgb25Db25uZWN0RW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNvbm5lY3RFbmQoZXZlbnQpO1xyXG4gICAgICBzdG9yZS5zZXRTdGF0ZSh7XHJcbiAgICAgICAgY29ubmVjdGlvblN0YXJ0SGFuZGxlOiBudWxsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtjb25uZWN0aW9uU3RhcnRIYW5kbGUsIG9uQ29ubmVjdFN0YXJ0LCBvbkNvbm5lY3RFeHRlbmRlZCwgb25Db25uZWN0U3RvcCwgb25Db25uZWN0RW5kLCBpc1RhcmdldCwgbm9kZUlkLCBoYW5kbGVJZCwgdHlwZV0pO1xyXG4gIHZhciBoYW5kbGVDbGFzc2VzID0gY2MoWydyZWFjdC1mbG93X19oYW5kbGUnLCBcInJlYWN0LWZsb3dfX2hhbmRsZS1cIi5jb25jYXQocG9zaXRpb24pLCAnbm9kcmFnJywgY2xhc3NOYW1lLCB7XHJcbiAgICBzb3VyY2U6ICFpc1RhcmdldCxcclxuICAgIHRhcmdldDogaXNUYXJnZXQsXHJcbiAgICBjb25uZWN0YWJsZTogaXNDb25uZWN0YWJsZSxcclxuICAgIGNvbm5lY3Rpbmc6IChjb25uZWN0aW9uU3RhcnRIYW5kbGUgPT09IG51bGwgfHwgY29ubmVjdGlvblN0YXJ0SGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25uZWN0aW9uU3RhcnRIYW5kbGUubm9kZUlkKSA9PT0gbm9kZUlkICYmIChjb25uZWN0aW9uU3RhcnRIYW5kbGUgPT09IG51bGwgfHwgY29ubmVjdGlvblN0YXJ0SGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25uZWN0aW9uU3RhcnRIYW5kbGUuaGFuZGxlSWQpID09PSBoYW5kbGVJZCAmJiAoY29ubmVjdGlvblN0YXJ0SGFuZGxlID09PSBudWxsIHx8IGNvbm5lY3Rpb25TdGFydEhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29ubmVjdGlvblN0YXJ0SGFuZGxlLnR5cGUpID09PSB0eXBlXHJcbiAgfV0pO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfb2JqZWN0U3ByZWFkJDgoe1xyXG4gICAgXCJkYXRhLWhhbmRsZWlkXCI6IGhhbmRsZUlkLFxyXG4gICAgXCJkYXRhLW5vZGVpZFwiOiBub2RlSWQsXHJcbiAgICBcImRhdGEtaGFuZGxlcG9zXCI6IHBvc2l0aW9uLFxyXG4gICAgY2xhc3NOYW1lOiBoYW5kbGVDbGFzc2VzLFxyXG4gICAgb25Nb3VzZURvd246IG9uTW91c2VEb3duSGFuZGxlcixcclxuICAgIG9uQ2xpY2s6IGNvbm5lY3RPbkNsaWNrID8gb25DbGljayA6IHVuZGVmaW5lZCxcclxuICAgIHJlZjogcmVmXHJcbiAgfSwgcmVzdCksIGNoaWxkcmVuKTtcclxufSk7XHJcbkhhbmRsZS5kaXNwbGF5TmFtZSA9ICdIYW5kbGUnO1xyXG52YXIgSGFuZGxlJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhIYW5kbGUpO1xyXG5cclxudmFyIERlZmF1bHROb2RlID0gZnVuY3Rpb24gRGVmYXVsdE5vZGUoX3JlZikge1xyXG4gIHZhciBkYXRhID0gX3JlZi5kYXRhLFxyXG4gICAgICBpc0Nvbm5lY3RhYmxlID0gX3JlZi5pc0Nvbm5lY3RhYmxlLFxyXG4gICAgICBfcmVmJHRhcmdldFBvc2l0aW9uID0gX3JlZi50YXJnZXRQb3NpdGlvbixcclxuICAgICAgdGFyZ2V0UG9zaXRpb24gPSBfcmVmJHRhcmdldFBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Ub3AgOiBfcmVmJHRhcmdldFBvc2l0aW9uLFxyXG4gICAgICBfcmVmJHNvdXJjZVBvc2l0aW9uID0gX3JlZi5zb3VyY2VQb3NpdGlvbixcclxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmJHNvdXJjZVBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Cb3R0b20gOiBfcmVmJHNvdXJjZVBvc2l0aW9uO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSGFuZGxlJDEsIHtcclxuICAgIHR5cGU6IFwidGFyZ2V0XCIsXHJcbiAgICBwb3NpdGlvbjogdGFyZ2V0UG9zaXRpb24sXHJcbiAgICBpc0Nvbm5lY3RhYmxlOiBpc0Nvbm5lY3RhYmxlXHJcbiAgfSksIGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5sYWJlbCwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSGFuZGxlJDEsIHtcclxuICAgIHR5cGU6IFwic291cmNlXCIsXHJcbiAgICBwb3NpdGlvbjogc291cmNlUG9zaXRpb24sXHJcbiAgICBpc0Nvbm5lY3RhYmxlOiBpc0Nvbm5lY3RhYmxlXHJcbiAgfSkpO1xyXG59O1xyXG5cclxuRGVmYXVsdE5vZGUuZGlzcGxheU5hbWUgPSAnRGVmYXVsdE5vZGUnO1xyXG52YXIgRGVmYXVsdE5vZGUkMSA9IC8qI19fUFVSRV9fKi9tZW1vKERlZmF1bHROb2RlKTtcclxuXHJcbnZhciBJbnB1dE5vZGUgPSBmdW5jdGlvbiBJbnB1dE5vZGUoX3JlZikge1xyXG4gIHZhciBkYXRhID0gX3JlZi5kYXRhLFxyXG4gICAgICBpc0Nvbm5lY3RhYmxlID0gX3JlZi5pc0Nvbm5lY3RhYmxlLFxyXG4gICAgICBfcmVmJHNvdXJjZVBvc2l0aW9uID0gX3JlZi5zb3VyY2VQb3NpdGlvbixcclxuICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmJHNvdXJjZVBvc2l0aW9uID09PSB2b2lkIDAgPyBQb3NpdGlvbi5Cb3R0b20gOiBfcmVmJHNvdXJjZVBvc2l0aW9uO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmxhYmVsLCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChIYW5kbGUkMSwge1xyXG4gICAgdHlwZTogXCJzb3VyY2VcIixcclxuICAgIHBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcclxuICAgIGlzQ29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGVcclxuICB9KSk7XHJcbn07XHJcblxyXG5JbnB1dE5vZGUuZGlzcGxheU5hbWUgPSAnSW5wdXROb2RlJztcclxudmFyIElucHV0Tm9kZSQxID0gLyojX19QVVJFX18qL21lbW8oSW5wdXROb2RlKTtcclxuXHJcbnZhciBPdXRwdXROb2RlID0gZnVuY3Rpb24gT3V0cHV0Tm9kZShfcmVmKSB7XHJcbiAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsXHJcbiAgICAgIGlzQ29ubmVjdGFibGUgPSBfcmVmLmlzQ29ubmVjdGFibGUsXHJcbiAgICAgIF9yZWYkdGFyZ2V0UG9zaXRpb24gPSBfcmVmLnRhcmdldFBvc2l0aW9uLFxyXG4gICAgICB0YXJnZXRQb3NpdGlvbiA9IF9yZWYkdGFyZ2V0UG9zaXRpb24gPT09IHZvaWQgMCA/IFBvc2l0aW9uLlRvcCA6IF9yZWYkdGFyZ2V0UG9zaXRpb247XHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChIYW5kbGUkMSwge1xyXG4gICAgdHlwZTogXCJ0YXJnZXRcIixcclxuICAgIHBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvbixcclxuICAgIGlzQ29ubmVjdGFibGU6IGlzQ29ubmVjdGFibGVcclxuICB9KSwgZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLmxhYmVsKTtcclxufTtcclxuXHJcbk91dHB1dE5vZGUuZGlzcGxheU5hbWUgPSAnT3V0cHV0Tm9kZSc7XHJcbnZhciBPdXRwdXROb2RlJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhPdXRwdXROb2RlKTtcclxuXHJcbnZhciBzZWxlY3RvciRjID0gZnVuY3Rpb24gc2VsZWN0b3Iocykge1xyXG4gIHJldHVybiB7XHJcbiAgICBzZWxlY3RlZE5vZGVzOiBBcnJheS5mcm9tKHMubm9kZUludGVybmFscy52YWx1ZXMoKSkuZmlsdGVyKGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgIHJldHVybiBuLnNlbGVjdGVkO1xyXG4gICAgfSksXHJcbiAgICBzZWxlY3RlZEVkZ2VzOiBzLmVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZSkge1xyXG4gICAgICByZXR1cm4gZS5zZWxlY3RlZDtcclxuICAgIH0pXHJcbiAgfTtcclxufTtcclxuXHJcbnZhciBhcmVFcXVhbCA9IGZ1bmN0aW9uIGFyZUVxdWFsKG9iakEsIG9iakIpIHtcclxuICB2YXIgc2VsZWN0ZWROb2RlSWRzQSA9IG9iakEuc2VsZWN0ZWROb2Rlcy5tYXAoZnVuY3Rpb24gKG4pIHtcclxuICAgIHJldHVybiBuLmlkO1xyXG4gIH0pO1xyXG4gIHZhciBzZWxlY3RlZE5vZGVJZHNCID0gb2JqQi5zZWxlY3RlZE5vZGVzLm1hcChmdW5jdGlvbiAobikge1xyXG4gICAgcmV0dXJuIG4uaWQ7XHJcbiAgfSk7XHJcbiAgdmFyIHNlbGVjdGVkRWRnZUlkc0EgPSBvYmpBLnNlbGVjdGVkRWRnZXMubWFwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICByZXR1cm4gZS5pZDtcclxuICB9KTtcclxuICB2YXIgc2VsZWN0ZWRFZGdlSWRzQiA9IG9iakIuc2VsZWN0ZWRFZGdlcy5tYXAoZnVuY3Rpb24gKGUpIHtcclxuICAgIHJldHVybiBlLmlkO1xyXG4gIH0pO1xyXG4gIHJldHVybiBzaGFsbG93KHNlbGVjdGVkTm9kZUlkc0EsIHNlbGVjdGVkTm9kZUlkc0IpICYmIHNoYWxsb3coc2VsZWN0ZWRFZGdlSWRzQSwgc2VsZWN0ZWRFZGdlSWRzQik7XHJcbn07IC8vIFRoaXMgaXMganVzdCBhIGhlbHBlciBjb21wb25lbnQgZm9yIGNhbGxpbmcgdGhlIG9uU2VsZWN0aW9uQ2hhbmdlIGxpc3RlbmVyLlxyXG4vLyBAVE9ETzogTm93IHRoYXQgd2UgaGF2ZSB0aGUgb25Ob2Rlc0NoYW5nZSBhbmQgb24gRWRnZXNDaGFuZ2UgbGlzdGVuZXJzLCBkbyB3ZSBzdGlsbCBuZWVkIHRoaXMgY29tcG9uZW50P1xyXG5cclxuXHJcbmZ1bmN0aW9uIFNlbGVjdGlvbkxpc3RlbmVyKF9yZWYpIHtcclxuICB2YXIgb25TZWxlY3Rpb25DaGFuZ2UgPSBfcmVmLm9uU2VsZWN0aW9uQ2hhbmdlO1xyXG5cclxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkYywgYXJlRXF1YWwpLFxyXG4gICAgICBzZWxlY3RlZE5vZGVzID0gX3VzZVN0b3JlLnNlbGVjdGVkTm9kZXMsXHJcbiAgICAgIHNlbGVjdGVkRWRnZXMgPSBfdXNlU3RvcmUuc2VsZWN0ZWRFZGdlcztcclxuXHJcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgIG9uU2VsZWN0aW9uQ2hhbmdlKHtcclxuICAgICAgbm9kZXM6IHNlbGVjdGVkTm9kZXMsXHJcbiAgICAgIGVkZ2VzOiBzZWxlY3RlZEVkZ2VzXHJcbiAgICB9KTtcclxuICB9LCBbc2VsZWN0ZWROb2Rlcywgc2VsZWN0ZWRFZGdlc10pO1xyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG52YXIgU2VsZWN0aW9uTGlzdGVuZXIkMSA9IC8qI19fUFVSRV9fKi9tZW1vKFNlbGVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbnZhciBzZWxlY3RvciRiID0gZnVuY3Rpb24gc2VsZWN0b3Iocykge1xyXG4gIHJldHVybiB7XHJcbiAgICBzZXROb2Rlczogcy5zZXROb2RlcyxcclxuICAgIHNldEVkZ2VzOiBzLnNldEVkZ2VzLFxyXG4gICAgc2V0RGVmYXVsdE5vZGVzQW5kRWRnZXM6IHMuc2V0RGVmYXVsdE5vZGVzQW5kRWRnZXMsXHJcbiAgICBzZXRNaW5ab29tOiBzLnNldE1pblpvb20sXHJcbiAgICBzZXRNYXhab29tOiBzLnNldE1heFpvb20sXHJcbiAgICBzZXRUcmFuc2xhdGVFeHRlbnQ6IHMuc2V0VHJhbnNsYXRlRXh0ZW50LFxyXG4gICAgc2V0Tm9kZUV4dGVudDogcy5zZXROb2RlRXh0ZW50LFxyXG4gICAgcmVzZXQ6IHMucmVzZXRcclxuICB9O1xyXG59O1xyXG5cclxuZnVuY3Rpb24gdXNlU3RvcmVVcGRhdGVyKHZhbHVlLCBzZXRTdG9yZVN0YXRlKSB7XHJcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHNldFN0b3JlU3RhdGUodmFsdWUpO1xyXG4gICAgfVxyXG4gIH0sIFt2YWx1ZV0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoa2V5LCB2YWx1ZSwgc2V0U3RhdGUpIHtcclxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICBzZXRTdGF0ZShfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgdmFsdWUpKTtcclxuICAgIH1cclxuICB9LCBbdmFsdWVdKTtcclxufVxyXG5cclxudmFyIFN0b3JlVXBkYXRlciA9IGZ1bmN0aW9uIFN0b3JlVXBkYXRlcihfcmVmKSB7XHJcbiAgdmFyIG5vZGVzID0gX3JlZi5ub2RlcyxcclxuICAgICAgZWRnZXMgPSBfcmVmLmVkZ2VzLFxyXG4gICAgICBkZWZhdWx0Tm9kZXMgPSBfcmVmLmRlZmF1bHROb2RlcyxcclxuICAgICAgZGVmYXVsdEVkZ2VzID0gX3JlZi5kZWZhdWx0RWRnZXMsXHJcbiAgICAgIG9uQ29ubmVjdCA9IF9yZWYub25Db25uZWN0LFxyXG4gICAgICBvbkNvbm5lY3RTdGFydCA9IF9yZWYub25Db25uZWN0U3RhcnQsXHJcbiAgICAgIG9uQ29ubmVjdFN0b3AgPSBfcmVmLm9uQ29ubmVjdFN0b3AsXHJcbiAgICAgIG9uQ29ubmVjdEVuZCA9IF9yZWYub25Db25uZWN0RW5kLFxyXG4gICAgICBub2Rlc0RyYWdnYWJsZSA9IF9yZWYubm9kZXNEcmFnZ2FibGUsXHJcbiAgICAgIG5vZGVzQ29ubmVjdGFibGUgPSBfcmVmLm5vZGVzQ29ubmVjdGFibGUsXHJcbiAgICAgIG1pblpvb20gPSBfcmVmLm1pblpvb20sXHJcbiAgICAgIG1heFpvb20gPSBfcmVmLm1heFpvb20sXHJcbiAgICAgIG5vZGVFeHRlbnQgPSBfcmVmLm5vZGVFeHRlbnQsXHJcbiAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfcmVmLm9uTm9kZXNDaGFuZ2UsXHJcbiAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfcmVmLm9uRWRnZXNDaGFuZ2UsXHJcbiAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZSA9IF9yZWYuZWxlbWVudHNTZWxlY3RhYmxlLFxyXG4gICAgICBjb25uZWN0aW9uTW9kZSA9IF9yZWYuY29ubmVjdGlvbk1vZGUsXHJcbiAgICAgIHNuYXBHcmlkID0gX3JlZi5zbmFwR3JpZCxcclxuICAgICAgc25hcFRvR3JpZCA9IF9yZWYuc25hcFRvR3JpZCxcclxuICAgICAgdHJhbnNsYXRlRXh0ZW50ID0gX3JlZi50cmFuc2xhdGVFeHRlbnQsXHJcbiAgICAgIGNvbm5lY3RPbkNsaWNrID0gX3JlZi5jb25uZWN0T25DbGljayxcclxuICAgICAgZGVmYXVsdEVkZ2VPcHRpb25zID0gX3JlZi5kZWZhdWx0RWRnZU9wdGlvbnMsXHJcbiAgICAgIGZpdFZpZXcgPSBfcmVmLmZpdFZpZXcsXHJcbiAgICAgIGZpdFZpZXdPcHRpb25zID0gX3JlZi5maXRWaWV3T3B0aW9ucyxcclxuICAgICAgb25Ob2Rlc0RlbGV0ZSA9IF9yZWYub25Ob2Rlc0RlbGV0ZSxcclxuICAgICAgb25FZGdlc0RlbGV0ZSA9IF9yZWYub25FZGdlc0RlbGV0ZTtcclxuXHJcbiAgdmFyIF91c2VTdG9yZSA9IHVzZVN0b3JlKHNlbGVjdG9yJGIsIHNoYWxsb3cpLFxyXG4gICAgICBzZXROb2RlcyA9IF91c2VTdG9yZS5zZXROb2RlcyxcclxuICAgICAgc2V0RWRnZXMgPSBfdXNlU3RvcmUuc2V0RWRnZXMsXHJcbiAgICAgIHNldERlZmF1bHROb2Rlc0FuZEVkZ2VzID0gX3VzZVN0b3JlLnNldERlZmF1bHROb2Rlc0FuZEVkZ2VzLFxyXG4gICAgICBzZXRNaW5ab29tID0gX3VzZVN0b3JlLnNldE1pblpvb20sXHJcbiAgICAgIHNldE1heFpvb20gPSBfdXNlU3RvcmUuc2V0TWF4Wm9vbSxcclxuICAgICAgc2V0VHJhbnNsYXRlRXh0ZW50ID0gX3VzZVN0b3JlLnNldFRyYW5zbGF0ZUV4dGVudCxcclxuICAgICAgc2V0Tm9kZUV4dGVudCA9IF91c2VTdG9yZS5zZXROb2RlRXh0ZW50LFxyXG4gICAgICByZXNldCA9IF91c2VTdG9yZS5yZXNldDtcclxuXHJcbiAgdmFyIHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcclxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgc2V0RGVmYXVsdE5vZGVzQW5kRWRnZXMoZGVmYXVsdE5vZGVzLCBkZWZhdWx0RWRnZXMpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmVzZXQoKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignZGVmYXVsdEVkZ2VPcHRpb25zJywgZGVmYXVsdEVkZ2VPcHRpb25zLCBzdG9yZS5zZXRTdGF0ZSk7XHJcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdjb25uZWN0aW9uTW9kZScsIGNvbm5lY3Rpb25Nb2RlLCBzdG9yZS5zZXRTdGF0ZSk7XHJcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbkNvbm5lY3QnLCBvbkNvbm5lY3QsIHN0b3JlLnNldFN0YXRlKTtcclxuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ29ubmVjdFN0YXJ0Jywgb25Db25uZWN0U3RhcnQsIHN0b3JlLnNldFN0YXRlKTtcclxuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ29uQ29ubmVjdFN0b3AnLCBvbkNvbm5lY3RTdG9wLCBzdG9yZS5zZXRTdGF0ZSk7XHJcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbkNvbm5lY3RFbmQnLCBvbkNvbm5lY3RFbmQsIHN0b3JlLnNldFN0YXRlKTtcclxuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ25vZGVzRHJhZ2dhYmxlJywgbm9kZXNEcmFnZ2FibGUsIHN0b3JlLnNldFN0YXRlKTtcclxuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ25vZGVzQ29ubmVjdGFibGUnLCBub2Rlc0Nvbm5lY3RhYmxlLCBzdG9yZS5zZXRTdGF0ZSk7XHJcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdlbGVtZW50c1NlbGVjdGFibGUnLCBlbGVtZW50c1NlbGVjdGFibGUsIHN0b3JlLnNldFN0YXRlKTtcclxuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ3NuYXBUb0dyaWQnLCBzbmFwVG9HcmlkLCBzdG9yZS5zZXRTdGF0ZSk7XHJcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdzbmFwR3JpZCcsIHNuYXBHcmlkLCBzdG9yZS5zZXRTdGF0ZSk7XHJcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbk5vZGVzQ2hhbmdlJywgb25Ob2Rlc0NoYW5nZSwgc3RvcmUuc2V0U3RhdGUpO1xyXG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25FZGdlc0NoYW5nZScsIG9uRWRnZXNDaGFuZ2UsIHN0b3JlLnNldFN0YXRlKTtcclxuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ2Nvbm5lY3RPbkNsaWNrJywgY29ubmVjdE9uQ2xpY2ssIHN0b3JlLnNldFN0YXRlKTtcclxuICB1c2VEaXJlY3RTdG9yZVVwZGF0ZXIoJ2ZpdFZpZXdPbkluaXQnLCBmaXRWaWV3LCBzdG9yZS5zZXRTdGF0ZSk7XHJcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdmaXRWaWV3T25Jbml0T3B0aW9ucycsIGZpdFZpZXdPcHRpb25zLCBzdG9yZS5zZXRTdGF0ZSk7XHJcbiAgdXNlRGlyZWN0U3RvcmVVcGRhdGVyKCdvbk5vZGVzRGVsZXRlJywgb25Ob2Rlc0RlbGV0ZSwgc3RvcmUuc2V0U3RhdGUpO1xyXG4gIHVzZURpcmVjdFN0b3JlVXBkYXRlcignb25FZGdlc0RlbGV0ZScsIG9uRWRnZXNEZWxldGUsIHN0b3JlLnNldFN0YXRlKTtcclxuICB1c2VTdG9yZVVwZGF0ZXIobm9kZXMsIHNldE5vZGVzKTtcclxuICB1c2VTdG9yZVVwZGF0ZXIoZWRnZXMsIHNldEVkZ2VzKTtcclxuICB1c2VTdG9yZVVwZGF0ZXIoZGVmYXVsdE5vZGVzLCBzZXROb2Rlcyk7XHJcbiAgdXNlU3RvcmVVcGRhdGVyKGRlZmF1bHRFZGdlcywgc2V0RWRnZXMpO1xyXG4gIHVzZVN0b3JlVXBkYXRlcihtaW5ab29tLCBzZXRNaW5ab29tKTtcclxuICB1c2VTdG9yZVVwZGF0ZXIobWF4Wm9vbSwgc2V0TWF4Wm9vbSk7XHJcbiAgdXNlU3RvcmVVcGRhdGVyKHRyYW5zbGF0ZUV4dGVudCwgc2V0VHJhbnNsYXRlRXh0ZW50KTtcclxuICB1c2VTdG9yZVVwZGF0ZXIobm9kZUV4dGVudCwgc2V0Tm9kZUV4dGVudCk7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG52YXIgY3NzXzI0OHokMSA9IFwiLnJlYWN0LWZsb3d7aGVpZ2h0OjEwMCU7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCV9LnJlYWN0LWZsb3dfX2NvbnRhaW5lcntoZWlnaHQ6MTAwJTtsZWZ0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJX0ucmVhY3QtZmxvd19fcGFuZXt6LWluZGV4OjF9LnJlYWN0LWZsb3dfX3ZpZXdwb3J0e3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNmb3JtLW9yaWdpbjowIDA7ei1pbmRleDoyfS5yZWFjdC1mbG93X19yZW5kZXJlcnt6LWluZGV4OjR9LnJlYWN0LWZsb3dfX3NlbGVjdGlvbnBhbmV7ei1pbmRleDo1fS5yZWFjdC1mbG93IC5yZWFjdC1mbG93X19lZGdlc3tvdmVyZmxvdzp2aXNpYmxlO3BvaW50ZXItZXZlbnRzOm5vbmV9LnJlYWN0LWZsb3dfX2VkZ2V7cG9pbnRlci1ldmVudHM6dmlzaWJsZVN0cm9rZX0ucmVhY3QtZmxvd19fZWRnZS5pbmFjdGl2ZXtwb2ludGVyLWV2ZW50czpub25lfUAtd2Via2l0LWtleWZyYW1lcyBkYXNoZHJhd3swJXtzdHJva2UtZGFzaG9mZnNldDoxMH19QGtleWZyYW1lcyBkYXNoZHJhd3swJXtzdHJva2UtZGFzaG9mZnNldDoxMH19LnJlYWN0LWZsb3dfX2VkZ2UtcGF0aHtmaWxsOm5vbmV9LnJlYWN0LWZsb3dfX2VkZ2UtdGV4dHdyYXBwZXJ7cG9pbnRlci1ldmVudHM6YWxsfS5yZWFjdC1mbG93X19lZGdlLXRleHR7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnJlYWN0LWZsb3dfX2Nvbm5lY3Rpb257cG9pbnRlci1ldmVudHM6bm9uZX0ucmVhY3QtZmxvd19fY29ubmVjdGlvbiAuYW5pbWF0ZWR7c3Ryb2tlLWRhc2hhcnJheTo1Oy13ZWJraXQtYW5pbWF0aW9uOmRhc2hkcmF3IC41cyBsaW5lYXIgaW5maW5pdGU7YW5pbWF0aW9uOmRhc2hkcmF3IC41cyBsaW5lYXIgaW5maW5pdGV9LnJlYWN0LWZsb3dfX2Nvbm5lY3Rpb24tcGF0aHtmaWxsOm5vbmV9LnJlYWN0LWZsb3dfX25vZGVze3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNmb3JtLW9yaWdpbjowIDB9LnJlYWN0LWZsb3dfX25vZGV7Ym94LXNpemluZzpib3JkZXItYm94O3BvaW50ZXItZXZlbnRzOmFsbDtwb3NpdGlvbjphYnNvbHV0ZTt0cmFuc2Zvcm0tb3JpZ2luOjAgMDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnJlYWN0LWZsb3dfX25vZGVzc2VsZWN0aW9ue3BvaW50ZXItZXZlbnRzOm5vbmU7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IHRvcDt6LWluZGV4OjN9LnJlYWN0LWZsb3dfX25vZGVzc2VsZWN0aW9uLXJlY3R7Y3Vyc29yOi13ZWJraXQtZ3JhYjtjdXJzb3I6Z3JhYjtwb2ludGVyLWV2ZW50czphbGw7cG9zaXRpb246YWJzb2x1dGV9LnJlYWN0LWZsb3dfX2hhbmRsZXtwb2ludGVyLWV2ZW50czpub25lfS5yZWFjdC1mbG93X19oYW5kbGUuY29ubmVjdGFibGV7cG9pbnRlci1ldmVudHM6YWxsfS5yZWFjdC1mbG93X19oYW5kbGUtYm90dG9te2JvdHRvbTotNHB4O2xlZnQ6NTAlO3RvcDphdXRvO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSl9LnJlYWN0LWZsb3dfX2hhbmRsZS10b3B7bGVmdDo1MCU7dG9wOi00cHg7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlKX0ucmVhY3QtZmxvd19faGFuZGxlLWxlZnR7bGVmdDotNHB4O3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9LnJlYWN0LWZsb3dfX2hhbmRsZS1yaWdodHtyaWdodDotNHB4O3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9LnJlYWN0LWZsb3dfX2VkZ2V1cGRhdGVye2N1cnNvcjptb3ZlO3BvaW50ZXItZXZlbnRzOmFsbH0ucmVhY3QtZmxvd19fY29udHJvbHN7Ym90dG9tOjIwcHg7bGVmdDoxNXB4O3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NX0ucmVhY3QtZmxvd19fY29udHJvbHMtYnV0dG9ue2JvcmRlcjpub25lO2hlaWdodDoyNHB4O3dpZHRoOjI0cHh9LnJlYWN0LWZsb3dfX2NvbnRyb2xzLWJ1dHRvbiBzdmd7d2lkdGg6MTAwJX0ucmVhY3QtZmxvd19fbWluaW1hcHtib3R0b206MjBweDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxNXB4O3otaW5kZXg6NX0ucmVhY3QtZmxvd19fYXR0cmlidXRpb257YmFja2dyb3VuZDpoc2xhKDAsMCUsMTAwJSwuNSk7Y29sb3I6Izk5OTtmb250LXNpemU6MTBweDtwYWRkaW5nOjJweCAzcHg7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxMDAwfS5yZWFjdC1mbG93X19hdHRyaWJ1dGlvbiBhe2NvbG9yOiM1NTU7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnJlYWN0LWZsb3dfX2F0dHJpYnV0aW9uLnRvcHt0b3A6MH0ucmVhY3QtZmxvd19fYXR0cmlidXRpb24uYm90dG9te2JvdHRvbTowfS5yZWFjdC1mbG93X19hdHRyaWJ1dGlvbi5sZWZ0e2xlZnQ6MH0ucmVhY3QtZmxvd19fYXR0cmlidXRpb24ucmlnaHR7cmlnaHQ6MH0ucmVhY3QtZmxvd19fYXR0cmlidXRpb24uY2VudGVye2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfVwiO1xyXG5cclxudmFyIGNzc18yNDh6ID0gXCIucmVhY3QtZmxvd19fZWRnZS5zZWxlY3RlZCAucmVhY3QtZmxvd19fZWRnZS1wYXRoe3N0cm9rZTojNTU1fS5yZWFjdC1mbG93X19lZGdlLmFuaW1hdGVkIHBhdGh7c3Ryb2tlLWRhc2hhcnJheTo1Oy13ZWJraXQtYW5pbWF0aW9uOmRhc2hkcmF3IC41cyBsaW5lYXIgaW5maW5pdGU7YW5pbWF0aW9uOmRhc2hkcmF3IC41cyBsaW5lYXIgaW5maW5pdGV9LnJlYWN0LWZsb3dfX2VkZ2UudXBkYXRpbmcgLnJlYWN0LWZsb3dfX2VkZ2UtcGF0aHtzdHJva2U6Izc3N30ucmVhY3QtZmxvd19fZWRnZS1wYXRoe3N0cm9rZTojYjFiMWI3O3N0cm9rZS13aWR0aDoxfS5yZWFjdC1mbG93X19lZGdlLXRleHR7Zm9udC1zaXplOjEwcHh9LnJlYWN0LWZsb3dfX2VkZ2UtdGV4dGJne2ZpbGw6I2ZmZn0ucmVhY3QtZmxvd19fY29ubmVjdGlvbi1wYXRoe3N0cm9rZTojYjFiMWI3O3N0cm9rZS13aWR0aDoxfS5yZWFjdC1mbG93X19ub2Rle2N1cnNvcjotd2Via2l0LWdyYWI7Y3Vyc29yOmdyYWJ9LnJlYWN0LWZsb3dfX25vZGUtZGVmYXVsdCwucmVhY3QtZmxvd19fbm9kZS1ncm91cCwucmVhY3QtZmxvd19fbm9kZS1pbnB1dCwucmVhY3QtZmxvd19fbm9kZS1vdXRwdXR7YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggc29saWQgIzFhMTkyYjtib3JkZXItcmFkaXVzOjNweDtjb2xvcjojMjIyO2ZvbnQtc2l6ZToxMnB4O3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxNTBweH0ucmVhY3QtZmxvd19fbm9kZS1kZWZhdWx0LnNlbGVjdGVkLC5yZWFjdC1mbG93X19ub2RlLWRlZmF1bHQuc2VsZWN0ZWQ6aG92ZXIsLnJlYWN0LWZsb3dfX25vZGUtZ3JvdXAuc2VsZWN0ZWQsLnJlYWN0LWZsb3dfX25vZGUtZ3JvdXAuc2VsZWN0ZWQ6aG92ZXIsLnJlYWN0LWZsb3dfX25vZGUtaW5wdXQuc2VsZWN0ZWQsLnJlYWN0LWZsb3dfX25vZGUtaW5wdXQuc2VsZWN0ZWQ6aG92ZXIsLnJlYWN0LWZsb3dfX25vZGUtb3V0cHV0LnNlbGVjdGVkLC5yZWFjdC1mbG93X19ub2RlLW91dHB1dC5zZWxlY3RlZDpob3Zlcntib3gtc2hhZG93OjAgMCAwIC41cHggIzFhMTkyYn0ucmVhY3QtZmxvd19fbm9kZS1kZWZhdWx0IC5yZWFjdC1mbG93X19oYW5kbGUsLnJlYWN0LWZsb3dfX25vZGUtZ3JvdXAgLnJlYWN0LWZsb3dfX2hhbmRsZSwucmVhY3QtZmxvd19fbm9kZS1pbnB1dCAucmVhY3QtZmxvd19faGFuZGxlLC5yZWFjdC1mbG93X19ub2RlLW91dHB1dCAucmVhY3QtZmxvd19faGFuZGxle2JhY2tncm91bmQ6IzFhMTkyYn0ucmVhY3QtZmxvd19fbm9kZS1kZWZhdWx0LnNlbGVjdGFibGU6aG92ZXIsLnJlYWN0LWZsb3dfX25vZGUtZ3JvdXAuc2VsZWN0YWJsZTpob3ZlciwucmVhY3QtZmxvd19fbm9kZS1pbnB1dC5zZWxlY3RhYmxlOmhvdmVyLC5yZWFjdC1mbG93X19ub2RlLW91dHB1dC5zZWxlY3RhYmxlOmhvdmVye2JveC1zaGFkb3c6MCAxcHggNHB4IDFweCByZ2JhKDAsMCwwLC4wOCl9LnJlYWN0LWZsb3dfX25vZGUtZ3JvdXB7YmFja2dyb3VuZDpoc2xhKDAsMCUsOTQlLC4yNSk7Ym9yZGVyLWNvbG9yOiMxYTE5MmJ9LnJlYWN0LWZsb3dfX25vZGUtZ3JvdXAuc2VsZWN0ZWQsLnJlYWN0LWZsb3dfX25vZGUtZ3JvdXAuc2VsZWN0ZWQ6aG92ZXJ7Ym94LXNoYWRvdzowIDAgMCAuNXB4ICMxYTE5MmJ9LnJlYWN0LWZsb3dfX25vZGVzc2VsZWN0aW9uLXJlY3QsLnJlYWN0LWZsb3dfX3NlbGVjdGlvbntiYWNrZ3JvdW5kOnJnYmEoMCw4OSwyMjAsLjA4KTtib3JkZXI6MXB4IGRvdHRlZCByZ2JhKDAsODksMjIwLC44KX0ucmVhY3QtZmxvd19faGFuZGxle2JhY2tncm91bmQ6IzU1NTtib3JkZXI6MXB4IHNvbGlkICNmZmY7Ym9yZGVyLXJhZGl1czoxMDAlO2hlaWdodDo2cHg7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NnB4fS5yZWFjdC1mbG93X19oYW5kbGUuY29ubmVjdGFibGV7Y3Vyc29yOmNyb3NzaGFpcn0ucmVhY3QtZmxvd19fbWluaW1hcHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LnJlYWN0LWZsb3dfX2NvbnRyb2xze2JveC1zaGFkb3c6MCAwIDJweCAxcHggcmdiYSgwLDAsMCwuMDgpfS5yZWFjdC1mbG93X19jb250cm9scy1idXR0b257YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQ6I2ZlZmVmZTtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZWVlO2JveC1zaXppbmc6Y29udGVudC1ib3g7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2hlaWdodDoxNnB4O2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZzo1cHg7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3dpZHRoOjE2cHh9LnJlYWN0LWZsb3dfX2NvbnRyb2xzLWJ1dHRvbiBzdmd7bWF4LWhlaWdodDoxMnB4O21heC13aWR0aDoxMnB4fS5yZWFjdC1mbG93X19jb250cm9scy1idXR0b246aG92ZXJ7YmFja2dyb3VuZDojZjRmNGY0fVwiO1xyXG5cclxudmFyIHNoaWZ0WCA9IGZ1bmN0aW9uIHNoaWZ0WCh4LCBzaGlmdCwgcG9zaXRpb24pIHtcclxuICBpZiAocG9zaXRpb24gPT09IFBvc2l0aW9uLkxlZnQpIHJldHVybiB4IC0gc2hpZnQ7XHJcbiAgaWYgKHBvc2l0aW9uID09PSBQb3NpdGlvbi5SaWdodCkgcmV0dXJuIHggKyBzaGlmdDtcclxuICByZXR1cm4geDtcclxufTtcclxuXHJcbnZhciBzaGlmdFkgPSBmdW5jdGlvbiBzaGlmdFkoeSwgc2hpZnQsIHBvc2l0aW9uKSB7XHJcbiAgaWYgKHBvc2l0aW9uID09PSBQb3NpdGlvbi5Ub3ApIHJldHVybiB5IC0gc2hpZnQ7XHJcbiAgaWYgKHBvc2l0aW9uID09PSBQb3NpdGlvbi5Cb3R0b20pIHJldHVybiB5ICsgc2hpZnQ7XHJcbiAgcmV0dXJuIHk7XHJcbn07XHJcblxyXG52YXIgRWRnZUFuY2hvciA9IGZ1bmN0aW9uIEVkZ2VBbmNob3IoX3JlZikge1xyXG4gIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcclxuICAgICAgcG9zaXRpb24gPSBfcmVmLnBvc2l0aW9uLFxyXG4gICAgICBjZW50ZXJYID0gX3JlZi5jZW50ZXJYLFxyXG4gICAgICBjZW50ZXJZID0gX3JlZi5jZW50ZXJZLFxyXG4gICAgICBfcmVmJHJhZGl1cyA9IF9yZWYucmFkaXVzLFxyXG4gICAgICByYWRpdXMgPSBfcmVmJHJhZGl1cyA9PT0gdm9pZCAwID8gMTAgOiBfcmVmJHJhZGl1cztcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xyXG4gICAgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3dfX2VkZ2V1cGRhdGVyJywgY2xhc3NOYW1lXSksXHJcbiAgICBjeDogc2hpZnRYKGNlbnRlclgsIHJhZGl1cywgcG9zaXRpb24pLFxyXG4gICAgY3k6IHNoaWZ0WShjZW50ZXJZLCByYWRpdXMsIHBvc2l0aW9uKSxcclxuICAgIHI6IHJhZGl1cyxcclxuICAgIHN0cm9rZTogXCJ0cmFuc3BhcmVudFwiLFxyXG4gICAgZmlsbDogXCJ0cmFuc3BhcmVudFwiXHJcbiAgfSk7XHJcbn07XHJcblxyXG52YXIgc2VsZWN0b3IkYSA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgYWRkU2VsZWN0ZWRFZGdlczogcy5hZGRTZWxlY3RlZEVkZ2VzLFxyXG4gICAgY29ubmVjdGlvbk1vZGU6IHMuY29ubmVjdGlvbk1vZGVcclxuICB9O1xyXG59O1xyXG5cclxudmFyIHdyYXBFZGdlID0gKGZ1bmN0aW9uIChFZGdlQ29tcG9uZW50KSB7XHJcbiAgdmFyIEVkZ2VXcmFwcGVyID0gZnVuY3Rpb24gRWRnZVdyYXBwZXIoX3JlZikge1xyXG4gICAgdmFyIGlkID0gX3JlZi5pZCxcclxuICAgICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcclxuICAgICAgICB0eXBlID0gX3JlZi50eXBlLFxyXG4gICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsXHJcbiAgICAgICAgb25DbGljayA9IF9yZWYub25DbGljayxcclxuICAgICAgICBvbkVkZ2VEb3VibGVDbGljayA9IF9yZWYub25FZGdlRG91YmxlQ2xpY2ssXHJcbiAgICAgICAgc2VsZWN0ZWQgPSBfcmVmLnNlbGVjdGVkLFxyXG4gICAgICAgIGFuaW1hdGVkID0gX3JlZi5hbmltYXRlZCxcclxuICAgICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXHJcbiAgICAgICAgbGFiZWxTdHlsZSA9IF9yZWYubGFiZWxTdHlsZSxcclxuICAgICAgICBsYWJlbFNob3dCZyA9IF9yZWYubGFiZWxTaG93QmcsXHJcbiAgICAgICAgbGFiZWxCZ1N0eWxlID0gX3JlZi5sYWJlbEJnU3R5bGUsXHJcbiAgICAgICAgbGFiZWxCZ1BhZGRpbmcgPSBfcmVmLmxhYmVsQmdQYWRkaW5nLFxyXG4gICAgICAgIGxhYmVsQmdCb3JkZXJSYWRpdXMgPSBfcmVmLmxhYmVsQmdCb3JkZXJSYWRpdXMsXHJcbiAgICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlLFxyXG4gICAgICAgIHNvdXJjZSA9IF9yZWYuc291cmNlLFxyXG4gICAgICAgIHRhcmdldCA9IF9yZWYudGFyZ2V0LFxyXG4gICAgICAgIHNvdXJjZVggPSBfcmVmLnNvdXJjZVgsXHJcbiAgICAgICAgc291cmNlWSA9IF9yZWYuc291cmNlWSxcclxuICAgICAgICB0YXJnZXRYID0gX3JlZi50YXJnZXRYLFxyXG4gICAgICAgIHRhcmdldFkgPSBfcmVmLnRhcmdldFksXHJcbiAgICAgICAgc291cmNlUG9zaXRpb24gPSBfcmVmLnNvdXJjZVBvc2l0aW9uLFxyXG4gICAgICAgIHRhcmdldFBvc2l0aW9uID0gX3JlZi50YXJnZXRQb3NpdGlvbixcclxuICAgICAgICBlbGVtZW50c1NlbGVjdGFibGUgPSBfcmVmLmVsZW1lbnRzU2VsZWN0YWJsZSxcclxuICAgICAgICBoaWRkZW4gPSBfcmVmLmhpZGRlbixcclxuICAgICAgICBzb3VyY2VIYW5kbGVJZCA9IF9yZWYuc291cmNlSGFuZGxlSWQsXHJcbiAgICAgICAgdGFyZ2V0SGFuZGxlSWQgPSBfcmVmLnRhcmdldEhhbmRsZUlkLFxyXG4gICAgICAgIG9uQ29udGV4dE1lbnUgPSBfcmVmLm9uQ29udGV4dE1lbnUsXHJcbiAgICAgICAgb25Nb3VzZUVudGVyID0gX3JlZi5vbk1vdXNlRW50ZXIsXHJcbiAgICAgICAgb25Nb3VzZU1vdmUgPSBfcmVmLm9uTW91c2VNb3ZlLFxyXG4gICAgICAgIG9uTW91c2VMZWF2ZSA9IF9yZWYub25Nb3VzZUxlYXZlLFxyXG4gICAgICAgIGVkZ2VVcGRhdGVyUmFkaXVzID0gX3JlZi5lZGdlVXBkYXRlclJhZGl1cyxcclxuICAgICAgICBvbkVkZ2VVcGRhdGUgPSBfcmVmLm9uRWRnZVVwZGF0ZSxcclxuICAgICAgICBvbkVkZ2VVcGRhdGVTdGFydCA9IF9yZWYub25FZGdlVXBkYXRlU3RhcnQsXHJcbiAgICAgICAgb25FZGdlVXBkYXRlRW5kID0gX3JlZi5vbkVkZ2VVcGRhdGVFbmQsXHJcbiAgICAgICAgbWFya2VyRW5kID0gX3JlZi5tYXJrZXJFbmQsXHJcbiAgICAgICAgbWFya2VyU3RhcnQgPSBfcmVmLm1hcmtlclN0YXJ0O1xyXG4gICAgdmFyIHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcclxuXHJcbiAgICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkYSwgc2hhbGxvdyksXHJcbiAgICAgICAgYWRkU2VsZWN0ZWRFZGdlcyA9IF91c2VTdG9yZS5hZGRTZWxlY3RlZEVkZ2VzLFxyXG4gICAgICAgIGNvbm5lY3Rpb25Nb2RlID0gX3VzZVN0b3JlLmNvbm5lY3Rpb25Nb2RlO1xyXG5cclxuICAgIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXHJcbiAgICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXHJcbiAgICAgICAgdXBkYXRpbmcgPSBfdXNlU3RhdGUyWzBdLFxyXG4gICAgICAgIHNldFVwZGF0aW5nID0gX3VzZVN0YXRlMlsxXTtcclxuXHJcbiAgICB2YXIgaW5hY3RpdmUgPSAhZWxlbWVudHNTZWxlY3RhYmxlICYmICFvbkNsaWNrO1xyXG4gICAgdmFyIGhhbmRsZUVkZ2VVcGRhdGUgPSB0eXBlb2Ygb25FZGdlVXBkYXRlICE9PSAndW5kZWZpbmVkJztcclxuICAgIHZhciBlZGdlQ2xhc3NlcyA9IGNjKFsncmVhY3QtZmxvd19fZWRnZScsIFwicmVhY3QtZmxvd19fZWRnZS1cIi5jb25jYXQodHlwZSksIGNsYXNzTmFtZSwge1xyXG4gICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXHJcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZCxcclxuICAgICAgaW5hY3RpdmU6IGluYWN0aXZlLFxyXG4gICAgICB1cGRhdGluZzogdXBkYXRpbmdcclxuICAgIH1dKTtcclxuICAgIHZhciBlZGdlRWxlbWVudCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgZWwgPSB7XHJcbiAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxyXG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxyXG4gICAgICAgIHR5cGU6IHR5cGVcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmIChzb3VyY2VIYW5kbGVJZCkge1xyXG4gICAgICAgIGVsLnNvdXJjZUhhbmRsZSA9IHNvdXJjZUhhbmRsZUlkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGFyZ2V0SGFuZGxlSWQpIHtcclxuICAgICAgICBlbC50YXJnZXRIYW5kbGUgPSB0YXJnZXRIYW5kbGVJZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGVsLmRhdGEgPSBkYXRhO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZWw7XHJcbiAgICB9LCBbaWQsIHNvdXJjZSwgdGFyZ2V0LCB0eXBlLCBzb3VyY2VIYW5kbGVJZCwgdGFyZ2V0SGFuZGxlSWQsIGRhdGFdKTtcclxuICAgIHZhciBvbkVkZ2VDbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBpZiAoZWxlbWVudHNTZWxlY3RhYmxlKSB7XHJcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYWRkU2VsZWN0ZWRFZGdlcyhbZWRnZUVsZW1lbnQuaWRdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgb25DbGljayA9PT0gbnVsbCB8fCBvbkNsaWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNsaWNrKGV2ZW50LCBlZGdlRWxlbWVudCk7XHJcbiAgICB9LCBbZWxlbWVudHNTZWxlY3RhYmxlLCBlZGdlRWxlbWVudCwgb25DbGlja10pO1xyXG4gICAgdmFyIG9uRWRnZURvdWJsZUNsaWNrSGFuZGxlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBvbkVkZ2VEb3VibGVDbGljayA9PT0gbnVsbCB8fCBvbkVkZ2VEb3VibGVDbGljayA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25FZGdlRG91YmxlQ2xpY2soZXZlbnQsIGVkZ2VFbGVtZW50KTtcclxuICAgIH0sIFtlZGdlRWxlbWVudCwgb25FZGdlRG91YmxlQ2xpY2tdKTtcclxuICAgIHZhciBvbkVkZ2VDb250ZXh0TWVudSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBvbkNvbnRleHRNZW51ID09PSBudWxsIHx8IG9uQ29udGV4dE1lbnUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ29udGV4dE1lbnUoZXZlbnQsIGVkZ2VFbGVtZW50KTtcclxuICAgIH0sIFtlZGdlRWxlbWVudCwgb25Db250ZXh0TWVudV0pO1xyXG4gICAgdmFyIG9uRWRnZU1vdXNlRW50ZXIgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgb25Nb3VzZUVudGVyID09PSBudWxsIHx8IG9uTW91c2VFbnRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Nb3VzZUVudGVyKGV2ZW50LCBlZGdlRWxlbWVudCk7XHJcbiAgICB9LCBbZWRnZUVsZW1lbnQsIG9uQ29udGV4dE1lbnVdKTtcclxuICAgIHZhciBvbkVkZ2VNb3VzZU1vdmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgb25Nb3VzZU1vdmUgPT09IG51bGwgfHwgb25Nb3VzZU1vdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTW91c2VNb3ZlKGV2ZW50LCBlZGdlRWxlbWVudCk7XHJcbiAgICB9LCBbZWRnZUVsZW1lbnQsIG9uQ29udGV4dE1lbnVdKTtcclxuICAgIHZhciBvbkVkZ2VNb3VzZUxlYXZlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIG9uTW91c2VMZWF2ZSA9PT0gbnVsbCB8fCBvbk1vdXNlTGVhdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTW91c2VMZWF2ZShldmVudCwgZWRnZUVsZW1lbnQpO1xyXG4gICAgfSwgW2VkZ2VFbGVtZW50LCBvbkNvbnRleHRNZW51XSk7XHJcbiAgICB2YXIgaGFuZGxlRWRnZVVwZGF0ZXIgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQsIGlzU291cmNlSGFuZGxlKSB7XHJcbiAgICAgIHZhciBub2RlSWQgPSBpc1NvdXJjZUhhbmRsZSA/IHRhcmdldCA6IHNvdXJjZTtcclxuICAgICAgdmFyIGhhbmRsZUlkID0gaXNTb3VyY2VIYW5kbGUgPyB0YXJnZXRIYW5kbGVJZCA6IHNvdXJjZUhhbmRsZUlkO1xyXG5cclxuICAgICAgdmFyIGlzVmFsaWRDb25uZWN0aW9uID0gZnVuY3Rpb24gaXNWYWxpZENvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgaXNUYXJnZXQgPSBpc1NvdXJjZUhhbmRsZTtcclxuICAgICAgb25FZGdlVXBkYXRlU3RhcnQgPT09IG51bGwgfHwgb25FZGdlVXBkYXRlU3RhcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRWRnZVVwZGF0ZVN0YXJ0KGV2ZW50LCBlZGdlRWxlbWVudCk7XHJcblxyXG4gICAgICB2YXIgX29uRWRnZVVwZGF0ZSA9IG9uRWRnZVVwZGF0ZUVuZCA/IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICByZXR1cm4gb25FZGdlVXBkYXRlRW5kKGV2dCwgZWRnZUVsZW1lbnQpO1xyXG4gICAgICB9IDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgdmFyIG9uQ29ubmVjdEVkZ2UgPSBmdW5jdGlvbiBvbkNvbm5lY3RFZGdlKGNvbm5lY3Rpb24pIHtcclxuICAgICAgICB2YXIgX3N0b3JlJGdldFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKSxcclxuICAgICAgICAgICAgZWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUuZWRnZXM7XHJcblxyXG4gICAgICAgIHZhciBlZGdlID0gZWRnZXMuZmluZChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGUuaWQgPT09IGlkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoZWRnZSAmJiBvbkVkZ2VVcGRhdGUpIHtcclxuICAgICAgICAgIG9uRWRnZVVwZGF0ZShlZGdlLCBjb25uZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBvbk1vdXNlRG93bihldmVudCwgaGFuZGxlSWQsIG5vZGVJZCwgc3RvcmUuc2V0U3RhdGUsIG9uQ29ubmVjdEVkZ2UsIGlzVGFyZ2V0LCBpc1ZhbGlkQ29ubmVjdGlvbiwgY29ubmVjdGlvbk1vZGUsIGlzU291cmNlSGFuZGxlID8gJ3RhcmdldCcgOiAnc291cmNlJywgX29uRWRnZVVwZGF0ZSwgc3RvcmUuZ2V0U3RhdGUpO1xyXG4gICAgfSwgW2lkLCBzb3VyY2UsIHRhcmdldCwgdHlwZSwgc291cmNlSGFuZGxlSWQsIHRhcmdldEhhbmRsZUlkLCBlZGdlRWxlbWVudCwgb25FZGdlVXBkYXRlXSk7XHJcbiAgICB2YXIgb25FZGdlVXBkYXRlclNvdXJjZU1vdXNlRG93biA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBoYW5kbGVFZGdlVXBkYXRlcihldmVudCwgdHJ1ZSk7XHJcbiAgICB9LCBbaWQsIHNvdXJjZSwgc291cmNlSGFuZGxlSWQsIGhhbmRsZUVkZ2VVcGRhdGVyXSk7XHJcbiAgICB2YXIgb25FZGdlVXBkYXRlclRhcmdldE1vdXNlRG93biA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBoYW5kbGVFZGdlVXBkYXRlcihldmVudCwgZmFsc2UpO1xyXG4gICAgfSwgW2lkLCB0YXJnZXQsIHRhcmdldEhhbmRsZUlkLCBoYW5kbGVFZGdlVXBkYXRlcl0pO1xyXG4gICAgdmFyIG9uRWRnZVVwZGF0ZXJNb3VzZUVudGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gc2V0VXBkYXRpbmcodHJ1ZSk7XHJcbiAgICB9LCBbc2V0VXBkYXRpbmddKTtcclxuICAgIHZhciBvbkVkZ2VVcGRhdGVyTW91c2VPdXQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBzZXRVcGRhdGluZyhmYWxzZSk7XHJcbiAgICB9LCBbc2V0VXBkYXRpbmddKTtcclxuICAgIHZhciBtYXJrZXJTdGFydFVybCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gXCJ1cmwoI1wiLmNvbmNhdChnZXRNYXJrZXJJZChtYXJrZXJTdGFydCksIFwiKVwiKTtcclxuICAgIH0sIFttYXJrZXJTdGFydF0pO1xyXG4gICAgdmFyIG1hcmtlckVuZFVybCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gXCJ1cmwoI1wiLmNvbmNhdChnZXRNYXJrZXJJZChtYXJrZXJFbmQpLCBcIilcIik7XHJcbiAgICB9LCBbbWFya2VyRW5kXSk7XHJcblxyXG4gICAgaWYgKGhpZGRlbikge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcclxuICAgICAgY2xhc3NOYW1lOiBlZGdlQ2xhc3NlcyxcclxuICAgICAgb25DbGljazogb25FZGdlQ2xpY2ssXHJcbiAgICAgIG9uRG91YmxlQ2xpY2s6IG9uRWRnZURvdWJsZUNsaWNrSGFuZGxlcixcclxuICAgICAgb25Db250ZXh0TWVudTogb25FZGdlQ29udGV4dE1lbnUsXHJcbiAgICAgIG9uTW91c2VFbnRlcjogb25FZGdlTW91c2VFbnRlcixcclxuICAgICAgb25Nb3VzZU1vdmU6IG9uRWRnZU1vdXNlTW92ZSxcclxuICAgICAgb25Nb3VzZUxlYXZlOiBvbkVkZ2VNb3VzZUxlYXZlXHJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFZGdlQ29tcG9uZW50LCB7XHJcbiAgICAgIGlkOiBpZCxcclxuICAgICAgc291cmNlOiBzb3VyY2UsXHJcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxyXG4gICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXHJcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZCxcclxuICAgICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgICBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLFxyXG4gICAgICBsYWJlbFNob3dCZzogbGFiZWxTaG93QmcsXHJcbiAgICAgIGxhYmVsQmdTdHlsZTogbGFiZWxCZ1N0eWxlLFxyXG4gICAgICBsYWJlbEJnUGFkZGluZzogbGFiZWxCZ1BhZGRpbmcsXHJcbiAgICAgIGxhYmVsQmdCb3JkZXJSYWRpdXM6IGxhYmVsQmdCb3JkZXJSYWRpdXMsXHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIHN0eWxlOiBzdHlsZSxcclxuICAgICAgc291cmNlWDogc291cmNlWCxcclxuICAgICAgc291cmNlWTogc291cmNlWSxcclxuICAgICAgdGFyZ2V0WDogdGFyZ2V0WCxcclxuICAgICAgdGFyZ2V0WTogdGFyZ2V0WSxcclxuICAgICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxyXG4gICAgICB0YXJnZXRQb3NpdGlvbjogdGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIHNvdXJjZUhhbmRsZUlkOiBzb3VyY2VIYW5kbGVJZCxcclxuICAgICAgdGFyZ2V0SGFuZGxlSWQ6IHRhcmdldEhhbmRsZUlkLFxyXG4gICAgICBtYXJrZXJTdGFydDogbWFya2VyU3RhcnRVcmwsXHJcbiAgICAgIG1hcmtlckVuZDogbWFya2VyRW5kVXJsXHJcbiAgICB9KSwgaGFuZGxlRWRnZVVwZGF0ZSAmJiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImdcIiwge1xyXG4gICAgICBvbk1vdXNlRG93bjogb25FZGdlVXBkYXRlclNvdXJjZU1vdXNlRG93bixcclxuICAgICAgb25Nb3VzZUVudGVyOiBvbkVkZ2VVcGRhdGVyTW91c2VFbnRlcixcclxuICAgICAgb25Nb3VzZU91dDogb25FZGdlVXBkYXRlck1vdXNlT3V0XHJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFZGdlQW5jaG9yLCB7XHJcbiAgICAgIHBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcclxuICAgICAgY2VudGVyWDogc291cmNlWCxcclxuICAgICAgY2VudGVyWTogc291cmNlWSxcclxuICAgICAgcmFkaXVzOiBlZGdlVXBkYXRlclJhZGl1c1xyXG4gICAgfSkpLCBoYW5kbGVFZGdlVXBkYXRlICYmIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XHJcbiAgICAgIG9uTW91c2VEb3duOiBvbkVkZ2VVcGRhdGVyVGFyZ2V0TW91c2VEb3duLFxyXG4gICAgICBvbk1vdXNlRW50ZXI6IG9uRWRnZVVwZGF0ZXJNb3VzZUVudGVyLFxyXG4gICAgICBvbk1vdXNlT3V0OiBvbkVkZ2VVcGRhdGVyTW91c2VPdXRcclxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVkZ2VBbmNob3IsIHtcclxuICAgICAgcG9zaXRpb246IHRhcmdldFBvc2l0aW9uLFxyXG4gICAgICBjZW50ZXJYOiB0YXJnZXRYLFxyXG4gICAgICBjZW50ZXJZOiB0YXJnZXRZLFxyXG4gICAgICByYWRpdXM6IGVkZ2VVcGRhdGVyUmFkaXVzXHJcbiAgICB9KSkpO1xyXG4gIH07XHJcblxyXG4gIEVkZ2VXcmFwcGVyLmRpc3BsYXlOYW1lID0gJ0VkZ2VXcmFwcGVyJztcclxuICByZXR1cm4gLyojX19QVVJFX18qL21lbW8oRWRnZVdyYXBwZXIpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIG93bktleXMkNyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNyh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQ3KE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkNyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XHJcbmZ1bmN0aW9uIGNyZWF0ZUVkZ2VUeXBlcyhlZGdlVHlwZXMpIHtcclxuICB2YXIgc3RhbmRhcmRUeXBlcyA9IHtcclxuICAgIFwiZGVmYXVsdFwiOiB3cmFwRWRnZShlZGdlVHlwZXNbXCJkZWZhdWx0XCJdIHx8IEJlemllckVkZ2UpLFxyXG4gICAgc3RyYWlnaHQ6IHdyYXBFZGdlKGVkZ2VUeXBlcy5iZXppZXIgfHwgU3RyYWlnaHRFZGdlKSxcclxuICAgIHN0ZXA6IHdyYXBFZGdlKGVkZ2VUeXBlcy5zdGVwIHx8IFN0ZXBFZGdlKSxcclxuICAgIHNtb290aHN0ZXA6IHdyYXBFZGdlKGVkZ2VUeXBlcy5zdGVwIHx8IFNtb290aFN0ZXBFZGdlKSxcclxuICAgIHNpbXBsZWJlemllcjogd3JhcEVkZ2UoZWRnZVR5cGVzLnNpbXBsZWJlemllciB8fCBTaW1wbGVCZXppZXJFZGdlKVxyXG4gIH07XHJcbiAgdmFyIHdyYXBwZWRUeXBlcyA9IHt9O1xyXG4gIHZhciBzcGVjaWFsVHlwZXMgPSBPYmplY3Qua2V5cyhlZGdlVHlwZXMpLmZpbHRlcihmdW5jdGlvbiAoaykge1xyXG4gICAgcmV0dXJuICFbJ2RlZmF1bHQnLCAnYmV6aWVyJ10uaW5jbHVkZXMoayk7XHJcbiAgfSkucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGtleSkge1xyXG4gICAgcmVzW2tleV0gPSB3cmFwRWRnZShlZGdlVHlwZXNba2V5XSB8fCBCZXppZXJFZGdlKTtcclxuICAgIHJldHVybiByZXM7XHJcbiAgfSwgd3JhcHBlZFR5cGVzKTtcclxuICByZXR1cm4gX29iamVjdFNwcmVhZCQ3KF9vYmplY3RTcHJlYWQkNyh7fSwgc3RhbmRhcmRUeXBlcyksIHNwZWNpYWxUeXBlcyk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SGFuZGxlUG9zaXRpb24ocG9zaXRpb24sIG5vZGVSZWN0KSB7XHJcbiAgdmFyIGhhbmRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcclxuICB2YXIgeCA9ICgoaGFuZGxlID09PSBudWxsIHx8IGhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGFuZGxlLngpIHx8IDApICsgbm9kZVJlY3QueDtcclxuICB2YXIgeSA9ICgoaGFuZGxlID09PSBudWxsIHx8IGhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGFuZGxlLnkpIHx8IDApICsgbm9kZVJlY3QueTtcclxuICB2YXIgd2lkdGggPSAoaGFuZGxlID09PSBudWxsIHx8IGhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGFuZGxlLndpZHRoKSB8fCBub2RlUmVjdC53aWR0aDtcclxuICB2YXIgaGVpZ2h0ID0gKGhhbmRsZSA9PT0gbnVsbCB8fCBoYW5kbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhhbmRsZS5oZWlnaHQpIHx8IG5vZGVSZWN0LmhlaWdodDtcclxuXHJcbiAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgY2FzZSBQb3NpdGlvbi5Ub3A6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogeCArIHdpZHRoIC8gMixcclxuICAgICAgICB5OiB5XHJcbiAgICAgIH07XHJcblxyXG4gICAgY2FzZSBQb3NpdGlvbi5SaWdodDpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB4OiB4ICsgd2lkdGgsXHJcbiAgICAgICAgeTogeSArIGhlaWdodCAvIDJcclxuICAgICAgfTtcclxuXHJcbiAgICBjYXNlIFBvc2l0aW9uLkJvdHRvbTpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB4OiB4ICsgd2lkdGggLyAyLFxyXG4gICAgICAgIHk6IHkgKyBoZWlnaHRcclxuICAgICAgfTtcclxuXHJcbiAgICBjYXNlIFBvc2l0aW9uLkxlZnQ6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogeCxcclxuICAgICAgICB5OiB5ICsgaGVpZ2h0IC8gMlxyXG4gICAgICB9O1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBnZXRIYW5kbGUoYm91bmRzLCBoYW5kbGVJZCkge1xyXG4gIGlmICghYm91bmRzKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9IC8vIHRoZXJlIGlzIG5vIGhhbmRsZUlkIHdoZW4gdGhlcmUgYXJlIG5vIG11bHRpcGxlIGhhbmRsZXMvIGhhbmRsZXMgd2l0aCBpZHNcclxuICAvLyBzbyB3ZSBqdXN0IHBpY2sgdGhlIGZpcnN0IG9uZVxyXG5cclxuXHJcbiAgdmFyIGhhbmRsZSA9IG51bGw7XHJcblxyXG4gIGlmIChib3VuZHMubGVuZ3RoID09PSAxIHx8ICFoYW5kbGVJZCkge1xyXG4gICAgaGFuZGxlID0gYm91bmRzWzBdO1xyXG4gIH0gZWxzZSBpZiAoaGFuZGxlSWQpIHtcclxuICAgIGhhbmRsZSA9IGJvdW5kcy5maW5kKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgIHJldHVybiBkLmlkID09PSBoYW5kbGVJZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHR5cGVvZiBoYW5kbGUgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IGhhbmRsZTtcclxufVxyXG52YXIgZ2V0RWRnZVBvc2l0aW9ucyA9IGZ1bmN0aW9uIGdldEVkZ2VQb3NpdGlvbnMoc291cmNlTm9kZVJlY3QsIHNvdXJjZUhhbmRsZSwgc291cmNlUG9zaXRpb24sIHRhcmdldE5vZGVSZWN0LCB0YXJnZXRIYW5kbGUsIHRhcmdldFBvc2l0aW9uKSB7XHJcbiAgdmFyIHNvdXJjZUhhbmRsZVBvcyA9IGdldEhhbmRsZVBvc2l0aW9uKHNvdXJjZVBvc2l0aW9uLCBzb3VyY2VOb2RlUmVjdCwgc291cmNlSGFuZGxlKTtcclxuICB2YXIgdGFyZ2V0SGFuZGxlUG9zID0gZ2V0SGFuZGxlUG9zaXRpb24odGFyZ2V0UG9zaXRpb24sIHRhcmdldE5vZGVSZWN0LCB0YXJnZXRIYW5kbGUpO1xyXG4gIHJldHVybiB7XHJcbiAgICBzb3VyY2VYOiBzb3VyY2VIYW5kbGVQb3MueCxcclxuICAgIHNvdXJjZVk6IHNvdXJjZUhhbmRsZVBvcy55LFxyXG4gICAgdGFyZ2V0WDogdGFyZ2V0SGFuZGxlUG9zLngsXHJcbiAgICB0YXJnZXRZOiB0YXJnZXRIYW5kbGVQb3MueVxyXG4gIH07XHJcbn07XHJcbmZ1bmN0aW9uIGlzRWRnZVZpc2libGUoX3JlZikge1xyXG4gIHZhciBzb3VyY2VQb3MgPSBfcmVmLnNvdXJjZVBvcyxcclxuICAgICAgdGFyZ2V0UG9zID0gX3JlZi50YXJnZXRQb3MsXHJcbiAgICAgIHNvdXJjZVdpZHRoID0gX3JlZi5zb3VyY2VXaWR0aCxcclxuICAgICAgc291cmNlSGVpZ2h0ID0gX3JlZi5zb3VyY2VIZWlnaHQsXHJcbiAgICAgIHRhcmdldFdpZHRoID0gX3JlZi50YXJnZXRXaWR0aCxcclxuICAgICAgdGFyZ2V0SGVpZ2h0ID0gX3JlZi50YXJnZXRIZWlnaHQsXHJcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aCxcclxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXHJcbiAgICAgIHRyYW5zZm9ybSA9IF9yZWYudHJhbnNmb3JtO1xyXG4gIHZhciBlZGdlQm94ID0ge1xyXG4gICAgeDogTWF0aC5taW4oc291cmNlUG9zLngsIHRhcmdldFBvcy54KSxcclxuICAgIHk6IE1hdGgubWluKHNvdXJjZVBvcy55LCB0YXJnZXRQb3MueSksXHJcbiAgICB4MjogTWF0aC5tYXgoc291cmNlUG9zLnggKyBzb3VyY2VXaWR0aCwgdGFyZ2V0UG9zLnggKyB0YXJnZXRXaWR0aCksXHJcbiAgICB5MjogTWF0aC5tYXgoc291cmNlUG9zLnkgKyBzb3VyY2VIZWlnaHQsIHRhcmdldFBvcy55ICsgdGFyZ2V0SGVpZ2h0KVxyXG4gIH07XHJcblxyXG4gIGlmIChlZGdlQm94LnggPT09IGVkZ2VCb3gueDIpIHtcclxuICAgIGVkZ2VCb3gueDIgKz0gMTtcclxuICB9XHJcblxyXG4gIGlmIChlZGdlQm94LnkgPT09IGVkZ2VCb3gueTIpIHtcclxuICAgIGVkZ2VCb3gueTIgKz0gMTtcclxuICB9XHJcblxyXG4gIHZhciB2aWV3Qm94ID0gcmVjdFRvQm94KHtcclxuICAgIHg6ICgwIC0gdHJhbnNmb3JtWzBdKSAvIHRyYW5zZm9ybVsyXSxcclxuICAgIHk6ICgwIC0gdHJhbnNmb3JtWzFdKSAvIHRyYW5zZm9ybVsyXSxcclxuICAgIHdpZHRoOiB3aWR0aCAvIHRyYW5zZm9ybVsyXSxcclxuICAgIGhlaWdodDogaGVpZ2h0IC8gdHJhbnNmb3JtWzJdXHJcbiAgfSk7XHJcbiAgdmFyIHhPdmVybGFwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmlld0JveC54MiwgZWRnZUJveC54MikgLSBNYXRoLm1heCh2aWV3Qm94LngsIGVkZ2VCb3gueCkpO1xyXG4gIHZhciB5T3ZlcmxhcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZpZXdCb3gueTIsIGVkZ2VCb3gueTIpIC0gTWF0aC5tYXgodmlld0JveC55LCBlZGdlQm94LnkpKTtcclxuICB2YXIgb3ZlcmxhcHBpbmdBcmVhID0gTWF0aC5jZWlsKHhPdmVybGFwICogeU92ZXJsYXApO1xyXG4gIHJldHVybiBvdmVybGFwcGluZ0FyZWEgPiAwO1xyXG59XHJcbmZ1bmN0aW9uIGdldE5vZGVEYXRhKG5vZGVJbnRlcm5hbHMsIG5vZGVJZCkge1xyXG4gIHZhciBfbm9kZSRwb3NpdGlvbkFic29sdXQsIF9ub2RlJHBvc2l0aW9uQWJzb2x1dDIsIF9ub2RlJHBvc2l0aW9uQWJzb2x1dDMsIF9ub2RlJHBvc2l0aW9uQWJzb2x1dDQ7XHJcblxyXG4gIHZhciBub2RlID0gbm9kZUludGVybmFscy5nZXQobm9kZUlkKTtcclxuICB2YXIgaGFuZGxlQm91bmRzID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLmhhbmRsZUJvdW5kcztcclxuICB2YXIgaXNJbnZhbGlkID0gIW5vZGUgfHwgIW5vZGUuaGFuZGxlQm91bmRzIHx8ICFub2RlLndpZHRoIHx8ICFub2RlLmhlaWdodCB8fCB0eXBlb2YgKChfbm9kZSRwb3NpdGlvbkFic29sdXQgPSBub2RlLnBvc2l0aW9uQWJzb2x1dGUpID09PSBudWxsIHx8IF9ub2RlJHBvc2l0aW9uQWJzb2x1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkcG9zaXRpb25BYnNvbHV0LngpID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgKChfbm9kZSRwb3NpdGlvbkFic29sdXQyID0gbm9kZS5wb3NpdGlvbkFic29sdXRlKSA9PT0gbnVsbCB8fCBfbm9kZSRwb3NpdGlvbkFic29sdXQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRwb3NpdGlvbkFic29sdXQyLnkpID09PSAndW5kZWZpbmVkJztcclxuICByZXR1cm4gW3tcclxuICAgIHg6IChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfbm9kZSRwb3NpdGlvbkFic29sdXQzID0gbm9kZS5wb3NpdGlvbkFic29sdXRlKSA9PT0gbnVsbCB8fCBfbm9kZSRwb3NpdGlvbkFic29sdXQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRwb3NpdGlvbkFic29sdXQzLngpIHx8IDAsXHJcbiAgICB5OiAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX25vZGUkcG9zaXRpb25BYnNvbHV0NCA9IG5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX25vZGUkcG9zaXRpb25BYnNvbHV0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkcG9zaXRpb25BYnNvbHV0NC55KSB8fCAwLFxyXG4gICAgd2lkdGg6IChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUud2lkdGgpIHx8IDAsXHJcbiAgICBoZWlnaHQ6IChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUuaGVpZ2h0KSB8fCAwXHJcbiAgfSwgaGFuZGxlQm91bmRzIHx8IG51bGwsICFpc0ludmFsaWRdO1xyXG59XHJcblxyXG52YXIgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogbnVsbDsgLy8gdGhlIGtleWNvZGUgY2FuIGJlIGEgc3RyaW5nICdhJyBvciBhbiBhcnJheSBvZiBzdHJpbmdzIFsnYScsICdhK2QnXVxyXG4vLyBhIHN0cmluZyBtZWFucyBhIHNpbmdsZSBrZXkgJ2EnIG9yIGEgY29tYmluYXRpb24gd2hlbiAnKycgaXMgdXNlZCAnYStkJ1xyXG4vLyBhbiBhcnJheSBtZWFucyBkaWZmZXJlbnQgcG9zc2liaWxpdGVzLiBFeHBsYWluZXI6IFsnYScsICdkK3MnXSBoZXJlIHRoZVxyXG4vLyB1c2VyIGNhbiB1c2UgdGhlIHNpbmdsZSBrZXkgJ2EnIG9yIHRoZSBjb21iaW5hdGlvbiAnZCcgKyAncydcclxuXHJcbnZhciB1c2VLZXlQcmVzcyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGtleUNvZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XHJcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHtcclxuICAgIHRhcmdldDogZG9jXHJcbiAgfTtcclxuXHJcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcclxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXHJcbiAgICAgIGtleVByZXNzZWQgPSBfdXNlU3RhdGUyWzBdLFxyXG4gICAgICBzZXRLZXlQcmVzc2VkID0gX3VzZVN0YXRlMlsxXTsgLy8gd2UgbmVlZCB0byByZW1lbWJlciB0aGUgcHJlc3NlZCBrZXlzIGluIG9yZGVyIHRvIHN1cHBvcnQgY29tYmluYXRpb25zXHJcblxyXG5cclxuICB2YXIgcHJlc3NlZEtleXMgPSB1c2VSZWYobmV3IFNldChbXSkpOyAvLyBrZXlDb2RlcyA9IGFycmF5IHdpdGggc2luZ2xlIGtleXMgW1snYSddXSBvciBrZXkgY29tYmluYXRpb25zIFtbJ2EnLCAncyddXVxyXG4gIC8vIGtleXNUb1dhdGNoID0gYXJyYXkgd2l0aCBhbGwga2V5cyBmbGF0dGVuZWQgWydhJywgJ2QnLCAnU2hpZnRMZWZ0J11cclxuICAvLyB1c2VkIHRvIGNoZWNrIGlmIHdlIHN0b3JlIGV2ZW50LmNvZGUgb3IgZXZlbnQua2V5LiBXaGVuIHRoZSBjb2RlIGlzIGluIHRoZSBsaXN0IG9mIGtleXNUb1dhdGNoXHJcbiAgLy8gd2UgdXNlIHRoZSBjb2RlIG90aGVyd2lzZSB0aGUga2V5LiBFeHBsYWluZXI6IFdoZW4geW91IHByZXNzIHRoZSBsZWZ0IFwiY29tbWFuZFwiIGtleSwgdGhlIGNvZGUgaXMgXCJNZXRhTGVmdFwiXHJcbiAgLy8gYW5kIHRoZSBrZXkgaXMgXCJNZXRhXCIuIFdlIHdhbnQgdXNlcnMgdG8gYmUgYWJsZSB0byBwYXNzIGtleXMgYW5kIGNvZGVzIHNvIHdlIGFzc3VtZSB0aGF0IHRoZSBrZXkgaXMgbWVhbnQgd2hlblxyXG4gIC8vIHdlIGNhbid0IGZpbmQgaXQgaW4gdGhlIGxpc3Qgb2Yga2V5c1RvV2F0Y2guXHJcblxyXG4gIHZhciBfdXNlTWVtbyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGtleUNvZGUgIT09IG51bGwpIHtcclxuICAgICAgdmFyIGtleUNvZGVBcnIgPSBBcnJheS5pc0FycmF5KGtleUNvZGUpID8ga2V5Q29kZSA6IFtrZXlDb2RlXTtcclxuICAgICAgdmFyIGtleXMgPSBrZXlDb2RlQXJyLmZpbHRlcihmdW5jdGlvbiAoa2MpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIGtjID09PSAnc3RyaW5nJztcclxuICAgICAgfSkubWFwKGZ1bmN0aW9uIChrYykge1xyXG4gICAgICAgIHJldHVybiBrYy5zcGxpdCgnKycpO1xyXG4gICAgICB9KTtcclxuICAgICAgdmFyIGtleXNGbGF0ID0ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgaXRlbSkge1xyXG4gICAgICAgIHJldHVybiByZXMuY29uY2F0LmFwcGx5KHJlcywgX3RvQ29uc3VtYWJsZUFycmF5KGl0ZW0pKTtcclxuICAgICAgfSwgW10pO1xyXG4gICAgICByZXR1cm4gW2tleXMsIGtleXNGbGF0XTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW1tdLCBbXV07XHJcbiAgfSwgW2tleUNvZGVdKSxcclxuICAgICAgX3VzZU1lbW8yID0gX3NsaWNlZFRvQXJyYXkoX3VzZU1lbW8sIDIpLFxyXG4gICAgICBrZXlDb2RlcyA9IF91c2VNZW1vMlswXSxcclxuICAgICAga2V5c1RvV2F0Y2ggPSBfdXNlTWVtbzJbMV07XHJcblxyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoa2V5Q29kZSAhPT0gbnVsbCkge1xyXG4gICAgICB2YXIgX29wdGlvbnMkdGFyZ2V0LCBfb3B0aW9ucyR0YXJnZXQyO1xyXG5cclxuICAgICAgdmFyIGRvd25IYW5kbGVyID0gZnVuY3Rpb24gZG93bkhhbmRsZXIoZXZlbnQpIHtcclxuICAgICAgICBpZiAoaXNJbnB1dERPTU5vZGUoZXZlbnQpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIga2V5T3JDb2RlID0gdXNlS2V5T3JDb2RlKGV2ZW50LmNvZGUsIGtleXNUb1dhdGNoKTtcclxuICAgICAgICBwcmVzc2VkS2V5cy5jdXJyZW50LmFkZChldmVudFtrZXlPckNvZGVdKTtcclxuXHJcbiAgICAgICAgaWYgKGlzTWF0Y2hpbmdLZXkoa2V5Q29kZXMsIHByZXNzZWRLZXlzLmN1cnJlbnQsIGZhbHNlKSkge1xyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIHNldEtleVByZXNzZWQodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIHVwSGFuZGxlciA9IGZ1bmN0aW9uIHVwSGFuZGxlcihldmVudCkge1xyXG4gICAgICAgIGlmIChpc0lucHV0RE9NTm9kZShldmVudCkpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBrZXlPckNvZGUgPSB1c2VLZXlPckNvZGUoZXZlbnQuY29kZSwga2V5c1RvV2F0Y2gpO1xyXG5cclxuICAgICAgICBpZiAoaXNNYXRjaGluZ0tleShrZXlDb2RlcywgcHJlc3NlZEtleXMuY3VycmVudCwgdHJ1ZSkpIHtcclxuICAgICAgICAgIHNldEtleVByZXNzZWQoZmFsc2UpO1xyXG4gICAgICAgICAgcHJlc3NlZEtleXMuY3VycmVudC5jbGVhcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwcmVzc2VkS2V5cy5jdXJyZW50W1wiZGVsZXRlXCJdKGV2ZW50W2tleU9yQ29kZV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciByZXNldEhhbmRsZXIgPSBmdW5jdGlvbiByZXNldEhhbmRsZXIoKSB7XHJcbiAgICAgICAgcHJlc3NlZEtleXMuY3VycmVudC5jbGVhcigpO1xyXG4gICAgICAgIHNldEtleVByZXNzZWQoZmFsc2UpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQpID09PSBudWxsIHx8IF9vcHRpb25zJHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMkdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkb3duSGFuZGxlcik7XHJcbiAgICAgIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9vcHRpb25zJHRhcmdldDIgPSBvcHRpb25zLnRhcmdldCkgPT09IG51bGwgfHwgX29wdGlvbnMkdGFyZ2V0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMkdGFyZ2V0Mi5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHVwSGFuZGxlcik7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgcmVzZXRIYW5kbGVyKTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX29wdGlvbnMkdGFyZ2V0MywgX29wdGlvbnMkdGFyZ2V0NDtcclxuXHJcbiAgICAgICAgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkdGFyZ2V0MyA9IG9wdGlvbnMudGFyZ2V0KSA9PT0gbnVsbCB8fCBfb3B0aW9ucyR0YXJnZXQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9ucyR0YXJnZXQzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkb3duSGFuZGxlcik7XHJcbiAgICAgICAgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkdGFyZ2V0NCA9IG9wdGlvbnMudGFyZ2V0KSA9PT0gbnVsbCB8fCBfb3B0aW9ucyR0YXJnZXQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9ucyR0YXJnZXQ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBIYW5kbGVyKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHJlc2V0SGFuZGxlcik7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSwgW2tleUNvZGUsIHNldEtleVByZXNzZWRdKTtcclxuICByZXR1cm4ga2V5UHJlc3NlZDtcclxufSk7IC8vIHV0aWxzXHJcblxyXG5mdW5jdGlvbiBpc01hdGNoaW5nS2V5KGtleUNvZGVzLCBwcmVzc2VkS2V5cywgaXNVcCkge1xyXG4gIHJldHVybiBrZXlDb2RlcyAvLyB3ZSBvbmx5IHdhbnQgdG8gY29tcGFyZSBzYW1lIHNpemVzIG9mIGtleUNvZGUgZGVmaW5pdGlvbnNcclxuICAvLyBhbmQgcHJlc3NlZCBrZXlzLiBXaGVuIHRoZSB1c2VyIHNwZWNpZmllZCAnTWV0YScgYXMgYSBrZXkgc29tZXdoZXJlXHJcbiAgLy8gdGhpcyB3b3VsZCBhbHNvIGJlIHRydXRoeSB3aXRob3V0IHRoaXMgZmlsdGVyIHdoZW4gdXNlciBwcmVzc2VzICdNZXRhJyArICdyJ1xyXG4gIC5maWx0ZXIoZnVuY3Rpb24gKGtleXMpIHtcclxuICAgIHJldHVybiBpc1VwIHx8IGtleXMubGVuZ3RoID09PSBwcmVzc2VkS2V5cy5zaXplO1xyXG4gIH0pIC8vIHNpbmNlIHdlIHdhbnQgdG8gc3VwcG9ydCBtdWx0aXBsZSBwb3NzaWJpbGl0aWVzIG9ubHkgb25lIG9mIHRoZVxyXG4gIC8vIGNvbWJpbmF0aW9ucyBuZWVkIHRvIGJlIHBhcnQgb2YgdGhlIHByZXNzZWQga2V5c1xyXG4gIC5zb21lKGZ1bmN0aW9uIChrZXlzKSB7XHJcbiAgICByZXR1cm4ga2V5cy5ldmVyeShmdW5jdGlvbiAoaykge1xyXG4gICAgICByZXR1cm4gcHJlc3NlZEtleXMuaGFzKGspO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzZUtleU9yQ29kZShldmVudENvZGUsIGtleXNUb1dhdGNoKSB7XHJcbiAgcmV0dXJuIGtleXNUb1dhdGNoLmluY2x1ZGVzKGV2ZW50Q29kZSkgPyAnY29kZScgOiAna2V5JztcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbnB1dERPTU5vZGUoZXZlbnQpIHtcclxuICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gIHJldHVybiBbJ0lOUFVUJywgJ1NFTEVDVCcsICdURVhUQVJFQSddLmluY2x1ZGVzKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhcmdldC5ub2RlTmFtZSkgfHwgKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKTtcclxufVxyXG5cclxudmFyIHNlbGVjdG9yJDkgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIG9uTm9kZXNDaGFuZ2U6IHMub25Ob2Rlc0NoYW5nZSxcclxuICAgIG9uRWRnZXNDaGFuZ2U6IHMub25FZGdlc0NoYW5nZVxyXG4gIH07XHJcbn07XHJcblxyXG52YXIgdXNlR2xvYmFsS2V5SGFuZGxlciA9IChmdW5jdGlvbiAoX3JlZikge1xyXG4gIHZhciBkZWxldGVLZXlDb2RlID0gX3JlZi5kZWxldGVLZXlDb2RlLFxyXG4gICAgICBtdWx0aVNlbGVjdGlvbktleUNvZGUgPSBfcmVmLm11bHRpU2VsZWN0aW9uS2V5Q29kZTtcclxuICB2YXIgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xyXG5cclxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkOSwgc2hhbGxvdyksXHJcbiAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfdXNlU3RvcmUub25Ob2Rlc0NoYW5nZSxcclxuICAgICAgb25FZGdlc0NoYW5nZSA9IF91c2VTdG9yZS5vbkVkZ2VzQ2hhbmdlO1xyXG5cclxuICB2YXIgZGVsZXRlS2V5UHJlc3NlZCA9IHVzZUtleVByZXNzKGRlbGV0ZUtleUNvZGUpO1xyXG4gIHZhciBtdWx0aVNlbGVjdGlvbktleVByZXNzZWQgPSB1c2VLZXlQcmVzcyhtdWx0aVNlbGVjdGlvbktleUNvZGUpO1xyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKSxcclxuICAgICAgICBub2RlSW50ZXJuYWxzID0gX3N0b3JlJGdldFN0YXRlLm5vZGVJbnRlcm5hbHMsXHJcbiAgICAgICAgZWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUuZWRnZXMsXHJcbiAgICAgICAgaGFzRGVmYXVsdE5vZGVzID0gX3N0b3JlJGdldFN0YXRlLmhhc0RlZmF1bHROb2RlcyxcclxuICAgICAgICBoYXNEZWZhdWx0RWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUuaGFzRGVmYXVsdEVkZ2VzLFxyXG4gICAgICAgIG9uTm9kZXNEZWxldGUgPSBfc3RvcmUkZ2V0U3RhdGUub25Ob2Rlc0RlbGV0ZSxcclxuICAgICAgICBvbkVkZ2VzRGVsZXRlID0gX3N0b3JlJGdldFN0YXRlLm9uRWRnZXNEZWxldGU7XHJcblxyXG4gICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcclxuICAgIHZhciBub2Rlc1RvUmVtb3ZlID0gbm9kZXMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIG5vZGUpIHtcclxuICAgICAgaWYgKCFub2RlLnNlbGVjdGVkICYmIG5vZGUucGFyZW50Tm9kZSAmJiByZXMuZmluZChmdW5jdGlvbiAobikge1xyXG4gICAgICAgIHJldHVybiBuLmlkID09PSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgIH0pKSB7XHJcbiAgICAgICAgcmVzLnB1c2gobm9kZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5zZWxlY3RlZCkge1xyXG4gICAgICAgIHJlcy5wdXNoKG5vZGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzO1xyXG4gICAgfSwgW10pO1xyXG4gICAgdmFyIHNlbGVjdGVkRWRnZXMgPSBlZGdlcy5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgcmV0dXJuIGUuc2VsZWN0ZWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZGVsZXRlS2V5UHJlc3NlZCAmJiAobm9kZXNUb1JlbW92ZSB8fCBzZWxlY3RlZEVkZ2VzKSkge1xyXG4gICAgICB2YXIgY29ubmVjdGVkRWRnZXMgPSBnZXRDb25uZWN0ZWRFZGdlcyhub2Rlc1RvUmVtb3ZlLCBlZGdlcyk7XHJcbiAgICAgIHZhciBlZGdlc1RvUmVtb3ZlID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzZWxlY3RlZEVkZ2VzKSwgX3RvQ29uc3VtYWJsZUFycmF5KGNvbm5lY3RlZEVkZ2VzKSk7XHJcbiAgICAgIHZhciBlZGdlSWRzVG9SZW1vdmUgPSBlZGdlc1RvUmVtb3ZlLnJlZHVjZShmdW5jdGlvbiAocmVzLCBlZGdlKSB7XHJcbiAgICAgICAgaWYgKCFyZXMuaW5jbHVkZXMoZWRnZS5pZCkpIHtcclxuICAgICAgICAgIHJlcy5wdXNoKGVkZ2UuaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfSwgW10pO1xyXG5cclxuICAgICAgaWYgKGhhc0RlZmF1bHRFZGdlcyB8fCBoYXNEZWZhdWx0Tm9kZXMpIHtcclxuICAgICAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XHJcbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGVkZ2VzOiBlZGdlcy5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gIWVkZ2VJZHNUb1JlbW92ZS5pbmNsdWRlcyhlLmlkKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xyXG4gICAgICAgICAgbm9kZXNUb1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIG5vZGVJbnRlcm5hbHNbXCJkZWxldGVcIl0obm9kZS5pZCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHN0b3JlLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbm9kZUludGVybmFsczogbmV3IE1hcChub2RlSW50ZXJuYWxzKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZWRnZUlkc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBvbkVkZ2VzRGVsZXRlID09PSBudWxsIHx8IG9uRWRnZXNEZWxldGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRWRnZXNEZWxldGUoZWRnZXNUb1JlbW92ZSk7XHJcblxyXG4gICAgICAgIGlmIChvbkVkZ2VzQ2hhbmdlKSB7XHJcbiAgICAgICAgICB2YXIgZWRnZUNoYW5nZXMgPSBlZGdlSWRzVG9SZW1vdmUubWFwKGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgICB0eXBlOiAncmVtb3ZlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBvbkVkZ2VzQ2hhbmdlKGVkZ2VDaGFuZ2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChub2Rlc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBvbk5vZGVzRGVsZXRlID09PSBudWxsIHx8IG9uTm9kZXNEZWxldGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTm9kZXNEZWxldGUobm9kZXNUb1JlbW92ZSk7XHJcblxyXG4gICAgICAgIGlmIChvbk5vZGVzQ2hhbmdlKSB7XHJcbiAgICAgICAgICB2YXIgbm9kZUNoYW5nZXMgPSBub2Rlc1RvUmVtb3ZlLm1hcChmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIGlkOiBuLmlkLFxyXG4gICAgICAgICAgICAgIHR5cGU6ICdyZW1vdmUnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIG9uTm9kZXNDaGFuZ2Uobm9kZUNoYW5nZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc3RvcmUuc2V0U3RhdGUoe1xyXG4gICAgICAgIG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbZGVsZXRlS2V5UHJlc3NlZCwgb25Ob2Rlc0NoYW5nZSwgb25FZGdlc0NoYW5nZV0pO1xyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICBzdG9yZS5zZXRTdGF0ZSh7XHJcbiAgICAgIG11bHRpU2VsZWN0aW9uQWN0aXZlOiBtdWx0aVNlbGVjdGlvbktleVByZXNzZWRcclxuICAgIH0pO1xyXG4gIH0sIFttdWx0aVNlbGVjdGlvbktleVByZXNzZWRdKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiB1c2VSZXNpemVIYW5kbGVyKHJlbmRlcmVyTm9kZSkge1xyXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XHJcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciByZXNpemVPYnNlcnZlcjtcclxuXHJcbiAgICB2YXIgdXBkYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uIHVwZGF0ZURpbWVuc2lvbnMoKSB7XHJcbiAgICAgIGlmICghcmVuZGVyZXJOb2RlLmN1cnJlbnQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzaXplID0gZ2V0RGltZW5zaW9ucyhyZW5kZXJlck5vZGUuY3VycmVudCk7XHJcblxyXG4gICAgICBpZiAoc2l6ZS5oZWlnaHQgPT09IDAgfHwgc2l6ZS53aWR0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIFJlYWN0IEZsb3cgcGFyZW50IGNvbnRhaW5lciBuZWVkcyBhIHdpZHRoIGFuZCBhIGhlaWdodCB0byByZW5kZXIgdGhlIGdyYXBoLicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdG9yZS5zZXRTdGF0ZSh7XHJcbiAgICAgICAgd2lkdGg6IHNpemUud2lkdGggfHwgNTAwLFxyXG4gICAgICAgIGhlaWdodDogc2l6ZS5oZWlnaHQgfHwgNTAwXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVEaW1lbnNpb25zKCk7XHJcbiAgICB3aW5kb3cub25yZXNpemUgPSB1cGRhdGVEaW1lbnNpb25zO1xyXG5cclxuICAgIGlmIChyZW5kZXJlck5vZGUuY3VycmVudCkge1xyXG4gICAgICByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZURpbWVuc2lvbnMoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUocmVuZGVyZXJOb2RlLmN1cnJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHdpbmRvdy5vbnJlc2l6ZSA9IG51bGw7XHJcblxyXG4gICAgICBpZiAocmVzaXplT2JzZXJ2ZXIgJiYgcmVuZGVyZXJOb2RlLmN1cnJlbnQpIHtcclxuICAgICAgICByZXNpemVPYnNlcnZlci51bm9ic2VydmUocmVuZGVyZXJOb2RlLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxufVxyXG5cclxudmFyIHZpZXdDaGFuZ2VkID0gZnVuY3Rpb24gdmlld0NoYW5nZWQocHJldlZpZXdwb3J0LCBldmVudFZpZXdwb3J0KSB7XHJcbiAgcmV0dXJuIHByZXZWaWV3cG9ydC54ICE9PSBldmVudFZpZXdwb3J0LnggfHwgcHJldlZpZXdwb3J0LnkgIT09IGV2ZW50Vmlld3BvcnQueSB8fCBwcmV2Vmlld3BvcnQuem9vbSAhPT0gZXZlbnRWaWV3cG9ydC5rO1xyXG59O1xyXG5cclxudmFyIGV2ZW50VG9GbG93VHJhbnNmb3JtID0gZnVuY3Rpb24gZXZlbnRUb0Zsb3dUcmFuc2Zvcm0oZXZlbnRWaWV3cG9ydCkge1xyXG4gIHJldHVybiB7XHJcbiAgICB4OiBldmVudFZpZXdwb3J0LngsXHJcbiAgICB5OiBldmVudFZpZXdwb3J0LnksXHJcbiAgICB6b29tOiBldmVudFZpZXdwb3J0LmtcclxuICB9O1xyXG59O1xyXG5cclxudmFyIGlzV3JhcHBlZFdpdGhDbGFzcyA9IGZ1bmN0aW9uIGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgY2xhc3NOYW1lKSB7XHJcbiAgcmV0dXJuIGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLlwiLmNvbmNhdChjbGFzc05hbWUpKTtcclxufTtcclxuXHJcbnZhciBzZWxlY3RvciQ4ID0gZnVuY3Rpb24gc2VsZWN0b3Iocykge1xyXG4gIHJldHVybiB7XHJcbiAgICBkM1pvb206IHMuZDNab29tLFxyXG4gICAgZDNTZWxlY3Rpb246IHMuZDNTZWxlY3Rpb24sXHJcbiAgICBkM1pvb21IYW5kbGVyOiBzLmQzWm9vbUhhbmRsZXJcclxuICB9O1xyXG59O1xyXG5cclxudmFyIFpvb21QYW5lID0gZnVuY3Rpb24gWm9vbVBhbmUoX3JlZikge1xyXG4gIHZhciBvbk1vdmUgPSBfcmVmLm9uTW92ZSxcclxuICAgICAgb25Nb3ZlU3RhcnQgPSBfcmVmLm9uTW92ZVN0YXJ0LFxyXG4gICAgICBvbk1vdmVFbmQgPSBfcmVmLm9uTW92ZUVuZCxcclxuICAgICAgX3JlZiR6b29tT25TY3JvbGwgPSBfcmVmLnpvb21PblNjcm9sbCxcclxuICAgICAgem9vbU9uU2Nyb2xsID0gX3JlZiR6b29tT25TY3JvbGwgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJHpvb21PblNjcm9sbCxcclxuICAgICAgX3JlZiR6b29tT25QaW5jaCA9IF9yZWYuem9vbU9uUGluY2gsXHJcbiAgICAgIHpvb21PblBpbmNoID0gX3JlZiR6b29tT25QaW5jaCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkem9vbU9uUGluY2gsXHJcbiAgICAgIF9yZWYkcGFuT25TY3JvbGwgPSBfcmVmLnBhbk9uU2Nyb2xsLFxyXG4gICAgICBwYW5PblNjcm9sbCA9IF9yZWYkcGFuT25TY3JvbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRwYW5PblNjcm9sbCxcclxuICAgICAgX3JlZiRwYW5PblNjcm9sbFNwZWVkID0gX3JlZi5wYW5PblNjcm9sbFNwZWVkLFxyXG4gICAgICBwYW5PblNjcm9sbFNwZWVkID0gX3JlZiRwYW5PblNjcm9sbFNwZWVkID09PSB2b2lkIDAgPyAwLjUgOiBfcmVmJHBhbk9uU2Nyb2xsU3BlZWQsXHJcbiAgICAgIF9yZWYkcGFuT25TY3JvbGxNb2RlID0gX3JlZi5wYW5PblNjcm9sbE1vZGUsXHJcbiAgICAgIHBhbk9uU2Nyb2xsTW9kZSA9IF9yZWYkcGFuT25TY3JvbGxNb2RlID09PSB2b2lkIDAgPyBQYW5PblNjcm9sbE1vZGUuRnJlZSA6IF9yZWYkcGFuT25TY3JvbGxNb2RlLFxyXG4gICAgICBfcmVmJHpvb21PbkRvdWJsZUNsaWMgPSBfcmVmLnpvb21PbkRvdWJsZUNsaWNrLFxyXG4gICAgICB6b29tT25Eb3VibGVDbGljayA9IF9yZWYkem9vbU9uRG91YmxlQ2xpYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkem9vbU9uRG91YmxlQ2xpYyxcclxuICAgICAgc2VsZWN0aW9uS2V5UHJlc3NlZCA9IF9yZWYuc2VsZWN0aW9uS2V5UHJlc3NlZCxcclxuICAgICAgZWxlbWVudHNTZWxlY3RhYmxlID0gX3JlZi5lbGVtZW50c1NlbGVjdGFibGUsXHJcbiAgICAgIF9yZWYkcGFuT25EcmFnID0gX3JlZi5wYW5PbkRyYWcsXHJcbiAgICAgIHBhbk9uRHJhZyA9IF9yZWYkcGFuT25EcmFnID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRwYW5PbkRyYWcsXHJcbiAgICAgIF9yZWYkZGVmYXVsdFBvc2l0aW9uID0gX3JlZi5kZWZhdWx0UG9zaXRpb24sXHJcbiAgICAgIGRlZmF1bHRQb3NpdGlvbiA9IF9yZWYkZGVmYXVsdFBvc2l0aW9uID09PSB2b2lkIDAgPyBbMCwgMF0gOiBfcmVmJGRlZmF1bHRQb3NpdGlvbixcclxuICAgICAgX3JlZiRkZWZhdWx0Wm9vbSA9IF9yZWYuZGVmYXVsdFpvb20sXHJcbiAgICAgIGRlZmF1bHRab29tID0gX3JlZiRkZWZhdWx0Wm9vbSA9PT0gdm9pZCAwID8gMSA6IF9yZWYkZGVmYXVsdFpvb20sXHJcbiAgICAgIHpvb21BY3RpdmF0aW9uS2V5Q29kZSA9IF9yZWYuem9vbUFjdGl2YXRpb25LZXlDb2RlLFxyXG4gICAgICBfcmVmJHByZXZlbnRTY3JvbGxpbmcgPSBfcmVmLnByZXZlbnRTY3JvbGxpbmcsXHJcbiAgICAgIHByZXZlbnRTY3JvbGxpbmcgPSBfcmVmJHByZXZlbnRTY3JvbGxpbmcgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJHByZXZlbnRTY3JvbGxpbmcsXHJcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcclxuICAgICAgbm9XaGVlbENsYXNzTmFtZSA9IF9yZWYubm9XaGVlbENsYXNzTmFtZSxcclxuICAgICAgbm9QYW5DbGFzc05hbWUgPSBfcmVmLm5vUGFuQ2xhc3NOYW1lO1xyXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XHJcbiAgdmFyIHpvb21QYW5lID0gdXNlUmVmKG51bGwpO1xyXG4gIHZhciBwcmV2VHJhbnNmb3JtID0gdXNlUmVmKHtcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gICAgem9vbTogMFxyXG4gIH0pO1xyXG5cclxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkOCwgc2hhbGxvdyksXHJcbiAgICAgIGQzWm9vbSA9IF91c2VTdG9yZS5kM1pvb20sXHJcbiAgICAgIGQzU2VsZWN0aW9uID0gX3VzZVN0b3JlLmQzU2VsZWN0aW9uLFxyXG4gICAgICBkM1pvb21IYW5kbGVyID0gX3VzZVN0b3JlLmQzWm9vbUhhbmRsZXI7XHJcblxyXG4gIHZhciB6b29tQWN0aXZhdGlvbktleVByZXNzZWQgPSB1c2VLZXlQcmVzcyh6b29tQWN0aXZhdGlvbktleUNvZGUpO1xyXG4gIHVzZVJlc2l6ZUhhbmRsZXIoem9vbVBhbmUpO1xyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoem9vbVBhbmUuY3VycmVudCkge1xyXG4gICAgICB2YXIgX3N0b3JlJGdldFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKSxcclxuICAgICAgICAgIG1pblpvb20gPSBfc3RvcmUkZ2V0U3RhdGUubWluWm9vbSxcclxuICAgICAgICAgIG1heFpvb20gPSBfc3RvcmUkZ2V0U3RhdGUubWF4Wm9vbSxcclxuICAgICAgICAgIHRyYW5zbGF0ZUV4dGVudCA9IF9zdG9yZSRnZXRTdGF0ZS50cmFuc2xhdGVFeHRlbnQ7XHJcblxyXG4gICAgICB2YXIgZDNab29tSW5zdGFuY2UgPSB6b29tKCkuc2NhbGVFeHRlbnQoW21pblpvb20sIG1heFpvb21dKS50cmFuc2xhdGVFeHRlbnQodHJhbnNsYXRlRXh0ZW50KTtcclxuICAgICAgdmFyIHNlbGVjdGlvbiA9IHNlbGVjdCh6b29tUGFuZS5jdXJyZW50KS5jYWxsKGQzWm9vbUluc3RhbmNlKTtcclxuICAgICAgdmFyIGNsYW1wZWRYID0gY2xhbXAoZGVmYXVsdFBvc2l0aW9uWzBdLCB0cmFuc2xhdGVFeHRlbnRbMF1bMF0sIHRyYW5zbGF0ZUV4dGVudFsxXVswXSk7XHJcbiAgICAgIHZhciBjbGFtcGVkWSA9IGNsYW1wKGRlZmF1bHRQb3NpdGlvblsxXSwgdHJhbnNsYXRlRXh0ZW50WzBdWzFdLCB0cmFuc2xhdGVFeHRlbnRbMV1bMV0pO1xyXG4gICAgICB2YXIgY2xhbXBlZFpvb20gPSBjbGFtcChkZWZhdWx0Wm9vbSwgbWluWm9vbSwgbWF4Wm9vbSk7XHJcbiAgICAgIHZhciB1cGRhdGVkVHJhbnNmb3JtID0gem9vbUlkZW50aXR5LnRyYW5zbGF0ZShjbGFtcGVkWCwgY2xhbXBlZFkpLnNjYWxlKGNsYW1wZWRab29tKTtcclxuICAgICAgZDNab29tSW5zdGFuY2UudHJhbnNmb3JtKHNlbGVjdGlvbiwgdXBkYXRlZFRyYW5zZm9ybSk7XHJcbiAgICAgIHN0b3JlLnNldFN0YXRlKHtcclxuICAgICAgICBkM1pvb206IGQzWm9vbUluc3RhbmNlLFxyXG4gICAgICAgIGQzU2VsZWN0aW9uOiBzZWxlY3Rpb24sXHJcbiAgICAgICAgZDNab29tSGFuZGxlcjogc2VsZWN0aW9uLm9uKCd3aGVlbC56b29tJyksXHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byBwYXNzIHRyYW5zZm9ybSBiZWNhdXNlIHpvb20gaGFuZGxlciBpcyBub3QgcmVnaXN0ZXJlZCB3aGVuIHdlIHNldCB0aGUgaW5pdGlhbCB0cmFuc2Zvcm1cclxuICAgICAgICB0cmFuc2Zvcm06IFtjbGFtcGVkWCwgY2xhbXBlZFksIGNsYW1wZWRab29tXVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChkM1NlbGVjdGlvbiAmJiBkM1pvb20pIHtcclxuICAgICAgaWYgKHBhbk9uU2Nyb2xsICYmICF6b29tQWN0aXZhdGlvbktleVByZXNzZWQpIHtcclxuICAgICAgICBkM1NlbGVjdGlvbi5vbignd2hlZWwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIGlmIChpc1dyYXBwZWRXaXRoQ2xhc3MoZXZlbnQsIG5vV2hlZWxDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICB2YXIgY3VycmVudFpvb20gPSBkM1NlbGVjdGlvbi5wcm9wZXJ0eSgnX196b29tJykuayB8fCAxO1xyXG5cclxuICAgICAgICAgIGlmIChldmVudC5jdHJsS2V5ICYmIHpvb21PblBpbmNoKSB7XHJcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50ZXIoZXZlbnQpOyAvLyB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kMy9kMy16b29tL2Jsb2IvbWFzdGVyL3NyYy96b29tLmpzXHJcblxyXG4gICAgICAgICAgICB2YXIgcGluY2hEZWx0YSA9IC1ldmVudC5kZWx0YVkgKiAoZXZlbnQuZGVsdGFNb2RlID09PSAxID8gMC4wNSA6IGV2ZW50LmRlbHRhTW9kZSA/IDEgOiAwLjAwMikgKiAxMDtcclxuXHJcbiAgICAgICAgICAgIHZhciBfem9vbSA9IGN1cnJlbnRab29tICogTWF0aC5wb3coMiwgcGluY2hEZWx0YSk7XHJcblxyXG4gICAgICAgICAgICBkM1pvb20uc2NhbGVUbyhkM1NlbGVjdGlvbiwgX3pvb20sIHBvaW50KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfSAvLyBpbmNyZWFzZSBzY3JvbGwgc3BlZWQgaW4gZmlyZWZveFxyXG4gICAgICAgICAgLy8gZmlyZWZveDogZGVsdGFNb2RlID09PSAxOyBjaHJvbWU6IGRlbHRhTW9kZSA9PT0gMFxyXG5cclxuXHJcbiAgICAgICAgICB2YXIgZGVsdGFOb3JtYWxpemUgPSBldmVudC5kZWx0YU1vZGUgPT09IDEgPyAyMCA6IDE7XHJcbiAgICAgICAgICB2YXIgZGVsdGFYID0gcGFuT25TY3JvbGxNb2RlID09PSBQYW5PblNjcm9sbE1vZGUuVmVydGljYWwgPyAwIDogZXZlbnQuZGVsdGFYICogZGVsdGFOb3JtYWxpemU7XHJcbiAgICAgICAgICB2YXIgZGVsdGFZID0gcGFuT25TY3JvbGxNb2RlID09PSBQYW5PblNjcm9sbE1vZGUuSG9yaXpvbnRhbCA/IDAgOiBldmVudC5kZWx0YVkgKiBkZWx0YU5vcm1hbGl6ZTtcclxuICAgICAgICAgIGQzWm9vbS50cmFuc2xhdGVCeShkM1NlbGVjdGlvbiwgLShkZWx0YVggLyBjdXJyZW50Wm9vbSkgKiBwYW5PblNjcm9sbFNwZWVkLCAtKGRlbHRhWSAvIGN1cnJlbnRab29tKSAqIHBhbk9uU2Nyb2xsU3BlZWQpO1xyXG4gICAgICAgIH0pLm9uKCd3aGVlbC56b29tJywgbnVsbCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGQzWm9vbUhhbmRsZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgZDNTZWxlY3Rpb24ub24oJ3doZWVsJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICBpZiAoIXByZXZlbnRTY3JvbGxpbmcgfHwgaXNXcmFwcGVkV2l0aENsYXNzKGV2ZW50LCBub1doZWVsQ2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pLm9uKCd3aGVlbC56b29tJywgZDNab29tSGFuZGxlcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbcGFuT25TY3JvbGwsIHBhbk9uU2Nyb2xsTW9kZSwgZDNTZWxlY3Rpb24sIGQzWm9vbSwgZDNab29tSGFuZGxlciwgem9vbUFjdGl2YXRpb25LZXlQcmVzc2VkLCB6b29tT25QaW5jaCwgcHJldmVudFNjcm9sbGluZywgbm9XaGVlbENsYXNzTmFtZV0pO1xyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoZDNab29tKSB7XHJcbiAgICAgIGlmIChzZWxlY3Rpb25LZXlQcmVzc2VkKSB7XHJcbiAgICAgICAgZDNab29tLm9uKCd6b29tJywgbnVsbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZDNab29tLm9uKCd6b29tJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW2V2ZW50LnRyYW5zZm9ybS54LCBldmVudC50cmFuc2Zvcm0ueSwgZXZlbnQudHJhbnNmb3JtLmtdXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAob25Nb3ZlKSB7XHJcbiAgICAgICAgICAgIHZhciBmbG93VHJhbnNmb3JtID0gZXZlbnRUb0Zsb3dUcmFuc2Zvcm0oZXZlbnQudHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgb25Nb3ZlKGV2ZW50LnNvdXJjZUV2ZW50LCBmbG93VHJhbnNmb3JtKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFtzZWxlY3Rpb25LZXlQcmVzc2VkLCBkM1pvb20sIG9uTW92ZV0pO1xyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoZDNab29tKSB7XHJcbiAgICAgIGlmIChvbk1vdmVTdGFydCkge1xyXG4gICAgICAgIGQzWm9vbS5vbignc3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIHZhciBmbG93VHJhbnNmb3JtID0gZXZlbnRUb0Zsb3dUcmFuc2Zvcm0oZXZlbnQudHJhbnNmb3JtKTtcclxuICAgICAgICAgIHByZXZUcmFuc2Zvcm0uY3VycmVudCA9IGZsb3dUcmFuc2Zvcm07XHJcbiAgICAgICAgICBvbk1vdmVTdGFydChldmVudC5zb3VyY2VFdmVudCwgZmxvd1RyYW5zZm9ybSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZDNab29tLm9uKCdzdGFydCcsIG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW2QzWm9vbSwgb25Nb3ZlU3RhcnRdKTtcclxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGQzWm9vbSkge1xyXG4gICAgICBpZiAob25Nb3ZlRW5kKSB7XHJcbiAgICAgICAgZDNab29tLm9uKCdlbmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIGlmICh2aWV3Q2hhbmdlZChwcmV2VHJhbnNmb3JtLmN1cnJlbnQsIGV2ZW50LnRyYW5zZm9ybSkpIHtcclxuICAgICAgICAgICAgdmFyIGZsb3dUcmFuc2Zvcm0gPSBldmVudFRvRmxvd1RyYW5zZm9ybShldmVudC50cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICBwcmV2VHJhbnNmb3JtLmN1cnJlbnQgPSBmbG93VHJhbnNmb3JtO1xyXG4gICAgICAgICAgICBvbk1vdmVFbmQoZXZlbnQuc291cmNlRXZlbnQsIGZsb3dUcmFuc2Zvcm0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGQzWm9vbS5vbignZW5kJywgbnVsbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbZDNab29tLCBvbk1vdmVFbmRdKTtcclxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGQzWm9vbSkge1xyXG4gICAgICBkM1pvb20uZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciB6b29tU2Nyb2xsID0gem9vbUFjdGl2YXRpb25LZXlQcmVzc2VkIHx8IHpvb21PblNjcm9sbDtcclxuICAgICAgICB2YXIgcGluY2hab29tID0gem9vbU9uUGluY2ggJiYgZXZlbnQuY3RybEtleTsgLy8gaWYgYWxsIGludGVyYWN0aW9ucyBhcmUgZGlzYWJsZWQsIHdlIHByZXZlbnQgYWxsIHpvb20gZXZlbnRzXHJcblxyXG4gICAgICAgIGlmICghcGFuT25EcmFnICYmICF6b29tU2Nyb2xsICYmICFwYW5PblNjcm9sbCAmJiAhem9vbU9uRG91YmxlQ2xpY2sgJiYgIXpvb21PblBpbmNoKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSAvLyBkdXJpbmcgYSBzZWxlY3Rpb24gd2UgcHJldmVudCBhbGwgb3RoZXIgaW50ZXJhY3Rpb25zXHJcblxyXG5cclxuICAgICAgICBpZiAoc2VsZWN0aW9uS2V5UHJlc3NlZCkge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gLy8gaWYgem9vbSBvbiBkb3VibGUgY2xpY2sgaXMgZGlzYWJsZWQsIHdlIHByZXZlbnQgdGhlIGRvdWJsZSBjbGljayBldmVudFxyXG5cclxuXHJcbiAgICAgICAgaWYgKCF6b29tT25Eb3VibGVDbGljayAmJiBldmVudC50eXBlID09PSAnZGJsY2xpY2snKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSAvLyBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgaW5zaWRlIGFuIGVsZW1lbnQgd2l0aCB0aGUgbm93aGVlbCBjbGFzcywgd2UgcHJldmVudCB6b29taW5nXHJcblxyXG5cclxuICAgICAgICBpZiAoaXNXcmFwcGVkV2l0aENsYXNzKGV2ZW50LCBub1doZWVsQ2xhc3NOYW1lKSAmJiBldmVudC50eXBlID09PSAnd2hlZWwnKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSAvLyBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgaW5zaWRlIGFuIGVsZW1lbnQgd2l0aCB0aGUgbm9wYW4gY2xhc3MsIHdlIHByZXZlbnQgcGFubmluZ1xyXG5cclxuXHJcbiAgICAgICAgaWYgKGlzV3JhcHBlZFdpdGhDbGFzcyhldmVudCwgbm9QYW5DbGFzc05hbWUpICYmIGV2ZW50LnR5cGUgIT09ICd3aGVlbCcpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghem9vbU9uUGluY2ggJiYgZXZlbnQuY3RybEtleSAmJiBldmVudC50eXBlID09PSAnd2hlZWwnKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSAvLyB3aGVuIHRoZXJlIGlzIG5vIHNjcm9sbCBoYW5kbGluZyBlbmFibGVkLCB3ZSBwcmV2ZW50IGFsbCB3aGVlbCBldmVudHNcclxuXHJcblxyXG4gICAgICAgIGlmICghem9vbVNjcm9sbCAmJiAhcGFuT25TY3JvbGwgJiYgIXBpbmNoWm9vbSAmJiBldmVudC50eXBlID09PSAnd2hlZWwnKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSAvLyBpZiB0aGUgcGFuZSBpcyBub3QgbW92YWJsZSwgd2UgcHJldmVudCBkcmFnZ2luZyBpdCB3aXRoIG1vdXNlc3RhcnQgb3IgdG91Y2hzdGFydFxyXG5cclxuXHJcbiAgICAgICAgaWYgKCFwYW5PbkRyYWcgJiYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JykpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IC8vIGRlZmF1bHQgZmlsdGVyIGZvciBkMy16b29tXHJcblxyXG5cclxuICAgICAgICByZXR1cm4gKCFldmVudC5jdHJsS2V5IHx8IGV2ZW50LnR5cGUgPT09ICd3aGVlbCcpICYmICFldmVudC5idXR0b247XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtkM1pvb20sIHpvb21PblNjcm9sbCwgem9vbU9uUGluY2gsIHBhbk9uU2Nyb2xsLCB6b29tT25Eb3VibGVDbGljaywgcGFuT25EcmFnLCBzZWxlY3Rpb25LZXlQcmVzc2VkLCBlbGVtZW50c1NlbGVjdGFibGUsIHpvb21BY3RpdmF0aW9uS2V5UHJlc3NlZF0pO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fcmVuZGVyZXIgcmVhY3QtZmxvd19fY29udGFpbmVyXCIsXHJcbiAgICByZWY6IHpvb21QYW5lXHJcbiAgfSwgY2hpbGRyZW4pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gb3duS2V5cyQ2KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxyXG5cclxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ2KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDYoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQ2KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cclxuXHJcbmZ1bmN0aW9uIGdldE1vdXNlUG9zaXRpb24oZXZlbnQsIGNvbnRhaW5lckJvdW5kcykge1xyXG4gIHJldHVybiB7XHJcbiAgICB4OiBldmVudC5jbGllbnRYIC0gY29udGFpbmVyQm91bmRzLmxlZnQsXHJcbiAgICB5OiBldmVudC5jbGllbnRZIC0gY29udGFpbmVyQm91bmRzLnRvcFxyXG4gIH07XHJcbn1cclxuXHJcbnZhciBzZWxlY3RvciQ3ID0gZnVuY3Rpb24gc2VsZWN0b3Iocykge1xyXG4gIHJldHVybiB7XHJcbiAgICB1c2VyU2VsZWN0aW9uQWN0aXZlOiBzLnVzZXJTZWxlY3Rpb25BY3RpdmUsXHJcbiAgICBlbGVtZW50c1NlbGVjdGFibGU6IHMuZWxlbWVudHNTZWxlY3RhYmxlXHJcbiAgfTtcclxufTtcclxuXHJcbnZhciBpbml0aWFsUmVjdCA9IHtcclxuICBzdGFydFg6IDAsXHJcbiAgc3RhcnRZOiAwLFxyXG4gIHg6IDAsXHJcbiAgeTogMCxcclxuICB3aWR0aDogMCxcclxuICBoZWlnaHQ6IDAsXHJcbiAgZHJhdzogZmFsc2VcclxufTtcclxudmFyIFVzZXJTZWxlY3Rpb24gPSAvKiNfX1BVUkVfXyovbWVtbyhmdW5jdGlvbiAoX3JlZikge1xyXG4gIHZhciBzZWxlY3Rpb25LZXlQcmVzc2VkID0gX3JlZi5zZWxlY3Rpb25LZXlQcmVzc2VkO1xyXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XHJcbiAgdmFyIHByZXZTZWxlY3RlZE5vZGVzQ291bnQgPSB1c2VSZWYoMCk7XHJcbiAgdmFyIHByZXZTZWxlY3RlZEVkZ2VzQ291bnQgPSB1c2VSZWYoMCk7XHJcbiAgdmFyIGNvbnRhaW5lckJvdW5kcyA9IHVzZVJlZigpO1xyXG5cclxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoaW5pdGlhbFJlY3QpLFxyXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcclxuICAgICAgdXNlclNlbGVjdGlvblJlY3QgPSBfdXNlU3RhdGUyWzBdLFxyXG4gICAgICBzZXRVc2VyU2VsZWN0aW9uUmVjdCA9IF91c2VTdGF0ZTJbMV07XHJcblxyXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZShzZWxlY3RvciQ3LCBzaGFsbG93KSxcclxuICAgICAgdXNlclNlbGVjdGlvbkFjdGl2ZSA9IF91c2VTdG9yZS51c2VyU2VsZWN0aW9uQWN0aXZlLFxyXG4gICAgICBlbGVtZW50c1NlbGVjdGFibGUgPSBfdXNlU3RvcmUuZWxlbWVudHNTZWxlY3RhYmxlO1xyXG5cclxuICB2YXIgcmVuZGVyVXNlclNlbGVjdGlvblBhbmUgPSB1c2VyU2VsZWN0aW9uQWN0aXZlIHx8IHNlbGVjdGlvbktleVByZXNzZWQ7XHJcbiAgdmFyIHJlc2V0VXNlclNlbGVjdGlvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHNldFVzZXJTZWxlY3Rpb25SZWN0KGluaXRpYWxSZWN0KTtcclxuICAgIHN0b3JlLnNldFN0YXRlKHtcclxuICAgICAgdXNlclNlbGVjdGlvbkFjdGl2ZTogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgcHJldlNlbGVjdGVkTm9kZXNDb3VudC5jdXJyZW50ID0gMDtcclxuICAgIHByZXZTZWxlY3RlZEVkZ2VzQ291bnQuY3VycmVudCA9IDA7XHJcbiAgfSwgW10pO1xyXG4gIHZhciBvbk1vdXNlRG93biA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIHJlYWN0Rmxvd05vZGUgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLnJlYWN0LWZsb3cnKTtcclxuICAgIGNvbnRhaW5lckJvdW5kcy5jdXJyZW50ID0gcmVhY3RGbG93Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHZhciBtb3VzZVBvcyA9IGdldE1vdXNlUG9zaXRpb24oZXZlbnQsIGNvbnRhaW5lckJvdW5kcy5jdXJyZW50KTtcclxuICAgIHNldFVzZXJTZWxlY3Rpb25SZWN0KHtcclxuICAgICAgd2lkdGg6IDAsXHJcbiAgICAgIGhlaWdodDogMCxcclxuICAgICAgc3RhcnRYOiBtb3VzZVBvcy54LFxyXG4gICAgICBzdGFydFk6IG1vdXNlUG9zLnksXHJcbiAgICAgIHg6IG1vdXNlUG9zLngsXHJcbiAgICAgIHk6IG1vdXNlUG9zLnksXHJcbiAgICAgIGRyYXc6IHRydWVcclxuICAgIH0pO1xyXG4gICAgc3RvcmUuc2V0U3RhdGUoe1xyXG4gICAgICB1c2VyU2VsZWN0aW9uQWN0aXZlOiB0cnVlLFxyXG4gICAgICBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2VcclxuICAgIH0pO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdmFyIG9uTW91c2VNb3ZlID0gZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHtcclxuICAgIHZhciBfdXNlclNlbGVjdGlvblJlY3Qkc3QsIF91c2VyU2VsZWN0aW9uUmVjdCRzdDI7XHJcblxyXG4gICAgaWYgKCFzZWxlY3Rpb25LZXlQcmVzc2VkIHx8ICF1c2VyU2VsZWN0aW9uUmVjdC5kcmF3IHx8ICFjb250YWluZXJCb3VuZHMuY3VycmVudCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG1vdXNlUG9zID0gZ2V0TW91c2VQb3NpdGlvbihldmVudCwgY29udGFpbmVyQm91bmRzLmN1cnJlbnQpO1xyXG4gICAgdmFyIHN0YXJ0WCA9IChfdXNlclNlbGVjdGlvblJlY3Qkc3QgPSB1c2VyU2VsZWN0aW9uUmVjdC5zdGFydFgpICE9PSBudWxsICYmIF91c2VyU2VsZWN0aW9uUmVjdCRzdCAhPT0gdm9pZCAwID8gX3VzZXJTZWxlY3Rpb25SZWN0JHN0IDogMDtcclxuICAgIHZhciBzdGFydFkgPSAoX3VzZXJTZWxlY3Rpb25SZWN0JHN0MiA9IHVzZXJTZWxlY3Rpb25SZWN0LnN0YXJ0WSkgIT09IG51bGwgJiYgX3VzZXJTZWxlY3Rpb25SZWN0JHN0MiAhPT0gdm9pZCAwID8gX3VzZXJTZWxlY3Rpb25SZWN0JHN0MiA6IDA7XHJcblxyXG4gICAgdmFyIG5leHRVc2VyU2VsZWN0UmVjdCA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIHVzZXJTZWxlY3Rpb25SZWN0KSwge30sIHtcclxuICAgICAgeDogbW91c2VQb3MueCA8IHN0YXJ0WCA/IG1vdXNlUG9zLnggOiBzdGFydFgsXHJcbiAgICAgIHk6IG1vdXNlUG9zLnkgPCBzdGFydFkgPyBtb3VzZVBvcy55IDogc3RhcnRZLFxyXG4gICAgICB3aWR0aDogTWF0aC5hYnMobW91c2VQb3MueCAtIHN0YXJ0WCksXHJcbiAgICAgIGhlaWdodDogTWF0aC5hYnMobW91c2VQb3MueSAtIHN0YXJ0WSlcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLFxyXG4gICAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGUubm9kZUludGVybmFscyxcclxuICAgICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZS5lZGdlcyxcclxuICAgICAgICB0cmFuc2Zvcm0gPSBfc3RvcmUkZ2V0U3RhdGUudHJhbnNmb3JtLFxyXG4gICAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGUub25Ob2Rlc0NoYW5nZSxcclxuICAgICAgICBvbkVkZ2VzQ2hhbmdlID0gX3N0b3JlJGdldFN0YXRlLm9uRWRnZXNDaGFuZ2U7XHJcblxyXG4gICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzKS5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7XHJcbiAgICAgIHZhciBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCAyKTtcclxuICAgICAgICAgIF9yZWYzWzBdO1xyXG4gICAgICAgICAgdmFyIG5vZGUgPSBfcmVmM1sxXTtcclxuXHJcbiAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfSk7XHJcbiAgICB2YXIgc2VsZWN0ZWROb2RlcyA9IGdldE5vZGVzSW5zaWRlKG5vZGVJbnRlcm5hbHMsIG5leHRVc2VyU2VsZWN0UmVjdCwgdHJhbnNmb3JtLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICB2YXIgc2VsZWN0ZWRFZGdlSWRzID0gZ2V0Q29ubmVjdGVkRWRnZXMoc2VsZWN0ZWROb2RlcywgZWRnZXMpLm1hcChmdW5jdGlvbiAoZSkge1xyXG4gICAgICByZXR1cm4gZS5pZDtcclxuICAgIH0pO1xyXG4gICAgdmFyIHNlbGVjdGVkTm9kZUlkcyA9IHNlbGVjdGVkTm9kZXMubWFwKGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgIHJldHVybiBuLmlkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHByZXZTZWxlY3RlZE5vZGVzQ291bnQuY3VycmVudCAhPT0gc2VsZWN0ZWROb2RlSWRzLmxlbmd0aCkge1xyXG4gICAgICBwcmV2U2VsZWN0ZWROb2Rlc0NvdW50LmN1cnJlbnQgPSBzZWxlY3RlZE5vZGVJZHMubGVuZ3RoO1xyXG4gICAgICB2YXIgY2hhbmdlcyA9IGdldFNlbGVjdGlvbkNoYW5nZXMobm9kZXMsIHNlbGVjdGVkTm9kZUlkcyk7XHJcblxyXG4gICAgICBpZiAoY2hhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICBvbk5vZGVzQ2hhbmdlID09PSBudWxsIHx8IG9uTm9kZXNDaGFuZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTm9kZXNDaGFuZ2UoY2hhbmdlcyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJldlNlbGVjdGVkRWRnZXNDb3VudC5jdXJyZW50ICE9PSBzZWxlY3RlZEVkZ2VJZHMubGVuZ3RoKSB7XHJcbiAgICAgIHByZXZTZWxlY3RlZEVkZ2VzQ291bnQuY3VycmVudCA9IHNlbGVjdGVkRWRnZUlkcy5sZW5ndGg7XHJcblxyXG4gICAgICB2YXIgX2NoYW5nZXMgPSBnZXRTZWxlY3Rpb25DaGFuZ2VzKGVkZ2VzLCBzZWxlY3RlZEVkZ2VJZHMpO1xyXG5cclxuICAgICAgaWYgKF9jaGFuZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgIG9uRWRnZXNDaGFuZ2UgPT09IG51bGwgfHwgb25FZGdlc0NoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25FZGdlc0NoYW5nZShfY2hhbmdlcyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VyU2VsZWN0aW9uUmVjdChuZXh0VXNlclNlbGVjdFJlY3QpO1xyXG4gIH07XHJcblxyXG4gIHZhciBvbk1vdXNlVXAgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XHJcbiAgICBzdG9yZS5zZXRTdGF0ZSh7XHJcbiAgICAgIG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBwcmV2U2VsZWN0ZWROb2Rlc0NvdW50LmN1cnJlbnQgPiAwXHJcbiAgICB9KTtcclxuICAgIHJlc2V0VXNlclNlbGVjdGlvbigpO1xyXG4gIH0sIFtdKTtcclxuICB2YXIgb25Nb3VzZUxlYXZlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgc3RvcmUuc2V0U3RhdGUoe1xyXG4gICAgICBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgcmVzZXRVc2VyU2VsZWN0aW9uKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBpZiAoIWVsZW1lbnRzU2VsZWN0YWJsZSB8fCAhcmVuZGVyVXNlclNlbGVjdGlvblBhbmUpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcclxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19zZWxlY3Rpb25wYW5lIHJlYWN0LWZsb3dfX2NvbnRhaW5lclwiLFxyXG4gICAgb25Nb3VzZURvd246IG9uTW91c2VEb3duLFxyXG4gICAgb25Nb3VzZU1vdmU6IG9uTW91c2VNb3ZlLFxyXG4gICAgb25Nb3VzZVVwOiBvbk1vdXNlVXAsXHJcbiAgICBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZVxyXG4gIH0sIHVzZXJTZWxlY3Rpb25SZWN0LmRyYXcgJiYgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX3NlbGVjdGlvbiByZWFjdC1mbG93X19jb250YWluZXJcIixcclxuICAgIHN0eWxlOiB7XHJcbiAgICAgIHdpZHRoOiB1c2VyU2VsZWN0aW9uUmVjdC53aWR0aCxcclxuICAgICAgaGVpZ2h0OiB1c2VyU2VsZWN0aW9uUmVjdC5oZWlnaHQsXHJcbiAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHVzZXJTZWxlY3Rpb25SZWN0LngsIFwicHgsIFwiKS5jb25jYXQodXNlclNlbGVjdGlvblJlY3QueSwgXCJweClcIilcclxuICAgIH1cclxuICB9KSk7XHJcbn0pO1xyXG5cclxudmFyIHNlbGVjdG9yJDYgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHRyYW5zZm9ybTogcy50cmFuc2Zvcm0sXHJcbiAgICBzZWxlY3RlZE5vZGVzQmJveDogcy5zZWxlY3RlZE5vZGVzQmJveCxcclxuICAgIHVzZXJTZWxlY3Rpb25BY3RpdmU6IHMudXNlclNlbGVjdGlvbkFjdGl2ZSxcclxuICAgIHNlbGVjdGVkTm9kZXM6IEFycmF5LmZyb20ocy5ub2RlSW50ZXJuYWxzKS5maWx0ZXIoZnVuY3Rpb24gKF9yZWYpIHtcclxuICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMik7XHJcbiAgICAgICAgICBfcmVmMlswXTtcclxuICAgICAgICAgIHZhciBuID0gX3JlZjJbMV07XHJcblxyXG4gICAgICByZXR1cm4gbi5zZWxlY3RlZDtcclxuICAgIH0pLm1hcChmdW5jdGlvbiAoX3JlZjMpIHtcclxuICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpO1xyXG4gICAgICAgICAgX3JlZjRbMF07XHJcbiAgICAgICAgICB2YXIgbiA9IF9yZWY0WzFdO1xyXG5cclxuICAgICAgcmV0dXJuIG47XHJcbiAgICB9KSxcclxuICAgIHNuYXBUb0dyaWQ6IHMuc25hcFRvR3JpZCxcclxuICAgIHNuYXBHcmlkOiBzLnNuYXBHcmlkLFxyXG4gICAgdXBkYXRlTm9kZVBvc2l0aW9uOiBzLnVwZGF0ZU5vZGVQb3NpdGlvblxyXG4gIH07XHJcbn07XHJcblxyXG5mdW5jdGlvbiBOb2Rlc1NlbGVjdGlvbihfcmVmNSkge1xyXG4gIHZhciBvblNlbGVjdGlvbkRyYWdTdGFydCA9IF9yZWY1Lm9uU2VsZWN0aW9uRHJhZ1N0YXJ0LFxyXG4gICAgICBvblNlbGVjdGlvbkRyYWcgPSBfcmVmNS5vblNlbGVjdGlvbkRyYWcsXHJcbiAgICAgIG9uU2VsZWN0aW9uRHJhZ1N0b3AgPSBfcmVmNS5vblNlbGVjdGlvbkRyYWdTdG9wLFxyXG4gICAgICBvblNlbGVjdGlvbkNvbnRleHRNZW51ID0gX3JlZjUub25TZWxlY3Rpb25Db250ZXh0TWVudSxcclxuICAgICAgbm9QYW5DbGFzc05hbWUgPSBfcmVmNS5ub1BhbkNsYXNzTmFtZTtcclxuXHJcbiAgdmFyIF91c2VTdG9yZSA9IHVzZVN0b3JlKHNlbGVjdG9yJDYsIHNoYWxsb3cpLFxyXG4gICAgICB0cmFuc2Zvcm0gPSBfdXNlU3RvcmUudHJhbnNmb3JtLFxyXG4gICAgICB1c2VyU2VsZWN0aW9uQWN0aXZlID0gX3VzZVN0b3JlLnVzZXJTZWxlY3Rpb25BY3RpdmUsXHJcbiAgICAgIHNlbGVjdGVkTm9kZXMgPSBfdXNlU3RvcmUuc2VsZWN0ZWROb2RlcyxcclxuICAgICAgc25hcFRvR3JpZCA9IF91c2VTdG9yZS5zbmFwVG9HcmlkLFxyXG4gICAgICBzbmFwR3JpZCA9IF91c2VTdG9yZS5zbmFwR3JpZCxcclxuICAgICAgdXBkYXRlTm9kZVBvc2l0aW9uID0gX3VzZVN0b3JlLnVwZGF0ZU5vZGVQb3NpdGlvbjtcclxuXHJcbiAgdmFyIF90cmFuc2Zvcm0gPSBfc2xpY2VkVG9BcnJheSh0cmFuc2Zvcm0sIDMpLFxyXG4gICAgICB0WCA9IF90cmFuc2Zvcm1bMF0sXHJcbiAgICAgIHRZID0gX3RyYW5zZm9ybVsxXSxcclxuICAgICAgdFNjYWxlID0gX3RyYW5zZm9ybVsyXTtcclxuXHJcbiAgdmFyIG5vZGVSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgdmFyIGdyaWQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBzbmFwVG9HcmlkID8gc25hcEdyaWQgOiBbMSwgMV07XHJcbiAgfSwgW3NuYXBUb0dyaWQsIHNuYXBHcmlkXSk7XHJcbiAgdmFyIHN0eWxlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiLmNvbmNhdCh0WCwgXCJweCxcIikuY29uY2F0KHRZLCBcInB4KSBzY2FsZShcIikuY29uY2F0KHRTY2FsZSwgXCIpXCIpXHJcbiAgICB9O1xyXG4gIH0sIFt0WCwgdFksIHRTY2FsZV0pO1xyXG4gIHZhciBzZWxlY3RlZE5vZGVzQmJveCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGdldFJlY3RPZk5vZGVzKHNlbGVjdGVkTm9kZXMpO1xyXG4gIH0sIFtzZWxlY3RlZE5vZGVzXSk7XHJcbiAgdmFyIGlubmVyU3R5bGUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHdpZHRoOiBzZWxlY3RlZE5vZGVzQmJveC53aWR0aCxcclxuICAgICAgaGVpZ2h0OiBzZWxlY3RlZE5vZGVzQmJveC5oZWlnaHQsXHJcbiAgICAgIHRvcDogc2VsZWN0ZWROb2Rlc0Jib3gueSxcclxuICAgICAgbGVmdDogc2VsZWN0ZWROb2Rlc0Jib3gueFxyXG4gICAgfTtcclxuICB9LCBbc2VsZWN0ZWROb2Rlc0Jib3hdKTtcclxuXHJcbiAgdmFyIF9vblN0YXJ0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBvblNlbGVjdGlvbkRyYWdTdGFydCA9PT0gbnVsbCB8fCBvblNlbGVjdGlvbkRyYWdTdGFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25TZWxlY3Rpb25EcmFnU3RhcnQoZXZlbnQsIHNlbGVjdGVkTm9kZXMpO1xyXG4gIH0sIFtvblNlbGVjdGlvbkRyYWdTdGFydCwgc2VsZWN0ZWROb2Rlc10pO1xyXG5cclxuICB2YXIgX29uRHJhZyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xyXG4gICAgdXBkYXRlTm9kZVBvc2l0aW9uKHtcclxuICAgICAgZGlmZjoge1xyXG4gICAgICAgIHg6IGRhdGEuZGVsdGFYLFxyXG4gICAgICAgIHk6IGRhdGEuZGVsdGFZXHJcbiAgICAgIH0sXHJcbiAgICAgIGRyYWdnaW5nOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIG9uU2VsZWN0aW9uRHJhZyA9PT0gbnVsbCB8fCBvblNlbGVjdGlvbkRyYWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uU2VsZWN0aW9uRHJhZyhldmVudCwgc2VsZWN0ZWROb2Rlcyk7XHJcbiAgfSwgW29uU2VsZWN0aW9uRHJhZywgc2VsZWN0ZWROb2RlcywgdXBkYXRlTm9kZVBvc2l0aW9uXSk7XHJcblxyXG4gIHZhciBfb25TdG9wID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB1cGRhdGVOb2RlUG9zaXRpb24oe1xyXG4gICAgICBkcmFnZ2luZzogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgb25TZWxlY3Rpb25EcmFnU3RvcCA9PT0gbnVsbCB8fCBvblNlbGVjdGlvbkRyYWdTdG9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblNlbGVjdGlvbkRyYWdTdG9wKGV2ZW50LCBzZWxlY3RlZE5vZGVzKTtcclxuICB9LCBbc2VsZWN0ZWROb2Rlcywgb25TZWxlY3Rpb25EcmFnU3RvcF0pO1xyXG5cclxuICB2YXIgb25Db250ZXh0TWVudSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgb25TZWxlY3Rpb25Db250ZXh0TWVudSA9PT0gbnVsbCB8fCBvblNlbGVjdGlvbkNvbnRleHRNZW51ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblNlbGVjdGlvbkNvbnRleHRNZW51KGV2ZW50LCBzZWxlY3RlZE5vZGVzKTtcclxuICB9LCBbb25TZWxlY3Rpb25Db250ZXh0TWVudSwgc2VsZWN0ZWROb2Rlc10pO1xyXG5cclxuICBpZiAoIShzZWxlY3RlZE5vZGVzICE9PSBudWxsICYmIHNlbGVjdGVkTm9kZXMgIT09IHZvaWQgMCAmJiBzZWxlY3RlZE5vZGVzLmxlbmd0aCkgfHwgdXNlclNlbGVjdGlvbkFjdGl2ZSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3dfX25vZGVzc2VsZWN0aW9uJywgJ3JlYWN0LWZsb3dfX2NvbnRhaW5lcicsIG5vUGFuQ2xhc3NOYW1lXSksXHJcbiAgICBzdHlsZTogc3R5bGVcclxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcmFnZ2FibGVDb3JlLCB7XHJcbiAgICBzY2FsZTogdFNjYWxlLFxyXG4gICAgZ3JpZDogZ3JpZCxcclxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIG9uU3RhcnQoZXZlbnQpIHtcclxuICAgICAgcmV0dXJuIF9vblN0YXJ0KGV2ZW50KTtcclxuICAgIH0sXHJcbiAgICBvbkRyYWc6IGZ1bmN0aW9uIG9uRHJhZyhldmVudCwgZGF0YSkge1xyXG4gICAgICByZXR1cm4gX29uRHJhZyhldmVudCwgZGF0YSk7XHJcbiAgICB9LFxyXG4gICAgb25TdG9wOiBmdW5jdGlvbiBvblN0b3AoZXZlbnQpIHtcclxuICAgICAgcmV0dXJuIF9vblN0b3AoZXZlbnQpO1xyXG4gICAgfSxcclxuICAgIG5vZGVSZWY6IG5vZGVSZWYsXHJcbiAgICBlbmFibGVVc2VyU2VsZWN0SGFjazogZmFsc2VcclxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICByZWY6IG5vZGVSZWYsXHJcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fbm9kZXNzZWxlY3Rpb24tcmVjdFwiLFxyXG4gICAgb25Db250ZXh0TWVudTogb25Db250ZXh0TWVudSxcclxuICAgIHN0eWxlOiBpbm5lclN0eWxlXHJcbiAgfSkpKTtcclxufVxyXG5cclxudmFyIE5vZGVzU2VsZWN0aW9uJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhOb2Rlc1NlbGVjdGlvbik7XHJcblxyXG52YXIgc2VsZWN0b3IkNSA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzZXRTZWxlY3RlZEVsZW1lbnRzOiBzLnJlc2V0U2VsZWN0ZWRFbGVtZW50cyxcclxuICAgIG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBzLm5vZGVzU2VsZWN0aW9uQWN0aXZlXHJcbiAgfTtcclxufTtcclxuXHJcbnZhciBGbG93UmVuZGVyZXIgPSBmdW5jdGlvbiBGbG93UmVuZGVyZXIoX3JlZikge1xyXG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXHJcbiAgICAgIG9uUGFuZUNsaWNrID0gX3JlZi5vblBhbmVDbGljayxcclxuICAgICAgb25QYW5lQ29udGV4dE1lbnUgPSBfcmVmLm9uUGFuZUNvbnRleHRNZW51LFxyXG4gICAgICBvblBhbmVTY3JvbGwgPSBfcmVmLm9uUGFuZVNjcm9sbCxcclxuICAgICAgZGVsZXRlS2V5Q29kZSA9IF9yZWYuZGVsZXRlS2V5Q29kZSxcclxuICAgICAgb25Nb3ZlID0gX3JlZi5vbk1vdmUsXHJcbiAgICAgIG9uTW92ZVN0YXJ0ID0gX3JlZi5vbk1vdmVTdGFydCxcclxuICAgICAgb25Nb3ZlRW5kID0gX3JlZi5vbk1vdmVFbmQsXHJcbiAgICAgIHNlbGVjdGlvbktleUNvZGUgPSBfcmVmLnNlbGVjdGlvbktleUNvZGUsXHJcbiAgICAgIG11bHRpU2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYubXVsdGlTZWxlY3Rpb25LZXlDb2RlLFxyXG4gICAgICB6b29tQWN0aXZhdGlvbktleUNvZGUgPSBfcmVmLnpvb21BY3RpdmF0aW9uS2V5Q29kZSxcclxuICAgICAgZWxlbWVudHNTZWxlY3RhYmxlID0gX3JlZi5lbGVtZW50c1NlbGVjdGFibGUsXHJcbiAgICAgIHpvb21PblNjcm9sbCA9IF9yZWYuem9vbU9uU2Nyb2xsLFxyXG4gICAgICB6b29tT25QaW5jaCA9IF9yZWYuem9vbU9uUGluY2gsXHJcbiAgICAgIHBhbk9uU2Nyb2xsID0gX3JlZi5wYW5PblNjcm9sbCxcclxuICAgICAgcGFuT25TY3JvbGxTcGVlZCA9IF9yZWYucGFuT25TY3JvbGxTcGVlZCxcclxuICAgICAgcGFuT25TY3JvbGxNb2RlID0gX3JlZi5wYW5PblNjcm9sbE1vZGUsXHJcbiAgICAgIHpvb21PbkRvdWJsZUNsaWNrID0gX3JlZi56b29tT25Eb3VibGVDbGljayxcclxuICAgICAgcGFuT25EcmFnID0gX3JlZi5wYW5PbkRyYWcsXHJcbiAgICAgIGRlZmF1bHRQb3NpdGlvbiA9IF9yZWYuZGVmYXVsdFBvc2l0aW9uLFxyXG4gICAgICBkZWZhdWx0Wm9vbSA9IF9yZWYuZGVmYXVsdFpvb20sXHJcbiAgICAgIHByZXZlbnRTY3JvbGxpbmcgPSBfcmVmLnByZXZlbnRTY3JvbGxpbmcsXHJcbiAgICAgIG9uU2VsZWN0aW9uRHJhZ1N0YXJ0ID0gX3JlZi5vblNlbGVjdGlvbkRyYWdTdGFydCxcclxuICAgICAgb25TZWxlY3Rpb25EcmFnID0gX3JlZi5vblNlbGVjdGlvbkRyYWcsXHJcbiAgICAgIG9uU2VsZWN0aW9uRHJhZ1N0b3AgPSBfcmVmLm9uU2VsZWN0aW9uRHJhZ1N0b3AsXHJcbiAgICAgIG9uU2VsZWN0aW9uQ29udGV4dE1lbnUgPSBfcmVmLm9uU2VsZWN0aW9uQ29udGV4dE1lbnUsXHJcbiAgICAgIG5vV2hlZWxDbGFzc05hbWUgPSBfcmVmLm5vV2hlZWxDbGFzc05hbWUsXHJcbiAgICAgIG5vUGFuQ2xhc3NOYW1lID0gX3JlZi5ub1BhbkNsYXNzTmFtZTtcclxuICB2YXIgc3RvcmUgPSB1c2VTdG9yZUFwaSgpO1xyXG5cclxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkNSwgc2hhbGxvdyksXHJcbiAgICAgIHJlc2V0U2VsZWN0ZWRFbGVtZW50cyA9IF91c2VTdG9yZS5yZXNldFNlbGVjdGVkRWxlbWVudHMsXHJcbiAgICAgIG5vZGVzU2VsZWN0aW9uQWN0aXZlID0gX3VzZVN0b3JlLm5vZGVzU2VsZWN0aW9uQWN0aXZlO1xyXG5cclxuICB2YXIgc2VsZWN0aW9uS2V5UHJlc3NlZCA9IHVzZUtleVByZXNzKHNlbGVjdGlvbktleUNvZGUpO1xyXG4gIHVzZUdsb2JhbEtleUhhbmRsZXIoe1xyXG4gICAgZGVsZXRlS2V5Q29kZTogZGVsZXRlS2V5Q29kZSxcclxuICAgIG11bHRpU2VsZWN0aW9uS2V5Q29kZTogbXVsdGlTZWxlY3Rpb25LZXlDb2RlXHJcbiAgfSk7XHJcbiAgdmFyIG9uQ2xpY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIG9uUGFuZUNsaWNrID09PSBudWxsIHx8IG9uUGFuZUNsaWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblBhbmVDbGljayhldmVudCk7XHJcbiAgICByZXNldFNlbGVjdGVkRWxlbWVudHMoKTtcclxuICAgIHN0b3JlLnNldFN0YXRlKHtcclxuICAgICAgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IGZhbHNlXHJcbiAgICB9KTtcclxuICB9LCBbb25QYW5lQ2xpY2tdKTtcclxuICB2YXIgb25Db250ZXh0TWVudSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgcmV0dXJuIG9uUGFuZUNvbnRleHRNZW51ID09PSBudWxsIHx8IG9uUGFuZUNvbnRleHRNZW51ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblBhbmVDb250ZXh0TWVudShldmVudCk7XHJcbiAgfSwgW29uUGFuZUNvbnRleHRNZW51XSk7XHJcbiAgdmFyIG9uV2hlZWwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHJldHVybiBvblBhbmVTY3JvbGwgPT09IG51bGwgfHwgb25QYW5lU2Nyb2xsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblBhbmVTY3JvbGwoZXZlbnQpO1xyXG4gIH0sIFtvblBhbmVTY3JvbGxdKTtcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoWm9vbVBhbmUsIHtcclxuICAgIG9uTW92ZTogb25Nb3ZlLFxyXG4gICAgb25Nb3ZlU3RhcnQ6IG9uTW92ZVN0YXJ0LFxyXG4gICAgb25Nb3ZlRW5kOiBvbk1vdmVFbmQsXHJcbiAgICBzZWxlY3Rpb25LZXlQcmVzc2VkOiBzZWxlY3Rpb25LZXlQcmVzc2VkLFxyXG4gICAgZWxlbWVudHNTZWxlY3RhYmxlOiBlbGVtZW50c1NlbGVjdGFibGUsXHJcbiAgICB6b29tT25TY3JvbGw6IHpvb21PblNjcm9sbCxcclxuICAgIHpvb21PblBpbmNoOiB6b29tT25QaW5jaCxcclxuICAgIHBhbk9uU2Nyb2xsOiBwYW5PblNjcm9sbCxcclxuICAgIHBhbk9uU2Nyb2xsU3BlZWQ6IHBhbk9uU2Nyb2xsU3BlZWQsXHJcbiAgICBwYW5PblNjcm9sbE1vZGU6IHBhbk9uU2Nyb2xsTW9kZSxcclxuICAgIHpvb21PbkRvdWJsZUNsaWNrOiB6b29tT25Eb3VibGVDbGljayxcclxuICAgIHBhbk9uRHJhZzogcGFuT25EcmFnLFxyXG4gICAgZGVmYXVsdFBvc2l0aW9uOiBkZWZhdWx0UG9zaXRpb24sXHJcbiAgICBkZWZhdWx0Wm9vbTogZGVmYXVsdFpvb20sXHJcbiAgICB6b29tQWN0aXZhdGlvbktleUNvZGU6IHpvb21BY3RpdmF0aW9uS2V5Q29kZSxcclxuICAgIHByZXZlbnRTY3JvbGxpbmc6IHByZXZlbnRTY3JvbGxpbmcsXHJcbiAgICBub1doZWVsQ2xhc3NOYW1lOiBub1doZWVsQ2xhc3NOYW1lLFxyXG4gICAgbm9QYW5DbGFzc05hbWU6IG5vUGFuQ2xhc3NOYW1lXHJcbiAgfSwgY2hpbGRyZW4sIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFVzZXJTZWxlY3Rpb24sIHtcclxuICAgIHNlbGVjdGlvbktleVByZXNzZWQ6IHNlbGVjdGlvbktleVByZXNzZWRcclxuICB9KSwgbm9kZXNTZWxlY3Rpb25BY3RpdmUgJiYgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTm9kZXNTZWxlY3Rpb24kMSwge1xyXG4gICAgb25TZWxlY3Rpb25EcmFnU3RhcnQ6IG9uU2VsZWN0aW9uRHJhZ1N0YXJ0LFxyXG4gICAgb25TZWxlY3Rpb25EcmFnOiBvblNlbGVjdGlvbkRyYWcsXHJcbiAgICBvblNlbGVjdGlvbkRyYWdTdG9wOiBvblNlbGVjdGlvbkRyYWdTdG9wLFxyXG4gICAgb25TZWxlY3Rpb25Db250ZXh0TWVudTogb25TZWxlY3Rpb25Db250ZXh0TWVudSxcclxuICAgIG5vUGFuQ2xhc3NOYW1lOiBub1BhbkNsYXNzTmFtZVxyXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fcGFuZSByZWFjdC1mbG93X19jb250YWluZXJcIixcclxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXHJcbiAgICBvbkNvbnRleHRNZW51OiBvbkNvbnRleHRNZW51LFxyXG4gICAgb25XaGVlbDogb25XaGVlbFxyXG4gIH0pKTtcclxufTtcclxuXHJcbkZsb3dSZW5kZXJlci5kaXNwbGF5TmFtZSA9ICdGbG93UmVuZGVyZXInO1xyXG52YXIgRmxvd1JlbmRlcmVyJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhGbG93UmVuZGVyZXIpO1xyXG5cclxuZnVuY3Rpb24gdXNlVmlzaWJsZU5vZGVzKG9ubHlSZW5kZXJWaXNpYmxlKSB7XHJcbiAgdmFyIG5vZGVzID0gdXNlU3RvcmUodXNlQ2FsbGJhY2soZnVuY3Rpb24gKHMpIHtcclxuICAgIHJldHVybiBvbmx5UmVuZGVyVmlzaWJsZSA/IGdldE5vZGVzSW5zaWRlKHMubm9kZUludGVybmFscywge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICB3aWR0aDogcy53aWR0aCxcclxuICAgICAgaGVpZ2h0OiBzLmhlaWdodFxyXG4gICAgfSwgcy50cmFuc2Zvcm0sIHRydWUpIDogQXJyYXkuZnJvbShzLm5vZGVJbnRlcm5hbHMpLm1hcChmdW5jdGlvbiAoX3JlZikge1xyXG4gICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKTtcclxuICAgICAgICAgIF9yZWYyWzBdO1xyXG4gICAgICAgICAgdmFyIG5vZGUgPSBfcmVmMlsxXTtcclxuXHJcbiAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfSk7XHJcbiAgfSwgW29ubHlSZW5kZXJWaXNpYmxlXSkpO1xyXG4gIHJldHVybiBub2RlcztcclxufVxyXG5cclxudmFyIHNlbGVjdG9yJDQgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHNjYWxlOiBzLnRyYW5zZm9ybVsyXSxcclxuICAgIG5vZGVzRHJhZ2dhYmxlOiBzLm5vZGVzRHJhZ2dhYmxlLFxyXG4gICAgbm9kZXNDb25uZWN0YWJsZTogcy5ub2Rlc0Nvbm5lY3RhYmxlLFxyXG4gICAgZWxlbWVudHNTZWxlY3RhYmxlOiBzLmVsZW1lbnRzU2VsZWN0YWJsZSxcclxuICAgIHVwZGF0ZU5vZGVEaW1lbnNpb25zOiBzLnVwZGF0ZU5vZGVEaW1lbnNpb25zLFxyXG4gICAgc25hcEdyaWQ6IHMuc25hcEdyaWQsXHJcbiAgICBzbmFwVG9HcmlkOiBzLnNuYXBUb0dyaWQsXHJcbiAgICBub2RlSW50ZXJuYWxzOiBzLm5vZGVJbnRlcm5hbHNcclxuICB9O1xyXG59O1xyXG5cclxudmFyIE5vZGVSZW5kZXJlciA9IGZ1bmN0aW9uIE5vZGVSZW5kZXJlcihwcm9wcykge1xyXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZShzZWxlY3RvciQ0LCBzaGFsbG93KSxcclxuICAgICAgc2NhbGUgPSBfdXNlU3RvcmUuc2NhbGUsXHJcbiAgICAgIG5vZGVzRHJhZ2dhYmxlID0gX3VzZVN0b3JlLm5vZGVzRHJhZ2dhYmxlLFxyXG4gICAgICBub2Rlc0Nvbm5lY3RhYmxlID0gX3VzZVN0b3JlLm5vZGVzQ29ubmVjdGFibGUsXHJcbiAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZSA9IF91c2VTdG9yZS5lbGVtZW50c1NlbGVjdGFibGUsXHJcbiAgICAgIHVwZGF0ZU5vZGVEaW1lbnNpb25zID0gX3VzZVN0b3JlLnVwZGF0ZU5vZGVEaW1lbnNpb25zLFxyXG4gICAgICBzbmFwR3JpZCA9IF91c2VTdG9yZS5zbmFwR3JpZCxcclxuICAgICAgc25hcFRvR3JpZCA9IF91c2VTdG9yZS5zbmFwVG9HcmlkO1xyXG5cclxuICB2YXIgbm9kZXMgPSB1c2VWaXNpYmxlTm9kZXMocHJvcHMub25seVJlbmRlclZpc2libGVFbGVtZW50cyk7XHJcbiAgdmFyIHJlc2l6ZU9ic2VydmVyUmVmID0gdXNlUmVmKCk7XHJcbiAgdmFyIHJlc2l6ZU9ic2VydmVyID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHtcclxuICAgICAgdmFyIHVwZGF0ZXMgPSBlbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaWQ6IGVudHJ5LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSxcclxuICAgICAgICAgIG5vZGVFbGVtZW50OiBlbnRyeS50YXJnZXQsXHJcbiAgICAgICAgICBmb3JjZVVwZGF0ZTogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgICB1cGRhdGVOb2RlRGltZW5zaW9ucyh1cGRhdGVzKTtcclxuICAgIH0pO1xyXG4gICAgcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudCA9IG9ic2VydmVyO1xyXG4gICAgcmV0dXJuIG9ic2VydmVyO1xyXG4gIH0sIFtdKTtcclxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIF9yZXNpemVPYnNlcnZlclJlZiRjdTtcclxuXHJcbiAgICAgIHJlc2l6ZU9ic2VydmVyUmVmID09PSBudWxsIHx8IHJlc2l6ZU9ic2VydmVyUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Jlc2l6ZU9ic2VydmVyUmVmJGN1ID0gcmVzaXplT2JzZXJ2ZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyUmVmJGN1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzaXplT2JzZXJ2ZXJSZWYkY3UuZGlzY29ubmVjdCgpO1xyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcclxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19ub2RlcyByZWFjdC1mbG93X19jb250YWluZXJcIlxyXG4gIH0sIG5vZGVzLm1hcChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgdmFyIF9ub2RlJHBvc2l0aW9uQWJzb2x1dCwgX25vZGUkcG9zaXRpb25BYnNvbHV0MiwgX25vZGUkcG9zaXRpb25BYnNvbHV0MywgX25vZGUkcG9zaXRpb25BYnNvbHV0NCwgX25vZGUkejtcclxuXHJcbiAgICB2YXIgbm9kZVR5cGUgPSBub2RlLnR5cGUgfHwgJ2RlZmF1bHQnO1xyXG5cclxuICAgIGlmICghcHJvcHMubm9kZVR5cGVzW25vZGVUeXBlXSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXCJOb2RlIHR5cGUgXFxcIlwiLmNvbmNhdChub2RlVHlwZSwgXCJcXFwiIG5vdCBmb3VuZC4gVXNpbmcgZmFsbGJhY2sgdHlwZSBcXFwiZGVmYXVsdFxcXCIuXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgTm9kZUNvbXBvbmVudCA9IHByb3BzLm5vZGVUeXBlc1tub2RlVHlwZV0gfHwgcHJvcHMubm9kZVR5cGVzW1wiZGVmYXVsdFwiXTtcclxuICAgIHZhciBpc0RyYWdnYWJsZSA9ICEhKG5vZGUuZHJhZ2dhYmxlIHx8IG5vZGVzRHJhZ2dhYmxlICYmIHR5cGVvZiBub2RlLmRyYWdnYWJsZSA9PT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgdmFyIGlzU2VsZWN0YWJsZSA9ICEhKG5vZGUuc2VsZWN0YWJsZSB8fCBlbGVtZW50c1NlbGVjdGFibGUgJiYgdHlwZW9mIG5vZGUuc2VsZWN0YWJsZSA9PT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgdmFyIGlzQ29ubmVjdGFibGUgPSAhIShub2RlLmNvbm5lY3RhYmxlIHx8IG5vZGVzQ29ubmVjdGFibGUgJiYgdHlwZW9mIG5vZGUuY29ubmVjdGFibGUgPT09ICd1bmRlZmluZWQnKTtcclxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChOb2RlQ29tcG9uZW50LCB7XHJcbiAgICAgIGtleTogbm9kZS5pZCxcclxuICAgICAgaWQ6IG5vZGUuaWQsXHJcbiAgICAgIGNsYXNzTmFtZTogbm9kZS5jbGFzc05hbWUsXHJcbiAgICAgIHN0eWxlOiBub2RlLnN0eWxlLFxyXG4gICAgICB0eXBlOiBub2RlVHlwZSxcclxuICAgICAgZGF0YTogbm9kZS5kYXRhLFxyXG4gICAgICBzb3VyY2VQb3NpdGlvbjogbm9kZS5zb3VyY2VQb3NpdGlvbiB8fCBQb3NpdGlvbi5Cb3R0b20sXHJcbiAgICAgIHRhcmdldFBvc2l0aW9uOiBub2RlLnRhcmdldFBvc2l0aW9uIHx8IFBvc2l0aW9uLlRvcCxcclxuICAgICAgaGlkZGVuOiBub2RlLmhpZGRlbixcclxuICAgICAgeFBvczogKF9ub2RlJHBvc2l0aW9uQWJzb2x1dCA9IChfbm9kZSRwb3NpdGlvbkFic29sdXQyID0gbm9kZS5wb3NpdGlvbkFic29sdXRlKSA9PT0gbnVsbCB8fCBfbm9kZSRwb3NpdGlvbkFic29sdXQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRwb3NpdGlvbkFic29sdXQyLngpICE9PSBudWxsICYmIF9ub2RlJHBvc2l0aW9uQWJzb2x1dCAhPT0gdm9pZCAwID8gX25vZGUkcG9zaXRpb25BYnNvbHV0IDogMCxcclxuICAgICAgeVBvczogKF9ub2RlJHBvc2l0aW9uQWJzb2x1dDMgPSAoX25vZGUkcG9zaXRpb25BYnNvbHV0NCA9IG5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX25vZGUkcG9zaXRpb25BYnNvbHV0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkcG9zaXRpb25BYnNvbHV0NC55KSAhPT0gbnVsbCAmJiBfbm9kZSRwb3NpdGlvbkFic29sdXQzICE9PSB2b2lkIDAgPyBfbm9kZSRwb3NpdGlvbkFic29sdXQzIDogMCxcclxuICAgICAgZHJhZ2dpbmc6ICEhbm9kZS5kcmFnZ2luZyxcclxuICAgICAgc25hcEdyaWQ6IHNuYXBHcmlkLFxyXG4gICAgICBzbmFwVG9HcmlkOiBzbmFwVG9HcmlkLFxyXG4gICAgICBzZWxlY3ROb2Rlc09uRHJhZzogcHJvcHMuc2VsZWN0Tm9kZXNPbkRyYWcsXHJcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uTm9kZUNsaWNrLFxyXG4gICAgICBvbk1vdXNlRW50ZXI6IHByb3BzLm9uTm9kZU1vdXNlRW50ZXIsXHJcbiAgICAgIG9uTW91c2VNb3ZlOiBwcm9wcy5vbk5vZGVNb3VzZU1vdmUsXHJcbiAgICAgIG9uTW91c2VMZWF2ZTogcHJvcHMub25Ob2RlTW91c2VMZWF2ZSxcclxuICAgICAgb25Db250ZXh0TWVudTogcHJvcHMub25Ob2RlQ29udGV4dE1lbnUsXHJcbiAgICAgIG9uTm9kZURvdWJsZUNsaWNrOiBwcm9wcy5vbk5vZGVEb3VibGVDbGljayxcclxuICAgICAgb25Ob2RlRHJhZ1N0YXJ0OiBwcm9wcy5vbk5vZGVEcmFnU3RhcnQsXHJcbiAgICAgIG9uTm9kZURyYWc6IHByb3BzLm9uTm9kZURyYWcsXHJcbiAgICAgIG9uTm9kZURyYWdTdG9wOiBwcm9wcy5vbk5vZGVEcmFnU3RvcCxcclxuICAgICAgc2NhbGU6IHNjYWxlLFxyXG4gICAgICBzZWxlY3RlZDogISFub2RlLnNlbGVjdGVkLFxyXG4gICAgICBpc0RyYWdnYWJsZTogaXNEcmFnZ2FibGUsXHJcbiAgICAgIGlzU2VsZWN0YWJsZTogaXNTZWxlY3RhYmxlLFxyXG4gICAgICBpc0Nvbm5lY3RhYmxlOiBpc0Nvbm5lY3RhYmxlLFxyXG4gICAgICByZXNpemVPYnNlcnZlcjogcmVzaXplT2JzZXJ2ZXIsXHJcbiAgICAgIGRyYWdIYW5kbGU6IG5vZGUuZHJhZ0hhbmRsZSxcclxuICAgICAgekluZGV4OiAoX25vZGUkeiA9IG5vZGUueikgIT09IG51bGwgJiYgX25vZGUkeiAhPT0gdm9pZCAwID8gX25vZGUkeiA6IDAsXHJcbiAgICAgIGlzUGFyZW50OiAhIW5vZGUuaXNQYXJlbnQsXHJcbiAgICAgIG5vRHJhZ0NsYXNzTmFtZTogcHJvcHMubm9EcmFnQ2xhc3NOYW1lLFxyXG4gICAgICBub1BhbkNsYXNzTmFtZTogcHJvcHMubm9QYW5DbGFzc05hbWVcclxuICAgIH0pO1xyXG4gIH0pKTtcclxufTtcclxuXHJcbk5vZGVSZW5kZXJlci5kaXNwbGF5TmFtZSA9ICdOb2RlUmVuZGVyZXInO1xyXG52YXIgTm9kZVJlbmRlcmVyJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhOb2RlUmVuZGVyZXIpO1xyXG5cclxuZnVuY3Rpb24gb3duS2V5cyQ1KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxyXG5cclxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ1KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzJDUoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyQ1KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cclxuXHJcbnZhciBzZWxlY3RvciQzID0gZnVuY3Rpb24gc2VsZWN0b3Iocykge1xyXG4gIHJldHVybiB7XHJcbiAgICBub2RlSW50ZXJuYWxzOiBzLm5vZGVJbnRlcm5hbHMsXHJcbiAgICB0cmFuc2Zvcm06IHMudHJhbnNmb3JtXHJcbiAgfTtcclxufTtcclxuXHJcbnZhciBDb25uZWN0aW9uTGluZSA9IChmdW5jdGlvbiAoX3JlZikge1xyXG4gIHZhciBfZnJvbU5vZGUkY3VycmVudCRoYW4sIF9mcm9tTm9kZSRjdXJyZW50JGhhbjIsIF9mcm9tTm9kZSRjdXJyZW50JHdpZCwgX2Zyb21Ob2RlJGN1cnJlbnQsIF9mcm9tTm9kZSRjdXJyZW50JGhlaSwgX2Zyb21Ob2RlJGN1cnJlbnQyLCBfZnJvbU5vZGUkY3VycmVudCRwb3MsIF9mcm9tTm9kZSRjdXJyZW50JHBvczI7XHJcblxyXG4gIHZhciBjb25uZWN0aW9uTm9kZUlkID0gX3JlZi5jb25uZWN0aW9uTm9kZUlkLFxyXG4gICAgICBjb25uZWN0aW9uSGFuZGxlSWQgPSBfcmVmLmNvbm5lY3Rpb25IYW5kbGVJZCxcclxuICAgICAgY29ubmVjdGlvbkhhbmRsZVR5cGUgPSBfcmVmLmNvbm5lY3Rpb25IYW5kbGVUeXBlLFxyXG4gICAgICBjb25uZWN0aW9uTGluZVN0eWxlID0gX3JlZi5jb25uZWN0aW9uTGluZVN0eWxlLFxyXG4gICAgICBjb25uZWN0aW9uUG9zaXRpb25YID0gX3JlZi5jb25uZWN0aW9uUG9zaXRpb25YLFxyXG4gICAgICBjb25uZWN0aW9uUG9zaXRpb25ZID0gX3JlZi5jb25uZWN0aW9uUG9zaXRpb25ZLFxyXG4gICAgICBfcmVmJGNvbm5lY3Rpb25MaW5lVHkgPSBfcmVmLmNvbm5lY3Rpb25MaW5lVHlwZSxcclxuICAgICAgY29ubmVjdGlvbkxpbmVUeXBlID0gX3JlZiRjb25uZWN0aW9uTGluZVR5ID09PSB2b2lkIDAgPyBDb25uZWN0aW9uTGluZVR5cGUuQmV6aWVyIDogX3JlZiRjb25uZWN0aW9uTGluZVR5LFxyXG4gICAgICBpc0Nvbm5lY3RhYmxlID0gX3JlZi5pc0Nvbm5lY3RhYmxlLFxyXG4gICAgICBDdXN0b21Db25uZWN0aW9uTGluZUNvbXBvbmVudCA9IF9yZWYuQ3VzdG9tQ29ubmVjdGlvbkxpbmVDb21wb25lbnQ7XHJcbiAgdmFyIG5vZGVJZCA9IGNvbm5lY3Rpb25Ob2RlSWQ7XHJcbiAgdmFyIGhhbmRsZUlkID0gY29ubmVjdGlvbkhhbmRsZUlkO1xyXG5cclxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IkMywgc2hhbGxvdyksXHJcbiAgICAgIG5vZGVJbnRlcm5hbHMgPSBfdXNlU3RvcmUubm9kZUludGVybmFscyxcclxuICAgICAgdHJhbnNmb3JtID0gX3VzZVN0b3JlLnRyYW5zZm9ybTtcclxuXHJcbiAgdmFyIGZyb21Ob2RlID0gdXNlUmVmKG5vZGVJbnRlcm5hbHMuZ2V0KG5vZGVJZCkpO1xyXG5cclxuICBpZiAoIWZyb21Ob2RlLmN1cnJlbnQgfHwgIWZyb21Ob2RlLmN1cnJlbnQgfHwgIWlzQ29ubmVjdGFibGUgfHwgISgoX2Zyb21Ob2RlJGN1cnJlbnQkaGFuID0gZnJvbU5vZGUuY3VycmVudC5oYW5kbGVCb3VuZHMpICE9PSBudWxsICYmIF9mcm9tTm9kZSRjdXJyZW50JGhhbiAhPT0gdm9pZCAwICYmIF9mcm9tTm9kZSRjdXJyZW50JGhhbltjb25uZWN0aW9uSGFuZGxlVHlwZV0pKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHZhciBoYW5kbGVCb3VuZCA9IChfZnJvbU5vZGUkY3VycmVudCRoYW4yID0gZnJvbU5vZGUuY3VycmVudC5oYW5kbGVCb3VuZHMpID09PSBudWxsIHx8IF9mcm9tTm9kZSRjdXJyZW50JGhhbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mcm9tTm9kZSRjdXJyZW50JGhhbjJbY29ubmVjdGlvbkhhbmRsZVR5cGVdO1xyXG4gIHZhciBmcm9tSGFuZGxlID0gaGFuZGxlSWQgPyBoYW5kbGVCb3VuZCA9PT0gbnVsbCB8fCBoYW5kbGVCb3VuZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGFuZGxlQm91bmQuZmluZChmdW5jdGlvbiAoZCkge1xyXG4gICAgcmV0dXJuIGQuaWQgPT09IGhhbmRsZUlkO1xyXG4gIH0pIDogaGFuZGxlQm91bmQgPT09IG51bGwgfHwgaGFuZGxlQm91bmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhhbmRsZUJvdW5kWzBdO1xyXG4gIHZhciBmcm9tSGFuZGxlWCA9IGZyb21IYW5kbGUgPyBmcm9tSGFuZGxlLnggKyBmcm9tSGFuZGxlLndpZHRoIC8gMiA6ICgoX2Zyb21Ob2RlJGN1cnJlbnQkd2lkID0gKF9mcm9tTm9kZSRjdXJyZW50ID0gZnJvbU5vZGUuY3VycmVudCkgPT09IG51bGwgfHwgX2Zyb21Ob2RlJGN1cnJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mcm9tTm9kZSRjdXJyZW50LndpZHRoKSAhPT0gbnVsbCAmJiBfZnJvbU5vZGUkY3VycmVudCR3aWQgIT09IHZvaWQgMCA/IF9mcm9tTm9kZSRjdXJyZW50JHdpZCA6IDApIC8gMjtcclxuICB2YXIgZnJvbUhhbmRsZVkgPSBmcm9tSGFuZGxlID8gZnJvbUhhbmRsZS55ICsgZnJvbUhhbmRsZS5oZWlnaHQgLyAyIDogKF9mcm9tTm9kZSRjdXJyZW50JGhlaSA9IChfZnJvbU5vZGUkY3VycmVudDIgPSBmcm9tTm9kZS5jdXJyZW50KSA9PT0gbnVsbCB8fCBfZnJvbU5vZGUkY3VycmVudDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mcm9tTm9kZSRjdXJyZW50Mi5oZWlnaHQpICE9PSBudWxsICYmIF9mcm9tTm9kZSRjdXJyZW50JGhlaSAhPT0gdm9pZCAwID8gX2Zyb21Ob2RlJGN1cnJlbnQkaGVpIDogMDtcclxuICB2YXIgZnJvbVggPSAoKChfZnJvbU5vZGUkY3VycmVudCRwb3MgPSBmcm9tTm9kZS5jdXJyZW50LnBvc2l0aW9uQWJzb2x1dGUpID09PSBudWxsIHx8IF9mcm9tTm9kZSRjdXJyZW50JHBvcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Zyb21Ob2RlJGN1cnJlbnQkcG9zLngpIHx8IDApICsgZnJvbUhhbmRsZVg7XHJcbiAgdmFyIGZyb21ZID0gKCgoX2Zyb21Ob2RlJGN1cnJlbnQkcG9zMiA9IGZyb21Ob2RlLmN1cnJlbnQucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX2Zyb21Ob2RlJGN1cnJlbnQkcG9zMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Zyb21Ob2RlJGN1cnJlbnQkcG9zMi55KSB8fCAwKSArIGZyb21IYW5kbGVZO1xyXG4gIHZhciB0b1ggPSAoY29ubmVjdGlvblBvc2l0aW9uWCAtIHRyYW5zZm9ybVswXSkgLyB0cmFuc2Zvcm1bMl07XHJcbiAgdmFyIHRvWSA9IChjb25uZWN0aW9uUG9zaXRpb25ZIC0gdHJhbnNmb3JtWzFdKSAvIHRyYW5zZm9ybVsyXTtcclxuICB2YXIgZnJvbVBvc2l0aW9uID0gZnJvbUhhbmRsZSA9PT0gbnVsbCB8fCBmcm9tSGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcm9tSGFuZGxlLnBvc2l0aW9uO1xyXG4gIHZhciB0b1Bvc2l0aW9uO1xyXG5cclxuICBzd2l0Y2ggKGZyb21Qb3NpdGlvbikge1xyXG4gICAgY2FzZSBQb3NpdGlvbi5MZWZ0OlxyXG4gICAgICB0b1Bvc2l0aW9uID0gUG9zaXRpb24uUmlnaHQ7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgUG9zaXRpb24uUmlnaHQ6XHJcbiAgICAgIHRvUG9zaXRpb24gPSBQb3NpdGlvbi5MZWZ0O1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlIFBvc2l0aW9uLlRvcDpcclxuICAgICAgdG9Qb3NpdGlvbiA9IFBvc2l0aW9uLkJvdHRvbTtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSBQb3NpdGlvbi5Cb3R0b206XHJcbiAgICAgIHRvUG9zaXRpb24gPSBQb3NpdGlvbi5Ub3A7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuXHJcbiAgdmFyIHNvdXJjZVgsIHNvdXJjZVksIHNvdXJjZVBvc2l0aW9uLCB0YXJnZXRYLCB0YXJnZXRZLCB0YXJnZXRQb3NpdGlvbjtcclxuXHJcbiAgc3dpdGNoIChjb25uZWN0aW9uSGFuZGxlVHlwZSkge1xyXG4gICAgY2FzZSAnc291cmNlJzpcclxuICAgICAge1xyXG4gICAgICAgIHNvdXJjZVggPSBmcm9tWDtcclxuICAgICAgICBzb3VyY2VZID0gZnJvbVk7XHJcbiAgICAgICAgc291cmNlUG9zaXRpb24gPSBmcm9tUG9zaXRpb247XHJcbiAgICAgICAgdGFyZ2V0WCA9IHRvWDtcclxuICAgICAgICB0YXJnZXRZID0gdG9ZO1xyXG4gICAgICAgIHRhcmdldFBvc2l0aW9uID0gdG9Qb3NpdGlvbjtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlICd0YXJnZXQnOlxyXG4gICAgICB7XHJcbiAgICAgICAgc291cmNlWCA9IHRvWDtcclxuICAgICAgICBzb3VyY2VZID0gdG9ZO1xyXG4gICAgICAgIHNvdXJjZVBvc2l0aW9uID0gdG9Qb3NpdGlvbjtcclxuICAgICAgICB0YXJnZXRYID0gZnJvbVg7XHJcbiAgICAgICAgdGFyZ2V0WSA9IGZyb21ZO1xyXG4gICAgICAgIHRhcmdldFBvc2l0aW9uID0gZnJvbVBvc2l0aW9uO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuXHJcbiAgaWYgKEN1c3RvbUNvbm5lY3Rpb25MaW5lQ29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcclxuICAgICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2Nvbm5lY3Rpb25cIlxyXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ3VzdG9tQ29ubmVjdGlvbkxpbmVDb21wb25lbnQsIHtcclxuICAgICAgc291cmNlWDogc291cmNlWCxcclxuICAgICAgc291cmNlWTogc291cmNlWSxcclxuICAgICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxyXG4gICAgICB0YXJnZXRYOiB0YXJnZXRYLFxyXG4gICAgICB0YXJnZXRZOiB0YXJnZXRZLFxyXG4gICAgICB0YXJnZXRQb3NpdGlvbjogdGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIGNvbm5lY3Rpb25MaW5lVHlwZTogY29ubmVjdGlvbkxpbmVUeXBlLFxyXG4gICAgICBjb25uZWN0aW9uTGluZVN0eWxlOiBjb25uZWN0aW9uTGluZVN0eWxlLFxyXG4gICAgICBmcm9tTm9kZTogZnJvbU5vZGUuY3VycmVudCxcclxuICAgICAgZnJvbUhhbmRsZTogZnJvbUhhbmRsZSxcclxuICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgbWFyayBhcyBkZXByZWNhdGVkP1xyXG4gICAgICBzb3VyY2VOb2RlOiBmcm9tTm9kZS5jdXJyZW50LFxyXG4gICAgICBzb3VyY2VIYW5kbGU6IGZyb21IYW5kbGVcclxuICAgIH0pKTtcclxuICB9XHJcblxyXG4gIHZhciBkQXR0ciA9ICcnO1xyXG4gIHZhciBwYXRoUGFyYW1zID0ge1xyXG4gICAgc291cmNlWDogc291cmNlWCxcclxuICAgIHNvdXJjZVk6IHNvdXJjZVksXHJcbiAgICBzb3VyY2VQb3NpdGlvbjogc291cmNlUG9zaXRpb24sXHJcbiAgICB0YXJnZXRYOiB0YXJnZXRYLFxyXG4gICAgdGFyZ2V0WTogdGFyZ2V0WSxcclxuICAgIHRhcmdldFBvc2l0aW9uOiB0YXJnZXRQb3NpdGlvblxyXG4gIH07XHJcblxyXG4gIGlmIChjb25uZWN0aW9uTGluZVR5cGUgPT09IENvbm5lY3Rpb25MaW5lVHlwZS5CZXppZXIpIHtcclxuICAgIC8vIHdlIGFzc3VtZSB0aGUgZGVzdGluYXRpb24gcG9zaXRpb24gaXMgb3Bwb3NpdGUgdG8gdGhlIHNvdXJjZSBwb3NpdGlvblxyXG4gICAgZEF0dHIgPSBnZXRCZXppZXJQYXRoKHBhdGhQYXJhbXMpO1xyXG4gIH0gZWxzZSBpZiAoY29ubmVjdGlvbkxpbmVUeXBlID09PSBDb25uZWN0aW9uTGluZVR5cGUuU3RlcCkge1xyXG4gICAgZEF0dHIgPSBnZXRTbW9vdGhTdGVwUGF0aChfb2JqZWN0U3ByZWFkJDUoX29iamVjdFNwcmVhZCQ1KHt9LCBwYXRoUGFyYW1zKSwge30sIHtcclxuICAgICAgYm9yZGVyUmFkaXVzOiAwXHJcbiAgICB9KSk7XHJcbiAgfSBlbHNlIGlmIChjb25uZWN0aW9uTGluZVR5cGUgPT09IENvbm5lY3Rpb25MaW5lVHlwZS5TbW9vdGhTdGVwKSB7XHJcbiAgICBkQXR0ciA9IGdldFNtb290aFN0ZXBQYXRoKHBhdGhQYXJhbXMpO1xyXG4gIH0gZWxzZSBpZiAoY29ubmVjdGlvbkxpbmVUeXBlID09PSBDb25uZWN0aW9uTGluZVR5cGUuU2ltcGxlQmV6aWVyKSB7XHJcbiAgICBkQXR0ciA9IGdldFNpbXBsZUJlemllclBhdGgocGF0aFBhcmFtcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRBdHRyID0gXCJNXCIuY29uY2F0KHNvdXJjZVgsIFwiLFwiKS5jb25jYXQoc291cmNlWSwgXCIgXCIpLmNvbmNhdCh0YXJnZXRYLCBcIixcIikuY29uY2F0KHRhcmdldFkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7XHJcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fY29ubmVjdGlvblwiXHJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcclxuICAgIGQ6IGRBdHRyLFxyXG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2Nvbm5lY3Rpb24tcGF0aFwiLFxyXG4gICAgc3R5bGU6IGNvbm5lY3Rpb25MaW5lU3R5bGVcclxuICB9KSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcclxuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XHJcblxyXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XHJcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XHJcbiAgfSwgX3R5cGVvZihvYmopO1xyXG59XHJcblxyXG52YXIgX01hcmtlclN5bWJvbHM7XHJcblxyXG52YXIgQXJyb3dTeW1ib2wgPSBmdW5jdGlvbiBBcnJvd1N5bWJvbChfcmVmKSB7XHJcbiAgdmFyIF9yZWYkY29sb3IgPSBfcmVmLmNvbG9yLFxyXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/ICdub25lJyA6IF9yZWYkY29sb3IsXHJcbiAgICAgIF9yZWYkc3Ryb2tlV2lkdGggPSBfcmVmLnN0cm9rZVdpZHRoLFxyXG4gICAgICBzdHJva2VXaWR0aCA9IF9yZWYkc3Ryb2tlV2lkdGggPT09IHZvaWQgMCA/IDEgOiBfcmVmJHN0cm9rZVdpZHRoO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBvbHlsaW5lXCIsIHtcclxuICAgIHN0cm9rZTogY29sb3IsXHJcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXHJcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLFxyXG4gICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLFxyXG4gICAgZmlsbDogXCJub25lXCIsXHJcbiAgICBwb2ludHM6IFwiLTUsLTQgMCwwIC01LDRcIlxyXG4gIH0pO1xyXG59O1xyXG5cclxudmFyIEFycm93Q2xvc2VkU3ltYm9sID0gZnVuY3Rpb24gQXJyb3dDbG9zZWRTeW1ib2woX3JlZjIpIHtcclxuICB2YXIgX3JlZjIkY29sb3IgPSBfcmVmMi5jb2xvcixcclxuICAgICAgY29sb3IgPSBfcmVmMiRjb2xvciA9PT0gdm9pZCAwID8gJ25vbmUnIDogX3JlZjIkY29sb3IsXHJcbiAgICAgIF9yZWYyJHN0cm9rZVdpZHRoID0gX3JlZjIuc3Ryb2tlV2lkdGgsXHJcbiAgICAgIHN0cm9rZVdpZHRoID0gX3JlZjIkc3Ryb2tlV2lkdGggPT09IHZvaWQgMCA/IDEgOiBfcmVmMiRzdHJva2VXaWR0aDtcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwb2x5bGluZVwiLCB7XHJcbiAgICBzdHJva2U6IGNvbG9yLFxyXG4gICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxyXG4gICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIixcclxuICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcclxuICAgIGZpbGw6IGNvbG9yLFxyXG4gICAgcG9pbnRzOiBcIi01LC00IDAsMCAtNSw0IC01LC00XCJcclxuICB9KTtcclxufTtcclxuXHJcbnZhciBNYXJrZXJTeW1ib2xzID0gKF9NYXJrZXJTeW1ib2xzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfTWFya2VyU3ltYm9scywgTWFya2VyVHlwZS5BcnJvdywgQXJyb3dTeW1ib2wpLCBfZGVmaW5lUHJvcGVydHkoX01hcmtlclN5bWJvbHMsIE1hcmtlclR5cGUuQXJyb3dDbG9zZWQsIEFycm93Q2xvc2VkU3ltYm9sKSwgX01hcmtlclN5bWJvbHMpO1xyXG5mdW5jdGlvbiB1c2VNYXJrZXJTeW1ib2wodHlwZSkge1xyXG4gIHZhciBzeW1ib2wgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzeW1ib2xFeGlzdHMgPSBNYXJrZXJTeW1ib2xzLmhhc093blByb3BlcnR5KHR5cGUpO1xyXG5cclxuICAgIGlmICghc3ltYm9sRXhpc3RzKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcIm1hcmtlciB0eXBlIFxcXCJcIi5jb25jYXQodHlwZSwgXCJcXFwiIGRvZXNuJ3QgZXhpc3QuXCIpKTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTWFya2VyU3ltYm9sc1t0eXBlXTtcclxuICB9LCBbdHlwZV0pO1xyXG4gIHJldHVybiBzeW1ib2w7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG93bktleXMkNChvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkNChPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XHJcblxyXG52YXIgTWFya2VyID0gZnVuY3Rpb24gTWFya2VyKF9yZWYpIHtcclxuICB2YXIgaWQgPSBfcmVmLmlkLFxyXG4gICAgICB0eXBlID0gX3JlZi50eXBlLFxyXG4gICAgICBjb2xvciA9IF9yZWYuY29sb3IsXHJcbiAgICAgIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxyXG4gICAgICB3aWR0aCA9IF9yZWYkd2lkdGggPT09IHZvaWQgMCA/IDEyLjUgOiBfcmVmJHdpZHRoLFxyXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxyXG4gICAgICBoZWlnaHQgPSBfcmVmJGhlaWdodCA9PT0gdm9pZCAwID8gMTIuNSA6IF9yZWYkaGVpZ2h0LFxyXG4gICAgICBfcmVmJG1hcmtlclVuaXRzID0gX3JlZi5tYXJrZXJVbml0cyxcclxuICAgICAgbWFya2VyVW5pdHMgPSBfcmVmJG1hcmtlclVuaXRzID09PSB2b2lkIDAgPyAnc3Ryb2tlV2lkdGgnIDogX3JlZiRtYXJrZXJVbml0cyxcclxuICAgICAgc3Ryb2tlV2lkdGggPSBfcmVmLnN0cm9rZVdpZHRoLFxyXG4gICAgICBfcmVmJG9yaWVudCA9IF9yZWYub3JpZW50LFxyXG4gICAgICBvcmllbnQgPSBfcmVmJG9yaWVudCA9PT0gdm9pZCAwID8gJ2F1dG8nIDogX3JlZiRvcmllbnQ7XHJcblxyXG4gIHZhciBfU3ltYm9sID0gdXNlTWFya2VyU3ltYm9sKHR5cGUpO1xyXG5cclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJtYXJrZXJcIiwge1xyXG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2Fycm93aGVhZFwiLFxyXG4gICAgaWQ6IGlkLFxyXG4gICAgbWFya2VyV2lkdGg6IFwiXCIuY29uY2F0KHdpZHRoKSxcclxuICAgIG1hcmtlckhlaWdodDogXCJcIi5jb25jYXQoaGVpZ2h0KSxcclxuICAgIHZpZXdCb3g6IFwiLTEwIC0xMCAyMCAyMFwiLFxyXG4gICAgbWFya2VyVW5pdHM6IG1hcmtlclVuaXRzLFxyXG4gICAgb3JpZW50OiBvcmllbnQsXHJcbiAgICByZWZYOiBcIjBcIixcclxuICAgIHJlZlk6IFwiMFwiXHJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1N5bWJvbCwge1xyXG4gICAgY29sb3I6IGNvbG9yLFxyXG4gICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoXHJcbiAgfSkpO1xyXG59O1xyXG5cclxudmFyIGVkZ2VzU2VsZWN0b3IgPSBmdW5jdGlvbiBlZGdlc1NlbGVjdG9yKHMpIHtcclxuICByZXR1cm4gcy5lZGdlcztcclxufTtcclxuXHJcbnZhciBNYXJrZXJEZWZpbml0aW9ucyA9IGZ1bmN0aW9uIE1hcmtlckRlZmluaXRpb25zKF9yZWYyKSB7XHJcbiAgdmFyIGRlZmF1bHRDb2xvciA9IF9yZWYyLmRlZmF1bHRDb2xvcjtcclxuICB2YXIgZWRnZXMgPSB1c2VTdG9yZShlZGdlc1NlbGVjdG9yKTtcclxuICB2YXIgbWFya2VycyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGlkcyA9IFtdO1xyXG4gICAgcmV0dXJuIGVkZ2VzLnJlZHVjZShmdW5jdGlvbiAobWFya2VycywgZWRnZSkge1xyXG4gICAgICBbZWRnZS5tYXJrZXJTdGFydCwgZWRnZS5tYXJrZXJFbmRdLmZvckVhY2goZnVuY3Rpb24gKG1hcmtlcikge1xyXG4gICAgICAgIGlmIChtYXJrZXIgJiYgX3R5cGVvZihtYXJrZXIpID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgdmFyIG1hcmtlcklkID0gZ2V0TWFya2VySWQobWFya2VyKTtcclxuXHJcbiAgICAgICAgICBpZiAoIWlkcy5pbmNsdWRlcyhtYXJrZXJJZCkpIHtcclxuICAgICAgICAgICAgbWFya2Vycy5wdXNoKF9vYmplY3RTcHJlYWQkNCh7XHJcbiAgICAgICAgICAgICAgaWQ6IG1hcmtlcklkLFxyXG4gICAgICAgICAgICAgIGNvbG9yOiBtYXJrZXIuY29sb3IgfHwgZGVmYXVsdENvbG9yXHJcbiAgICAgICAgICAgIH0sIG1hcmtlcikpO1xyXG4gICAgICAgICAgICBpZHMucHVzaChtYXJrZXJJZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIG1hcmtlcnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIHJldHVybiBhLmlkLmxvY2FsZUNvbXBhcmUoYi5pZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgW10pO1xyXG4gIH0sIFtlZGdlcywgZGVmYXVsdENvbG9yXSk7XHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLCBtYXJrZXJzLm1hcChmdW5jdGlvbiAobWFya2VyKSB7XHJcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTWFya2VyLCB7XHJcbiAgICAgIGlkOiBtYXJrZXIuaWQsXHJcbiAgICAgIGtleTogbWFya2VyLmlkLFxyXG4gICAgICB0eXBlOiBtYXJrZXIudHlwZSxcclxuICAgICAgY29sb3I6IG1hcmtlci5jb2xvcixcclxuICAgICAgd2lkdGg6IG1hcmtlci53aWR0aCxcclxuICAgICAgaGVpZ2h0OiBtYXJrZXIuaGVpZ2h0LFxyXG4gICAgICBtYXJrZXJVbml0czogbWFya2VyLm1hcmtlclVuaXRzLFxyXG4gICAgICBzdHJva2VXaWR0aDogbWFya2VyLnN0cm9rZVdpZHRoLFxyXG4gICAgICBvcmllbnQ6IG1hcmtlci5vcmllbnRcclxuICAgIH0pO1xyXG4gIH0pKTtcclxufTtcclxuXHJcbk1hcmtlckRlZmluaXRpb25zLmRpc3BsYXlOYW1lID0gJ01hcmtlckRlZmluaXRpb25zJztcclxuXHJcbnZhciBkZWZhdWx0RWRnZVRyZWUgPSBbe1xyXG4gIGxldmVsOiAwLFxyXG4gIGlzTWF4TGV2ZWw6IHRydWUsXHJcbiAgZWRnZXM6IFtdXHJcbn1dO1xyXG5cclxuZnVuY3Rpb24gZ3JvdXBFZGdlc0J5WkxldmVsKGVkZ2VzLCBub2RlSW50ZXJuYWxzKSB7XHJcbiAgdmFyIG1heExldmVsID0gLTE7XHJcbiAgdmFyIGxldmVsTG9va3VwID0gZWRnZXMucmVkdWNlKGZ1bmN0aW9uICh0cmVlLCBlZGdlKSB7XHJcbiAgICB2YXIgX25vZGVJbnRlcm5hbHMkZ2V0LCBfbm9kZUludGVybmFscyRnZXQyO1xyXG5cclxuICAgIHZhciB6ID0gaXNOdW1lcmljKGVkZ2UuekluZGV4KSA/IGVkZ2UuekluZGV4IDogTWF0aC5tYXgoKChfbm9kZUludGVybmFscyRnZXQgPSBub2RlSW50ZXJuYWxzLmdldChlZGdlLnNvdXJjZSkpID09PSBudWxsIHx8IF9ub2RlSW50ZXJuYWxzJGdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGVJbnRlcm5hbHMkZ2V0LnopIHx8IDAsICgoX25vZGVJbnRlcm5hbHMkZ2V0MiA9IG5vZGVJbnRlcm5hbHMuZ2V0KGVkZ2UudGFyZ2V0KSkgPT09IG51bGwgfHwgX25vZGVJbnRlcm5hbHMkZ2V0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGVJbnRlcm5hbHMkZ2V0Mi56KSB8fCAwKTtcclxuXHJcbiAgICBpZiAodHJlZVt6XSkge1xyXG4gICAgICB0cmVlW3pdLnB1c2goZWRnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0cmVlW3pdID0gW2VkZ2VdO1xyXG4gICAgfVxyXG5cclxuICAgIG1heExldmVsID0geiA+IG1heExldmVsID8geiA6IG1heExldmVsO1xyXG4gICAgcmV0dXJuIHRyZWU7XHJcbiAgfSwge30pO1xyXG4gIHZhciBlZGdlVHJlZSA9IE9iamVjdC5lbnRyaWVzKGxldmVsTG9va3VwKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcclxuICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxyXG4gICAgICAgIGtleSA9IF9yZWYyWzBdLFxyXG4gICAgICAgIGVkZ2VzID0gX3JlZjJbMV07XHJcblxyXG4gICAgdmFyIGxldmVsID0gK2tleTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGVkZ2VzOiBlZGdlcyxcclxuICAgICAgbGV2ZWw6IGxldmVsLFxyXG4gICAgICBpc01heExldmVsOiBsZXZlbCA9PT0gbWF4TGV2ZWxcclxuICAgIH07XHJcbiAgfSk7XHJcblxyXG4gIGlmIChlZGdlVHJlZS5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiBkZWZhdWx0RWRnZVRyZWU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZWRnZVRyZWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzZVZpc2libGVFZGdlcyhvbmx5UmVuZGVyVmlzaWJsZSwgbm9kZUludGVybmFscykge1xyXG4gIHZhciBlZGdlcyA9IHVzZVN0b3JlKHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzKSB7XHJcbiAgICBpZiAoIW9ubHlSZW5kZXJWaXNpYmxlKSB7XHJcbiAgICAgIHJldHVybiBzLmVkZ2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzLmVkZ2VzLmZpbHRlcihmdW5jdGlvbiAoZSkge1xyXG4gICAgICB2YXIgc291cmNlTm9kZSA9IG5vZGVJbnRlcm5hbHMuZ2V0KGUuc291cmNlKTtcclxuICAgICAgdmFyIHRhcmdldE5vZGUgPSBub2RlSW50ZXJuYWxzLmdldChlLnRhcmdldCk7XHJcbiAgICAgIHJldHVybiAoc291cmNlTm9kZSA9PT0gbnVsbCB8fCBzb3VyY2VOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VOb2RlLndpZHRoKSAmJiAoc291cmNlTm9kZSA9PT0gbnVsbCB8fCBzb3VyY2VOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2VOb2RlLmhlaWdodCkgJiYgKHRhcmdldE5vZGUgPT09IG51bGwgfHwgdGFyZ2V0Tm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0Tm9kZS53aWR0aCkgJiYgKHRhcmdldE5vZGUgPT09IG51bGwgfHwgdGFyZ2V0Tm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0Tm9kZS5oZWlnaHQpICYmIGlzRWRnZVZpc2libGUoe1xyXG4gICAgICAgIHNvdXJjZVBvczogc291cmNlTm9kZS5wb3NpdGlvbiB8fCB7XHJcbiAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgeTogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFyZ2V0UG9zOiB0YXJnZXROb2RlLnBvc2l0aW9uIHx8IHtcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzb3VyY2VXaWR0aDogc291cmNlTm9kZS53aWR0aCxcclxuICAgICAgICBzb3VyY2VIZWlnaHQ6IHNvdXJjZU5vZGUuaGVpZ2h0LFxyXG4gICAgICAgIHRhcmdldFdpZHRoOiB0YXJnZXROb2RlLndpZHRoLFxyXG4gICAgICAgIHRhcmdldEhlaWdodDogdGFyZ2V0Tm9kZS5oZWlnaHQsXHJcbiAgICAgICAgd2lkdGg6IHMud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBzLmhlaWdodCxcclxuICAgICAgICB0cmFuc2Zvcm06IHMudHJhbnNmb3JtXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSwgW29ubHlSZW5kZXJWaXNpYmxlLCBub2RlSW50ZXJuYWxzXSkpO1xyXG4gIHJldHVybiBncm91cEVkZ2VzQnlaTGV2ZWwoZWRnZXMsIG5vZGVJbnRlcm5hbHMpO1xyXG59XHJcblxyXG52YXIgc2VsZWN0b3IkMiA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgY29ubmVjdGlvbk5vZGVJZDogcy5jb25uZWN0aW9uTm9kZUlkLFxyXG4gICAgY29ubmVjdGlvbkhhbmRsZUlkOiBzLmNvbm5lY3Rpb25IYW5kbGVJZCxcclxuICAgIGNvbm5lY3Rpb25IYW5kbGVUeXBlOiBzLmNvbm5lY3Rpb25IYW5kbGVUeXBlLFxyXG4gICAgY29ubmVjdGlvblBvc2l0aW9uOiBzLmNvbm5lY3Rpb25Qb3NpdGlvbixcclxuICAgIG5vZGVzQ29ubmVjdGFibGU6IHMubm9kZXNDb25uZWN0YWJsZSxcclxuICAgIGVsZW1lbnRzU2VsZWN0YWJsZTogcy5lbGVtZW50c1NlbGVjdGFibGUsXHJcbiAgICB3aWR0aDogcy53aWR0aCxcclxuICAgIGhlaWdodDogcy5oZWlnaHQsXHJcbiAgICBjb25uZWN0aW9uTW9kZTogcy5jb25uZWN0aW9uTW9kZSxcclxuICAgIG5vZGVJbnRlcm5hbHM6IHMubm9kZUludGVybmFsc1xyXG4gIH07XHJcbn07XHJcblxyXG52YXIgRWRnZVJlbmRlcmVyID0gZnVuY3Rpb24gRWRnZVJlbmRlcmVyKHByb3BzKSB7XHJcbiAgdmFyIF91c2VTdG9yZSA9IHVzZVN0b3JlKHNlbGVjdG9yJDIsIHNoYWxsb3cpLFxyXG4gICAgICBjb25uZWN0aW9uTm9kZUlkID0gX3VzZVN0b3JlLmNvbm5lY3Rpb25Ob2RlSWQsXHJcbiAgICAgIGNvbm5lY3Rpb25IYW5kbGVJZCA9IF91c2VTdG9yZS5jb25uZWN0aW9uSGFuZGxlSWQsXHJcbiAgICAgIGNvbm5lY3Rpb25IYW5kbGVUeXBlID0gX3VzZVN0b3JlLmNvbm5lY3Rpb25IYW5kbGVUeXBlLFxyXG4gICAgICBjb25uZWN0aW9uUG9zaXRpb24gPSBfdXNlU3RvcmUuY29ubmVjdGlvblBvc2l0aW9uLFxyXG4gICAgICBub2Rlc0Nvbm5lY3RhYmxlID0gX3VzZVN0b3JlLm5vZGVzQ29ubmVjdGFibGUsXHJcbiAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZSA9IF91c2VTdG9yZS5lbGVtZW50c1NlbGVjdGFibGUsXHJcbiAgICAgIHdpZHRoID0gX3VzZVN0b3JlLndpZHRoLFxyXG4gICAgICBoZWlnaHQgPSBfdXNlU3RvcmUuaGVpZ2h0LFxyXG4gICAgICBjb25uZWN0aW9uTW9kZSA9IF91c2VTdG9yZS5jb25uZWN0aW9uTW9kZSxcclxuICAgICAgbm9kZUludGVybmFscyA9IF91c2VTdG9yZS5ub2RlSW50ZXJuYWxzO1xyXG5cclxuICB2YXIgZWRnZVRyZWUgPSB1c2VWaXNpYmxlRWRnZXMocHJvcHMub25seVJlbmRlclZpc2libGVFbGVtZW50cywgbm9kZUludGVybmFscyk7XHJcblxyXG4gIGlmICghd2lkdGgpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgdmFyIGNvbm5lY3Rpb25MaW5lVHlwZSA9IHByb3BzLmNvbm5lY3Rpb25MaW5lVHlwZSxcclxuICAgICAgZGVmYXVsdE1hcmtlckNvbG9yID0gcHJvcHMuZGVmYXVsdE1hcmtlckNvbG9yLFxyXG4gICAgICBjb25uZWN0aW9uTGluZVN0eWxlID0gcHJvcHMuY29ubmVjdGlvbkxpbmVTdHlsZSxcclxuICAgICAgY29ubmVjdGlvbkxpbmVDb21wb25lbnQgPSBwcm9wcy5jb25uZWN0aW9uTGluZUNvbXBvbmVudDtcclxuICB2YXIgcmVuZGVyQ29ubmVjdGlvbkxpbmUgPSBjb25uZWN0aW9uTm9kZUlkICYmIGNvbm5lY3Rpb25IYW5kbGVUeXBlO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgZWRnZVRyZWUubWFwKGZ1bmN0aW9uIChfcmVmKSB7XHJcbiAgICB2YXIgbGV2ZWwgPSBfcmVmLmxldmVsLFxyXG4gICAgICAgIGVkZ2VzID0gX3JlZi5lZGdlcyxcclxuICAgICAgICBpc01heExldmVsID0gX3JlZi5pc01heExldmVsO1xyXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcclxuICAgICAga2V5OiBsZXZlbCxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICB6SW5kZXg6IGxldmVsXHJcbiAgICAgIH0sXHJcbiAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXHJcbiAgICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19lZGdlcyByZWFjdC1mbG93X19jb250YWluZXJcIlxyXG4gICAgfSwgaXNNYXhMZXZlbCAmJiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChNYXJrZXJEZWZpbml0aW9ucywge1xyXG4gICAgICBkZWZhdWx0Q29sb3I6IGRlZmF1bHRNYXJrZXJDb2xvclxyXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBudWxsLCBlZGdlcy5tYXAoZnVuY3Rpb24gKGVkZ2UpIHtcclxuICAgICAgdmFyIF9nZXROb2RlRGF0YSA9IGdldE5vZGVEYXRhKG5vZGVJbnRlcm5hbHMsIGVkZ2Uuc291cmNlKSxcclxuICAgICAgICAgIF9nZXROb2RlRGF0YTIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Tm9kZURhdGEsIDMpLFxyXG4gICAgICAgICAgc291cmNlTm9kZVJlY3QgPSBfZ2V0Tm9kZURhdGEyWzBdLFxyXG4gICAgICAgICAgc291cmNlSGFuZGxlQm91bmRzID0gX2dldE5vZGVEYXRhMlsxXSxcclxuICAgICAgICAgIHNvdXJjZUlzVmFsaWQgPSBfZ2V0Tm9kZURhdGEyWzJdO1xyXG5cclxuICAgICAgdmFyIF9nZXROb2RlRGF0YTMgPSBnZXROb2RlRGF0YShub2RlSW50ZXJuYWxzLCBlZGdlLnRhcmdldCksXHJcbiAgICAgICAgICBfZ2V0Tm9kZURhdGE0ID0gX3NsaWNlZFRvQXJyYXkoX2dldE5vZGVEYXRhMywgMyksXHJcbiAgICAgICAgICB0YXJnZXROb2RlUmVjdCA9IF9nZXROb2RlRGF0YTRbMF0sXHJcbiAgICAgICAgICB0YXJnZXRIYW5kbGVCb3VuZHMgPSBfZ2V0Tm9kZURhdGE0WzFdLFxyXG4gICAgICAgICAgdGFyZ2V0SXNWYWxpZCA9IF9nZXROb2RlRGF0YTRbMl07XHJcblxyXG4gICAgICBpZiAoIXNvdXJjZUlzVmFsaWQgfHwgIXRhcmdldElzVmFsaWQpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGVkZ2VUeXBlID0gZWRnZS50eXBlIHx8ICdkZWZhdWx0JztcclxuICAgICAgdmFyIEVkZ2VDb21wb25lbnQgPSBwcm9wcy5lZGdlVHlwZXNbZWRnZVR5cGVdIHx8IHByb3BzLmVkZ2VUeXBlc1tcImRlZmF1bHRcIl07IC8vIHdoZW4gY29ubmVjdGlvbiB0eXBlIGlzIGxvb3NlIHdlIGNhbiBkZWZpbmUgYWxsIGhhbmRsZXMgYXMgc291cmNlc1xyXG5cclxuICAgICAgdmFyIHRhcmdldE5vZGVIYW5kbGVzID0gY29ubmVjdGlvbk1vZGUgPT09IENvbm5lY3Rpb25Nb2RlLlN0cmljdCA/IHRhcmdldEhhbmRsZUJvdW5kcy50YXJnZXQgOiB0YXJnZXRIYW5kbGVCb3VuZHMudGFyZ2V0IHx8IHRhcmdldEhhbmRsZUJvdW5kcy5zb3VyY2U7XHJcbiAgICAgIHZhciBzb3VyY2VIYW5kbGUgPSBnZXRIYW5kbGUoc291cmNlSGFuZGxlQm91bmRzLnNvdXJjZSwgZWRnZS5zb3VyY2VIYW5kbGUgfHwgbnVsbCk7XHJcbiAgICAgIHZhciB0YXJnZXRIYW5kbGUgPSBnZXRIYW5kbGUodGFyZ2V0Tm9kZUhhbmRsZXMsIGVkZ2UudGFyZ2V0SGFuZGxlIHx8IG51bGwpO1xyXG4gICAgICB2YXIgc291cmNlUG9zaXRpb24gPSAoc291cmNlSGFuZGxlID09PSBudWxsIHx8IHNvdXJjZUhhbmRsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlSGFuZGxlLnBvc2l0aW9uKSB8fCBQb3NpdGlvbi5Cb3R0b207XHJcbiAgICAgIHZhciB0YXJnZXRQb3NpdGlvbiA9ICh0YXJnZXRIYW5kbGUgPT09IG51bGwgfHwgdGFyZ2V0SGFuZGxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXJnZXRIYW5kbGUucG9zaXRpb24pIHx8IFBvc2l0aW9uLlRvcDtcclxuXHJcbiAgICAgIGlmICghc291cmNlSGFuZGxlKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiY291bGRuJ3QgY3JlYXRlIGVkZ2UgZm9yIHNvdXJjZSBoYW5kbGUgaWQ6IFwiLmNvbmNhdChlZGdlLnNvdXJjZUhhbmRsZSwgXCI7IGVkZ2UgaWQ6IFwiKS5jb25jYXQoZWRnZS5pZCkpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRhcmdldEhhbmRsZSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcImNvdWxkbid0IGNyZWF0ZSBlZGdlIGZvciB0YXJnZXQgaGFuZGxlIGlkOiBcIi5jb25jYXQoZWRnZS50YXJnZXRIYW5kbGUsIFwiOyBlZGdlIGlkOiBcIikuY29uY2F0KGVkZ2UuaWQpKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIF9nZXRFZGdlUG9zaXRpb25zID0gZ2V0RWRnZVBvc2l0aW9ucyhzb3VyY2VOb2RlUmVjdCwgc291cmNlSGFuZGxlLCBzb3VyY2VQb3NpdGlvbiwgdGFyZ2V0Tm9kZVJlY3QsIHRhcmdldEhhbmRsZSwgdGFyZ2V0UG9zaXRpb24pLFxyXG4gICAgICAgICAgc291cmNlWCA9IF9nZXRFZGdlUG9zaXRpb25zLnNvdXJjZVgsXHJcbiAgICAgICAgICBzb3VyY2VZID0gX2dldEVkZ2VQb3NpdGlvbnMuc291cmNlWSxcclxuICAgICAgICAgIHRhcmdldFggPSBfZ2V0RWRnZVBvc2l0aW9ucy50YXJnZXRYLFxyXG4gICAgICAgICAgdGFyZ2V0WSA9IF9nZXRFZGdlUG9zaXRpb25zLnRhcmdldFk7XHJcblxyXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRWRnZUNvbXBvbmVudCwge1xyXG4gICAgICAgIGtleTogZWRnZS5pZCxcclxuICAgICAgICBpZDogZWRnZS5pZCxcclxuICAgICAgICBjbGFzc05hbWU6IGNjKFtlZGdlLmNsYXNzTmFtZSwgcHJvcHMubm9QYW5DbGFzc05hbWVdKSxcclxuICAgICAgICB0eXBlOiBlZGdlVHlwZSxcclxuICAgICAgICBkYXRhOiBlZGdlLmRhdGEsXHJcbiAgICAgICAgc2VsZWN0ZWQ6ICEhZWRnZS5zZWxlY3RlZCxcclxuICAgICAgICBhbmltYXRlZDogISFlZGdlLmFuaW1hdGVkLFxyXG4gICAgICAgIGhpZGRlbjogISFlZGdlLmhpZGRlbixcclxuICAgICAgICBsYWJlbDogZWRnZS5sYWJlbCxcclxuICAgICAgICBsYWJlbFN0eWxlOiBlZGdlLmxhYmVsU3R5bGUsXHJcbiAgICAgICAgbGFiZWxTaG93Qmc6IGVkZ2UubGFiZWxTaG93QmcsXHJcbiAgICAgICAgbGFiZWxCZ1N0eWxlOiBlZGdlLmxhYmVsQmdTdHlsZSxcclxuICAgICAgICBsYWJlbEJnUGFkZGluZzogZWRnZS5sYWJlbEJnUGFkZGluZyxcclxuICAgICAgICBsYWJlbEJnQm9yZGVyUmFkaXVzOiBlZGdlLmxhYmVsQmdCb3JkZXJSYWRpdXMsXHJcbiAgICAgICAgc3R5bGU6IGVkZ2Uuc3R5bGUsXHJcbiAgICAgICAgc291cmNlOiBlZGdlLnNvdXJjZSxcclxuICAgICAgICB0YXJnZXQ6IGVkZ2UudGFyZ2V0LFxyXG4gICAgICAgIHNvdXJjZUhhbmRsZUlkOiBlZGdlLnNvdXJjZUhhbmRsZSxcclxuICAgICAgICB0YXJnZXRIYW5kbGVJZDogZWRnZS50YXJnZXRIYW5kbGUsXHJcbiAgICAgICAgbWFya2VyRW5kOiBlZGdlLm1hcmtlckVuZCxcclxuICAgICAgICBtYXJrZXJTdGFydDogZWRnZS5tYXJrZXJTdGFydCxcclxuICAgICAgICBzb3VyY2VYOiBzb3VyY2VYLFxyXG4gICAgICAgIHNvdXJjZVk6IHNvdXJjZVksXHJcbiAgICAgICAgdGFyZ2V0WDogdGFyZ2V0WCxcclxuICAgICAgICB0YXJnZXRZOiB0YXJnZXRZLFxyXG4gICAgICAgIHNvdXJjZVBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcclxuICAgICAgICB0YXJnZXRQb3NpdGlvbjogdGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgICAgZWxlbWVudHNTZWxlY3RhYmxlOiBlbGVtZW50c1NlbGVjdGFibGUsXHJcbiAgICAgICAgb25FZGdlVXBkYXRlOiBwcm9wcy5vbkVkZ2VVcGRhdGUsXHJcbiAgICAgICAgb25Db250ZXh0TWVudTogcHJvcHMub25FZGdlQ29udGV4dE1lbnUsXHJcbiAgICAgICAgb25Nb3VzZUVudGVyOiBwcm9wcy5vbkVkZ2VNb3VzZUVudGVyLFxyXG4gICAgICAgIG9uTW91c2VNb3ZlOiBwcm9wcy5vbkVkZ2VNb3VzZU1vdmUsXHJcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBwcm9wcy5vbkVkZ2VNb3VzZUxlYXZlLFxyXG4gICAgICAgIG9uQ2xpY2s6IHByb3BzLm9uRWRnZUNsaWNrLFxyXG4gICAgICAgIGVkZ2VVcGRhdGVyUmFkaXVzOiBwcm9wcy5lZGdlVXBkYXRlclJhZGl1cyxcclxuICAgICAgICBvbkVkZ2VEb3VibGVDbGljazogcHJvcHMub25FZGdlRG91YmxlQ2xpY2ssXHJcbiAgICAgICAgb25FZGdlVXBkYXRlU3RhcnQ6IHByb3BzLm9uRWRnZVVwZGF0ZVN0YXJ0LFxyXG4gICAgICAgIG9uRWRnZVVwZGF0ZUVuZDogcHJvcHMub25FZGdlVXBkYXRlRW5kXHJcbiAgICAgIH0pO1xyXG4gICAgfSksIHJlbmRlckNvbm5lY3Rpb25MaW5lICYmIGlzTWF4TGV2ZWwgJiYgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGlvbkxpbmUsIHtcclxuICAgICAgY29ubmVjdGlvbk5vZGVJZDogY29ubmVjdGlvbk5vZGVJZCxcclxuICAgICAgY29ubmVjdGlvbkhhbmRsZUlkOiBjb25uZWN0aW9uSGFuZGxlSWQsXHJcbiAgICAgIGNvbm5lY3Rpb25IYW5kbGVUeXBlOiBjb25uZWN0aW9uSGFuZGxlVHlwZSxcclxuICAgICAgY29ubmVjdGlvblBvc2l0aW9uWDogY29ubmVjdGlvblBvc2l0aW9uLngsXHJcbiAgICAgIGNvbm5lY3Rpb25Qb3NpdGlvblk6IGNvbm5lY3Rpb25Qb3NpdGlvbi55LFxyXG4gICAgICBjb25uZWN0aW9uTGluZVN0eWxlOiBjb25uZWN0aW9uTGluZVN0eWxlLFxyXG4gICAgICBjb25uZWN0aW9uTGluZVR5cGU6IGNvbm5lY3Rpb25MaW5lVHlwZSxcclxuICAgICAgaXNDb25uZWN0YWJsZTogbm9kZXNDb25uZWN0YWJsZSxcclxuICAgICAgQ3VzdG9tQ29ubmVjdGlvbkxpbmVDb21wb25lbnQ6IGNvbm5lY3Rpb25MaW5lQ29tcG9uZW50XHJcbiAgICB9KSkpO1xyXG4gIH0pKTtcclxufTtcclxuXHJcbkVkZ2VSZW5kZXJlci5kaXNwbGF5TmFtZSA9ICdFZGdlUmVuZGVyZXInO1xyXG52YXIgRWRnZVJlbmRlcmVyJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhFZGdlUmVuZGVyZXIpO1xyXG5cclxudmFyIHNlbGVjdG9yJDEgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XHJcbiAgcmV0dXJuIHMudHJhbnNmb3JtO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gVmlld3BvcnQoX3JlZikge1xyXG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XHJcbiAgdmFyIHRyYW5zZm9ybSA9IHVzZVN0b3JlKHNlbGVjdG9yJDEpO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fdmlld3BvcnQgcmVhY3QtZmxvd19fY29udGFpbmVyXCIsXHJcbiAgICBzdHlsZToge1xyXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiLmNvbmNhdCh0cmFuc2Zvcm1bMF0sIFwicHgsXCIpLmNvbmNhdCh0cmFuc2Zvcm1bMV0sIFwicHgpIHNjYWxlKFwiKS5jb25jYXQodHJhbnNmb3JtWzJdLCBcIilcIilcclxuICAgIH1cclxuICB9LCBjaGlsZHJlbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzZU9uSW5pdEhhbmRsZXIob25Jbml0KSB7XHJcbiAgdmFyIFJlYWN0Rmxvd0luc3RhbmNlID0gdXNlUmVhY3RGbG93KCk7XHJcbiAgdmFyIGlzSW5pdGlhbGl6ZWQgPSB1c2VSZWYoZmFsc2UpO1xyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWQuY3VycmVudCAmJiBSZWFjdEZsb3dJbnN0YW5jZS52aWV3cG9ydEluaXRpYWxpemVkICYmIG9uSW5pdCkge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gb25Jbml0KFJlYWN0Rmxvd0luc3RhbmNlKTtcclxuICAgICAgfSwgMSk7XHJcbiAgICAgIGlzSW5pdGlhbGl6ZWQuY3VycmVudCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSwgW29uSW5pdCwgUmVhY3RGbG93SW5zdGFuY2Uudmlld3BvcnRJbml0aWFsaXplZF0pO1xyXG59XHJcblxyXG52YXIgR3JhcGhWaWV3ID0gZnVuY3Rpb24gR3JhcGhWaWV3KF9yZWYpIHtcclxuICB2YXIgbm9kZVR5cGVzID0gX3JlZi5ub2RlVHlwZXMsXHJcbiAgICAgIGVkZ2VUeXBlcyA9IF9yZWYuZWRnZVR5cGVzLFxyXG4gICAgICBvbk1vdmUgPSBfcmVmLm9uTW92ZSxcclxuICAgICAgb25Nb3ZlU3RhcnQgPSBfcmVmLm9uTW92ZVN0YXJ0LFxyXG4gICAgICBvbk1vdmVFbmQgPSBfcmVmLm9uTW92ZUVuZCxcclxuICAgICAgb25Jbml0ID0gX3JlZi5vbkluaXQsXHJcbiAgICAgIG9uTm9kZUNsaWNrID0gX3JlZi5vbk5vZGVDbGljayxcclxuICAgICAgb25FZGdlQ2xpY2sgPSBfcmVmLm9uRWRnZUNsaWNrLFxyXG4gICAgICBvbk5vZGVEb3VibGVDbGljayA9IF9yZWYub25Ob2RlRG91YmxlQ2xpY2ssXHJcbiAgICAgIG9uRWRnZURvdWJsZUNsaWNrID0gX3JlZi5vbkVkZ2VEb3VibGVDbGljayxcclxuICAgICAgb25Ob2RlTW91c2VFbnRlciA9IF9yZWYub25Ob2RlTW91c2VFbnRlcixcclxuICAgICAgb25Ob2RlTW91c2VNb3ZlID0gX3JlZi5vbk5vZGVNb3VzZU1vdmUsXHJcbiAgICAgIG9uTm9kZU1vdXNlTGVhdmUgPSBfcmVmLm9uTm9kZU1vdXNlTGVhdmUsXHJcbiAgICAgIG9uTm9kZUNvbnRleHRNZW51ID0gX3JlZi5vbk5vZGVDb250ZXh0TWVudSxcclxuICAgICAgb25Ob2RlRHJhZ1N0YXJ0ID0gX3JlZi5vbk5vZGVEcmFnU3RhcnQsXHJcbiAgICAgIG9uTm9kZURyYWcgPSBfcmVmLm9uTm9kZURyYWcsXHJcbiAgICAgIG9uTm9kZURyYWdTdG9wID0gX3JlZi5vbk5vZGVEcmFnU3RvcCxcclxuICAgICAgb25TZWxlY3Rpb25EcmFnU3RhcnQgPSBfcmVmLm9uU2VsZWN0aW9uRHJhZ1N0YXJ0LFxyXG4gICAgICBvblNlbGVjdGlvbkRyYWcgPSBfcmVmLm9uU2VsZWN0aW9uRHJhZyxcclxuICAgICAgb25TZWxlY3Rpb25EcmFnU3RvcCA9IF9yZWYub25TZWxlY3Rpb25EcmFnU3RvcCxcclxuICAgICAgb25TZWxlY3Rpb25Db250ZXh0TWVudSA9IF9yZWYub25TZWxlY3Rpb25Db250ZXh0TWVudSxcclxuICAgICAgY29ubmVjdGlvbkxpbmVUeXBlID0gX3JlZi5jb25uZWN0aW9uTGluZVR5cGUsXHJcbiAgICAgIGNvbm5lY3Rpb25MaW5lU3R5bGUgPSBfcmVmLmNvbm5lY3Rpb25MaW5lU3R5bGUsXHJcbiAgICAgIGNvbm5lY3Rpb25MaW5lQ29tcG9uZW50ID0gX3JlZi5jb25uZWN0aW9uTGluZUNvbXBvbmVudCxcclxuICAgICAgc2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYuc2VsZWN0aW9uS2V5Q29kZSxcclxuICAgICAgbXVsdGlTZWxlY3Rpb25LZXlDb2RlID0gX3JlZi5tdWx0aVNlbGVjdGlvbktleUNvZGUsXHJcbiAgICAgIHpvb21BY3RpdmF0aW9uS2V5Q29kZSA9IF9yZWYuem9vbUFjdGl2YXRpb25LZXlDb2RlLFxyXG4gICAgICBkZWxldGVLZXlDb2RlID0gX3JlZi5kZWxldGVLZXlDb2RlLFxyXG4gICAgICBvbmx5UmVuZGVyVmlzaWJsZUVsZW1lbnRzID0gX3JlZi5vbmx5UmVuZGVyVmlzaWJsZUVsZW1lbnRzLFxyXG4gICAgICBlbGVtZW50c1NlbGVjdGFibGUgPSBfcmVmLmVsZW1lbnRzU2VsZWN0YWJsZSxcclxuICAgICAgc2VsZWN0Tm9kZXNPbkRyYWcgPSBfcmVmLnNlbGVjdE5vZGVzT25EcmFnLFxyXG4gICAgICBkZWZhdWx0Wm9vbSA9IF9yZWYuZGVmYXVsdFpvb20sXHJcbiAgICAgIGRlZmF1bHRQb3NpdGlvbiA9IF9yZWYuZGVmYXVsdFBvc2l0aW9uLFxyXG4gICAgICBwcmV2ZW50U2Nyb2xsaW5nID0gX3JlZi5wcmV2ZW50U2Nyb2xsaW5nLFxyXG4gICAgICBkZWZhdWx0TWFya2VyQ29sb3IgPSBfcmVmLmRlZmF1bHRNYXJrZXJDb2xvcixcclxuICAgICAgem9vbU9uU2Nyb2xsID0gX3JlZi56b29tT25TY3JvbGwsXHJcbiAgICAgIHpvb21PblBpbmNoID0gX3JlZi56b29tT25QaW5jaCxcclxuICAgICAgcGFuT25TY3JvbGwgPSBfcmVmLnBhbk9uU2Nyb2xsLFxyXG4gICAgICBwYW5PblNjcm9sbFNwZWVkID0gX3JlZi5wYW5PblNjcm9sbFNwZWVkLFxyXG4gICAgICBwYW5PblNjcm9sbE1vZGUgPSBfcmVmLnBhbk9uU2Nyb2xsTW9kZSxcclxuICAgICAgem9vbU9uRG91YmxlQ2xpY2sgPSBfcmVmLnpvb21PbkRvdWJsZUNsaWNrLFxyXG4gICAgICBwYW5PbkRyYWcgPSBfcmVmLnBhbk9uRHJhZyxcclxuICAgICAgb25QYW5lQ2xpY2sgPSBfcmVmLm9uUGFuZUNsaWNrLFxyXG4gICAgICBvblBhbmVTY3JvbGwgPSBfcmVmLm9uUGFuZVNjcm9sbCxcclxuICAgICAgb25QYW5lQ29udGV4dE1lbnUgPSBfcmVmLm9uUGFuZUNvbnRleHRNZW51LFxyXG4gICAgICBvbkVkZ2VVcGRhdGUgPSBfcmVmLm9uRWRnZVVwZGF0ZSxcclxuICAgICAgb25FZGdlQ29udGV4dE1lbnUgPSBfcmVmLm9uRWRnZUNvbnRleHRNZW51LFxyXG4gICAgICBvbkVkZ2VNb3VzZUVudGVyID0gX3JlZi5vbkVkZ2VNb3VzZUVudGVyLFxyXG4gICAgICBvbkVkZ2VNb3VzZU1vdmUgPSBfcmVmLm9uRWRnZU1vdXNlTW92ZSxcclxuICAgICAgb25FZGdlTW91c2VMZWF2ZSA9IF9yZWYub25FZGdlTW91c2VMZWF2ZSxcclxuICAgICAgZWRnZVVwZGF0ZXJSYWRpdXMgPSBfcmVmLmVkZ2VVcGRhdGVyUmFkaXVzLFxyXG4gICAgICBvbkVkZ2VVcGRhdGVTdGFydCA9IF9yZWYub25FZGdlVXBkYXRlU3RhcnQsXHJcbiAgICAgIG9uRWRnZVVwZGF0ZUVuZCA9IF9yZWYub25FZGdlVXBkYXRlRW5kLFxyXG4gICAgICBub0RyYWdDbGFzc05hbWUgPSBfcmVmLm5vRHJhZ0NsYXNzTmFtZSxcclxuICAgICAgbm9XaGVlbENsYXNzTmFtZSA9IF9yZWYubm9XaGVlbENsYXNzTmFtZSxcclxuICAgICAgbm9QYW5DbGFzc05hbWUgPSBfcmVmLm5vUGFuQ2xhc3NOYW1lO1xyXG4gIHVzZU9uSW5pdEhhbmRsZXIob25Jbml0KTtcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRmxvd1JlbmRlcmVyJDEsIHtcclxuICAgIG9uUGFuZUNsaWNrOiBvblBhbmVDbGljayxcclxuICAgIG9uUGFuZUNvbnRleHRNZW51OiBvblBhbmVDb250ZXh0TWVudSxcclxuICAgIG9uUGFuZVNjcm9sbDogb25QYW5lU2Nyb2xsLFxyXG4gICAgZGVsZXRlS2V5Q29kZTogZGVsZXRlS2V5Q29kZSxcclxuICAgIHNlbGVjdGlvbktleUNvZGU6IHNlbGVjdGlvbktleUNvZGUsXHJcbiAgICBtdWx0aVNlbGVjdGlvbktleUNvZGU6IG11bHRpU2VsZWN0aW9uS2V5Q29kZSxcclxuICAgIHpvb21BY3RpdmF0aW9uS2V5Q29kZTogem9vbUFjdGl2YXRpb25LZXlDb2RlLFxyXG4gICAgZWxlbWVudHNTZWxlY3RhYmxlOiBlbGVtZW50c1NlbGVjdGFibGUsXHJcbiAgICBvbk1vdmU6IG9uTW92ZSxcclxuICAgIG9uTW92ZVN0YXJ0OiBvbk1vdmVTdGFydCxcclxuICAgIG9uTW92ZUVuZDogb25Nb3ZlRW5kLFxyXG4gICAgem9vbU9uU2Nyb2xsOiB6b29tT25TY3JvbGwsXHJcbiAgICB6b29tT25QaW5jaDogem9vbU9uUGluY2gsXHJcbiAgICB6b29tT25Eb3VibGVDbGljazogem9vbU9uRG91YmxlQ2xpY2ssXHJcbiAgICBwYW5PblNjcm9sbDogcGFuT25TY3JvbGwsXHJcbiAgICBwYW5PblNjcm9sbFNwZWVkOiBwYW5PblNjcm9sbFNwZWVkLFxyXG4gICAgcGFuT25TY3JvbGxNb2RlOiBwYW5PblNjcm9sbE1vZGUsXHJcbiAgICBwYW5PbkRyYWc6IHBhbk9uRHJhZyxcclxuICAgIGRlZmF1bHRQb3NpdGlvbjogZGVmYXVsdFBvc2l0aW9uLFxyXG4gICAgZGVmYXVsdFpvb206IGRlZmF1bHRab29tLFxyXG4gICAgb25TZWxlY3Rpb25EcmFnU3RhcnQ6IG9uU2VsZWN0aW9uRHJhZ1N0YXJ0LFxyXG4gICAgb25TZWxlY3Rpb25EcmFnOiBvblNlbGVjdGlvbkRyYWcsXHJcbiAgICBvblNlbGVjdGlvbkRyYWdTdG9wOiBvblNlbGVjdGlvbkRyYWdTdG9wLFxyXG4gICAgb25TZWxlY3Rpb25Db250ZXh0TWVudTogb25TZWxlY3Rpb25Db250ZXh0TWVudSxcclxuICAgIHByZXZlbnRTY3JvbGxpbmc6IHByZXZlbnRTY3JvbGxpbmcsXHJcbiAgICBub0RyYWdDbGFzc05hbWU6IG5vRHJhZ0NsYXNzTmFtZSxcclxuICAgIG5vV2hlZWxDbGFzc05hbWU6IG5vV2hlZWxDbGFzc05hbWUsXHJcbiAgICBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWVcclxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChWaWV3cG9ydCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRWRnZVJlbmRlcmVyJDEsIHtcclxuICAgIGVkZ2VUeXBlczogZWRnZVR5cGVzLFxyXG4gICAgb25FZGdlQ2xpY2s6IG9uRWRnZUNsaWNrLFxyXG4gICAgb25FZGdlRG91YmxlQ2xpY2s6IG9uRWRnZURvdWJsZUNsaWNrLFxyXG4gICAgY29ubmVjdGlvbkxpbmVUeXBlOiBjb25uZWN0aW9uTGluZVR5cGUsXHJcbiAgICBjb25uZWN0aW9uTGluZVN0eWxlOiBjb25uZWN0aW9uTGluZVN0eWxlLFxyXG4gICAgY29ubmVjdGlvbkxpbmVDb21wb25lbnQ6IGNvbm5lY3Rpb25MaW5lQ29tcG9uZW50LFxyXG4gICAgb25FZGdlVXBkYXRlOiBvbkVkZ2VVcGRhdGUsXHJcbiAgICBvbmx5UmVuZGVyVmlzaWJsZUVsZW1lbnRzOiBvbmx5UmVuZGVyVmlzaWJsZUVsZW1lbnRzLFxyXG4gICAgb25FZGdlQ29udGV4dE1lbnU6IG9uRWRnZUNvbnRleHRNZW51LFxyXG4gICAgb25FZGdlTW91c2VFbnRlcjogb25FZGdlTW91c2VFbnRlcixcclxuICAgIG9uRWRnZU1vdXNlTW92ZTogb25FZGdlTW91c2VNb3ZlLFxyXG4gICAgb25FZGdlTW91c2VMZWF2ZTogb25FZGdlTW91c2VMZWF2ZSxcclxuICAgIG9uRWRnZVVwZGF0ZVN0YXJ0OiBvbkVkZ2VVcGRhdGVTdGFydCxcclxuICAgIG9uRWRnZVVwZGF0ZUVuZDogb25FZGdlVXBkYXRlRW5kLFxyXG4gICAgZWRnZVVwZGF0ZXJSYWRpdXM6IGVkZ2VVcGRhdGVyUmFkaXVzLFxyXG4gICAgZGVmYXVsdE1hcmtlckNvbG9yOiBkZWZhdWx0TWFya2VyQ29sb3IsXHJcbiAgICBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWVcclxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTm9kZVJlbmRlcmVyJDEsIHtcclxuICAgIG5vZGVUeXBlczogbm9kZVR5cGVzLFxyXG4gICAgb25Ob2RlQ2xpY2s6IG9uTm9kZUNsaWNrLFxyXG4gICAgb25Ob2RlRG91YmxlQ2xpY2s6IG9uTm9kZURvdWJsZUNsaWNrLFxyXG4gICAgb25Ob2RlTW91c2VFbnRlcjogb25Ob2RlTW91c2VFbnRlcixcclxuICAgIG9uTm9kZU1vdXNlTW92ZTogb25Ob2RlTW91c2VNb3ZlLFxyXG4gICAgb25Ob2RlTW91c2VMZWF2ZTogb25Ob2RlTW91c2VMZWF2ZSxcclxuICAgIG9uTm9kZUNvbnRleHRNZW51OiBvbk5vZGVDb250ZXh0TWVudSxcclxuICAgIG9uTm9kZURyYWdTdG9wOiBvbk5vZGVEcmFnU3RvcCxcclxuICAgIG9uTm9kZURyYWc6IG9uTm9kZURyYWcsXHJcbiAgICBvbk5vZGVEcmFnU3RhcnQ6IG9uTm9kZURyYWdTdGFydCxcclxuICAgIHNlbGVjdE5vZGVzT25EcmFnOiBzZWxlY3ROb2Rlc09uRHJhZyxcclxuICAgIG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHM6IG9ubHlSZW5kZXJWaXNpYmxlRWxlbWVudHMsXHJcbiAgICBub1BhbkNsYXNzTmFtZTogbm9QYW5DbGFzc05hbWUsXHJcbiAgICBub0RyYWdDbGFzc05hbWU6IG5vRHJhZ0NsYXNzTmFtZVxyXG4gIH0pKSk7XHJcbn07XHJcblxyXG5HcmFwaFZpZXcuZGlzcGxheU5hbWUgPSAnR3JhcGhWaWV3JztcclxudmFyIEdyYXBoVmlldyQxID0gLyojX19QVVJFX18qL21lbW8oR3JhcGhWaWV3KTtcclxuXHJcbnZhciBHcm91cE5vZGUgPSBmdW5jdGlvbiBHcm91cE5vZGUoKSB7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5Hcm91cE5vZGUuZGlzcGxheU5hbWUgPSAnR3JvdXBOb2RlJztcclxuXHJcbmZ1bmN0aW9uIG93bktleXMkMyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMyh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XHJcblxyXG5mdW5jdGlvbiB1c2VNZW1vaXplZE1vdXNlSGFuZGxlcihpZCwgZHJhZ2dpbmcsIGdldFN0YXRlLCBoYW5kbGVyKSB7XHJcbiAgdmFyIG1lbW9pemVkSGFuZGxlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAndW5kZWZpbmVkJyAmJiAhZHJhZ2dpbmcpIHtcclxuICAgICAgdmFyIG5vZGUgPSBnZXRTdGF0ZSgpLm5vZGVJbnRlcm5hbHMuZ2V0KGlkKTtcclxuICAgICAgaGFuZGxlcihldmVudCwgX29iamVjdFNwcmVhZCQzKHt9LCBub2RlKSk7XHJcbiAgICB9XHJcbiAgfSwgW2hhbmRsZXIsIGRyYWdnaW5nLCBpZF0pO1xyXG4gIHJldHVybiBtZW1vaXplZEhhbmRsZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG93bktleXMkMihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMih0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQyKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XHJcblxyXG52YXIgc2VsZWN0b3IgPSBmdW5jdGlvbiBzZWxlY3RvcihzKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGFkZFNlbGVjdGVkTm9kZXM6IHMuYWRkU2VsZWN0ZWROb2RlcyxcclxuICAgIHVwZGF0ZU5vZGVQb3NpdGlvbjogcy51cGRhdGVOb2RlUG9zaXRpb24sXHJcbiAgICB1bnNlbGVjdE5vZGVzQW5kRWRnZXM6IHMudW5zZWxlY3ROb2Rlc0FuZEVkZ2VzLFxyXG4gICAgdXBkYXRlTm9kZURpbWVuc2lvbnM6IHMudXBkYXRlTm9kZURpbWVuc2lvbnNcclxuICB9O1xyXG59O1xyXG5cclxudmFyIHdyYXBOb2RlID0gKGZ1bmN0aW9uIChOb2RlQ29tcG9uZW50KSB7XHJcbiAgdmFyIE5vZGVXcmFwcGVyID0gZnVuY3Rpb24gTm9kZVdyYXBwZXIoX3JlZikge1xyXG4gICAgdmFyIGlkID0gX3JlZi5pZCxcclxuICAgICAgICB0eXBlID0gX3JlZi50eXBlLFxyXG4gICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsXHJcbiAgICAgICAgc2NhbGUgPSBfcmVmLnNjYWxlLFxyXG4gICAgICAgIHhQb3MgPSBfcmVmLnhQb3MsXHJcbiAgICAgICAgeVBvcyA9IF9yZWYueVBvcyxcclxuICAgICAgICBzZWxlY3RlZCA9IF9yZWYuc2VsZWN0ZWQsXHJcbiAgICAgICAgb25DbGljayA9IF9yZWYub25DbGljayxcclxuICAgICAgICBvbk1vdXNlRW50ZXIgPSBfcmVmLm9uTW91c2VFbnRlcixcclxuICAgICAgICBvbk1vdXNlTW92ZSA9IF9yZWYub25Nb3VzZU1vdmUsXHJcbiAgICAgICAgb25Nb3VzZUxlYXZlID0gX3JlZi5vbk1vdXNlTGVhdmUsXHJcbiAgICAgICAgb25Db250ZXh0TWVudSA9IF9yZWYub25Db250ZXh0TWVudSxcclxuICAgICAgICBvbk5vZGVEb3VibGVDbGljayA9IF9yZWYub25Ob2RlRG91YmxlQ2xpY2ssXHJcbiAgICAgICAgb25Ob2RlRHJhZ1N0YXJ0ID0gX3JlZi5vbk5vZGVEcmFnU3RhcnQsXHJcbiAgICAgICAgb25Ob2RlRHJhZyA9IF9yZWYub25Ob2RlRHJhZyxcclxuICAgICAgICBvbk5vZGVEcmFnU3RvcCA9IF9yZWYub25Ob2RlRHJhZ1N0b3AsXHJcbiAgICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlLFxyXG4gICAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxyXG4gICAgICAgIGlzRHJhZ2dhYmxlID0gX3JlZi5pc0RyYWdnYWJsZSxcclxuICAgICAgICBpc1NlbGVjdGFibGUgPSBfcmVmLmlzU2VsZWN0YWJsZSxcclxuICAgICAgICBpc0Nvbm5lY3RhYmxlID0gX3JlZi5pc0Nvbm5lY3RhYmxlLFxyXG4gICAgICAgIHNlbGVjdE5vZGVzT25EcmFnID0gX3JlZi5zZWxlY3ROb2Rlc09uRHJhZyxcclxuICAgICAgICBzb3VyY2VQb3NpdGlvbiA9IF9yZWYuc291cmNlUG9zaXRpb24sXHJcbiAgICAgICAgdGFyZ2V0UG9zaXRpb24gPSBfcmVmLnRhcmdldFBvc2l0aW9uLFxyXG4gICAgICAgIGhpZGRlbiA9IF9yZWYuaGlkZGVuLFxyXG4gICAgICAgIHNuYXBUb0dyaWQgPSBfcmVmLnNuYXBUb0dyaWQsXHJcbiAgICAgICAgc25hcEdyaWQgPSBfcmVmLnNuYXBHcmlkLFxyXG4gICAgICAgIGRyYWdnaW5nID0gX3JlZi5kcmFnZ2luZyxcclxuICAgICAgICByZXNpemVPYnNlcnZlciA9IF9yZWYucmVzaXplT2JzZXJ2ZXIsXHJcbiAgICAgICAgZHJhZ0hhbmRsZSA9IF9yZWYuZHJhZ0hhbmRsZSxcclxuICAgICAgICB6SW5kZXggPSBfcmVmLnpJbmRleCxcclxuICAgICAgICBpc1BhcmVudCA9IF9yZWYuaXNQYXJlbnQsXHJcbiAgICAgICAgbm9QYW5DbGFzc05hbWUgPSBfcmVmLm5vUGFuQ2xhc3NOYW1lLFxyXG4gICAgICAgIG5vRHJhZ0NsYXNzTmFtZSA9IF9yZWYubm9EcmFnQ2xhc3NOYW1lO1xyXG4gICAgdmFyIHN0b3JlID0gdXNlU3RvcmVBcGkoKTtcclxuXHJcbiAgICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IsIHNoYWxsb3cpLFxyXG4gICAgICAgIGFkZFNlbGVjdGVkTm9kZXMgPSBfdXNlU3RvcmUuYWRkU2VsZWN0ZWROb2RlcyxcclxuICAgICAgICB1bnNlbGVjdE5vZGVzQW5kRWRnZXMgPSBfdXNlU3RvcmUudW5zZWxlY3ROb2Rlc0FuZEVkZ2VzLFxyXG4gICAgICAgIHVwZGF0ZU5vZGVQb3NpdGlvbiA9IF91c2VTdG9yZS51cGRhdGVOb2RlUG9zaXRpb24sXHJcbiAgICAgICAgdXBkYXRlTm9kZURpbWVuc2lvbnMgPSBfdXNlU3RvcmUudXBkYXRlTm9kZURpbWVuc2lvbnM7XHJcblxyXG4gICAgdmFyIG5vZGVFbGVtZW50ID0gdXNlUmVmKG51bGwpO1xyXG4gICAgdmFyIHByZXZTb3VyY2VQb3NpdGlvbiA9IHVzZVJlZihzb3VyY2VQb3NpdGlvbik7XHJcbiAgICB2YXIgcHJldlRhcmdldFBvc2l0aW9uID0gdXNlUmVmKHRhcmdldFBvc2l0aW9uKTtcclxuICAgIHZhciBwcmV2VHlwZSA9IHVzZVJlZih0eXBlKTtcclxuICAgIHZhciBoYXNQb2ludGVyRXZlbnRzID0gaXNTZWxlY3RhYmxlIHx8IGlzRHJhZ2dhYmxlIHx8IG9uQ2xpY2sgfHwgb25Nb3VzZUVudGVyIHx8IG9uTW91c2VNb3ZlIHx8IG9uTW91c2VMZWF2ZTtcclxuICAgIHZhciBub2RlU3R5bGUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkMih7XHJcbiAgICAgICAgekluZGV4OiB6SW5kZXgsXHJcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIi5jb25jYXQoeFBvcywgXCJweCxcIikuY29uY2F0KHlQb3MsIFwicHgpXCIpLFxyXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IGhhc1BvaW50ZXJFdmVudHMgPyAnYWxsJyA6ICdub25lJ1xyXG4gICAgICB9LCBzdHlsZSk7XHJcbiAgICB9LCBbekluZGV4LCB4UG9zLCB5UG9zLCBoYXNQb2ludGVyRXZlbnRzLCBzdHlsZV0pO1xyXG4gICAgdmFyIGdyaWQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHNuYXBUb0dyaWQgPyBzbmFwR3JpZCA6IFsxLCAxXTtcclxuICAgIH0sIFtzbmFwVG9HcmlkLCBzbmFwR3JpZCA9PT0gbnVsbCB8fCBzbmFwR3JpZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc25hcEdyaWRbMF0sIHNuYXBHcmlkID09PSBudWxsIHx8IHNuYXBHcmlkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzbmFwR3JpZFsxXV0pO1xyXG4gICAgdmFyIG9uTW91c2VFbnRlckhhbmRsZXIgPSB1c2VNZW1vaXplZE1vdXNlSGFuZGxlcihpZCwgZHJhZ2dpbmcsIHN0b3JlLmdldFN0YXRlLCBvbk1vdXNlRW50ZXIpO1xyXG4gICAgdmFyIG9uTW91c2VNb3ZlSGFuZGxlciA9IHVzZU1lbW9pemVkTW91c2VIYW5kbGVyKGlkLCBkcmFnZ2luZywgc3RvcmUuZ2V0U3RhdGUsIG9uTW91c2VNb3ZlKTtcclxuICAgIHZhciBvbk1vdXNlTGVhdmVIYW5kbGVyID0gdXNlTWVtb2l6ZWRNb3VzZUhhbmRsZXIoaWQsIGRyYWdnaW5nLCBzdG9yZS5nZXRTdGF0ZSwgb25Nb3VzZUxlYXZlKTtcclxuICAgIHZhciBvbkNvbnRleHRNZW51SGFuZGxlciA9IHVzZU1lbW9pemVkTW91c2VIYW5kbGVyKGlkLCBmYWxzZSwgc3RvcmUuZ2V0U3RhdGUsIG9uQ29udGV4dE1lbnUpO1xyXG4gICAgdmFyIG9uTm9kZURvdWJsZUNsaWNrSGFuZGxlciA9IHVzZU1lbW9pemVkTW91c2VIYW5kbGVyKGlkLCBmYWxzZSwgc3RvcmUuZ2V0U3RhdGUsIG9uTm9kZURvdWJsZUNsaWNrKTtcclxuICAgIHZhciBvblNlbGVjdE5vZGVIYW5kbGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGlmICghaXNEcmFnZ2FibGUpIHtcclxuICAgICAgICBpZiAoaXNTZWxlY3RhYmxlKSB7XHJcbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIG5vZGVzU2VsZWN0aW9uQWN0aXZlOiBmYWxzZVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKCFzZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBhZGRTZWxlY3RlZE5vZGVzKFtpZF0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcclxuICAgICAgICAgIHZhciBub2RlID0gc3RvcmUuZ2V0U3RhdGUoKS5ub2RlSW50ZXJuYWxzLmdldChpZCk7XHJcbiAgICAgICAgICBvbkNsaWNrKGV2ZW50LCBfb2JqZWN0U3ByZWFkJDIoe30sIG5vZGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sIFtpc1NlbGVjdGFibGUsIHNlbGVjdGVkLCBpc0RyYWdnYWJsZSwgb25DbGljaywgaWRdKTtcclxuICAgIHZhciBvbkRyYWdTdGFydCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBpZiAoc2VsZWN0Tm9kZXNPbkRyYWcgJiYgaXNTZWxlY3RhYmxlKSB7XHJcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgbm9kZXNTZWxlY3Rpb25BY3RpdmU6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghc2VsZWN0ZWQpIHtcclxuICAgICAgICAgIGFkZFNlbGVjdGVkTm9kZXMoW2lkXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKCFzZWxlY3ROb2Rlc09uRHJhZyAmJiAhc2VsZWN0ZWQgJiYgaXNTZWxlY3RhYmxlKSB7XHJcbiAgICAgICAgdmFyIF9zdG9yZSRnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCksXHJcbiAgICAgICAgICAgIG11bHRpU2VsZWN0aW9uQWN0aXZlID0gX3N0b3JlJGdldFN0YXRlLm11bHRpU2VsZWN0aW9uQWN0aXZlO1xyXG5cclxuICAgICAgICBpZiAobXVsdGlTZWxlY3Rpb25BY3RpdmUpIHtcclxuICAgICAgICAgIGFkZFNlbGVjdGVkTm9kZXMoW2lkXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHVuc2VsZWN0Tm9kZXNBbmRFZGdlcygpO1xyXG4gICAgICAgICAgc3RvcmUuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBub2Rlc1NlbGVjdGlvbkFjdGl2ZTogZmFsc2VcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG9uTm9kZURyYWdTdGFydCkge1xyXG4gICAgICAgIHZhciBub2RlID0gc3RvcmUuZ2V0U3RhdGUoKS5ub2RlSW50ZXJuYWxzLmdldChpZCk7XHJcbiAgICAgICAgb25Ob2RlRHJhZ1N0YXJ0KGV2ZW50LCBfb2JqZWN0U3ByZWFkJDIoe30sIG5vZGUpKTtcclxuICAgICAgfVxyXG4gICAgfSwgW2lkLCBzZWxlY3RlZCwgc2VsZWN0Tm9kZXNPbkRyYWcsIGlzU2VsZWN0YWJsZSwgb25Ob2RlRHJhZ1N0YXJ0XSk7XHJcbiAgICB2YXIgb25EcmFnID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50LCBkcmFnZ2FibGVEYXRhKSB7XHJcbiAgICAgIHVwZGF0ZU5vZGVQb3NpdGlvbih7XHJcbiAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgIGRyYWdnaW5nOiB0cnVlLFxyXG4gICAgICAgIGRpZmY6IHtcclxuICAgICAgICAgIHg6IGRyYWdnYWJsZURhdGEuZGVsdGFYLFxyXG4gICAgICAgICAgeTogZHJhZ2dhYmxlRGF0YS5kZWx0YVlcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKG9uTm9kZURyYWcpIHtcclxuICAgICAgICB2YXIgX25vZGUkcG9zaXRpb25BYnNvbHV0LCBfbm9kZSRwb3NpdGlvbkFic29sdXQyO1xyXG5cclxuICAgICAgICB2YXIgbm9kZSA9IHN0b3JlLmdldFN0YXRlKCkubm9kZUludGVybmFscy5nZXQoaWQpO1xyXG4gICAgICAgIG9uTm9kZURyYWcoZXZlbnQsIF9vYmplY3RTcHJlYWQkMihfb2JqZWN0U3ByZWFkJDIoe30sIG5vZGUpLCB7fSwge1xyXG4gICAgICAgICAgZHJhZ2dpbmc6IHRydWUsXHJcbiAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICB4OiBub2RlLnBvc2l0aW9uLnggKyBkcmFnZ2FibGVEYXRhLmRlbHRhWCxcclxuICAgICAgICAgICAgeTogbm9kZS5wb3NpdGlvbi55ICsgZHJhZ2dhYmxlRGF0YS5kZWx0YVlcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwb3NpdGlvbkFic29sdXRlOiB7XHJcbiAgICAgICAgICAgIHg6ICgoKF9ub2RlJHBvc2l0aW9uQWJzb2x1dCA9IG5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX25vZGUkcG9zaXRpb25BYnNvbHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRwb3NpdGlvbkFic29sdXQueCkgfHwgMCkgKyBkcmFnZ2FibGVEYXRhLmRlbHRhWCxcclxuICAgICAgICAgICAgeTogKCgoX25vZGUkcG9zaXRpb25BYnNvbHV0MiA9IG5vZGUucG9zaXRpb25BYnNvbHV0ZSkgPT09IG51bGwgfHwgX25vZGUkcG9zaXRpb25BYnNvbHV0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkcG9zaXRpb25BYnNvbHV0Mi55KSB8fCAwKSArIGRyYWdnYWJsZURhdGEuZGVsdGFZXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9XHJcbiAgICB9LCBbaWQsIG9uTm9kZURyYWddKTtcclxuICAgIHZhciBvbkRyYWdTdG9wID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIC8vIG9uRHJhZ1N0b3AgYWxzbyBnZXRzIGNhbGxlZCB3aGVuIHVzZXIganVzdCBjbGlja3Mgb24gYSBub2RlLlxyXG4gICAgICAvLyBCZWNhdXNlIG9mIHRoYXQgd2Ugc2V0IGRyYWdnaW5nIHRvIHRydWUgaW5zaWRlIHRoZSBvbkRyYWcgaGFuZGxlciBhbmQgaGFuZGxlIHRoZSBjbGljayBoZXJlXHJcbiAgICAgIHZhciBub2RlO1xyXG5cclxuICAgICAgaWYgKG9uQ2xpY2sgfHwgb25Ob2RlRHJhZ1N0b3ApIHtcclxuICAgICAgICBub2RlID0gc3RvcmUuZ2V0U3RhdGUoKS5ub2RlSW50ZXJuYWxzLmdldChpZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZHJhZ2dpbmcpIHtcclxuICAgICAgICBpZiAoaXNTZWxlY3RhYmxlICYmICFzZWxlY3ROb2Rlc09uRHJhZyAmJiAhc2VsZWN0ZWQpIHtcclxuICAgICAgICAgIGFkZFNlbGVjdGVkTm9kZXMoW2lkXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob25DbGljayAmJiBub2RlKSB7XHJcbiAgICAgICAgICBvbkNsaWNrKGV2ZW50LCBfb2JqZWN0U3ByZWFkJDIoe30sIG5vZGUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdXBkYXRlTm9kZVBvc2l0aW9uKHtcclxuICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgZHJhZ2dpbmc6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKG9uTm9kZURyYWdTdG9wICYmIG5vZGUpIHtcclxuICAgICAgICBvbk5vZGVEcmFnU3RvcChldmVudCwgX29iamVjdFNwcmVhZCQyKF9vYmplY3RTcHJlYWQkMih7fSwgbm9kZSksIHt9LCB7XHJcbiAgICAgICAgICBkcmFnZ2luZzogZmFsc2VcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH1cclxuICAgIH0sIFtpZCwgaXNTZWxlY3RhYmxlLCBzZWxlY3ROb2Rlc09uRHJhZywgb25DbGljaywgb25Ob2RlRHJhZ1N0b3AsIGRyYWdnaW5nLCBzZWxlY3RlZF0pO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKG5vZGVFbGVtZW50LmN1cnJlbnQgJiYgIWhpZGRlbikge1xyXG4gICAgICAgIHZhciBjdXJyTm9kZSA9IG5vZGVFbGVtZW50LmN1cnJlbnQ7XHJcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIgPT09IG51bGwgfHwgcmVzaXplT2JzZXJ2ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoY3Vyck5vZGUpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzaXplT2JzZXJ2ZXIgPT09IG51bGwgfHwgcmVzaXplT2JzZXJ2ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZShjdXJyTm9kZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfSwgW2hpZGRlbl0pO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgLy8gd2hlbiB0aGUgdXNlciBwcm9ncmFtbWF0aWNhbGx5IGNoYW5nZXMgdGhlIHNvdXJjZSBvciBoYW5kbGUgcG9zaXRpb24sIHdlIHJlLWluaXRpYWxpemUgdGhlIG5vZGVcclxuICAgICAgdmFyIHR5cGVDaGFuZ2VkID0gcHJldlR5cGUuY3VycmVudCAhPT0gdHlwZTtcclxuICAgICAgdmFyIHNvdXJjZVBvc0NoYW5nZWQgPSBwcmV2U291cmNlUG9zaXRpb24uY3VycmVudCAhPT0gc291cmNlUG9zaXRpb247XHJcbiAgICAgIHZhciB0YXJnZXRQb3NDaGFuZ2VkID0gcHJldlRhcmdldFBvc2l0aW9uLmN1cnJlbnQgIT09IHRhcmdldFBvc2l0aW9uO1xyXG5cclxuICAgICAgaWYgKG5vZGVFbGVtZW50LmN1cnJlbnQgJiYgKHR5cGVDaGFuZ2VkIHx8IHNvdXJjZVBvc0NoYW5nZWQgfHwgdGFyZ2V0UG9zQ2hhbmdlZCkpIHtcclxuICAgICAgICBpZiAodHlwZUNoYW5nZWQpIHtcclxuICAgICAgICAgIHByZXZUeXBlLmN1cnJlbnQgPSB0eXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNvdXJjZVBvc0NoYW5nZWQpIHtcclxuICAgICAgICAgIHByZXZTb3VyY2VQb3NpdGlvbi5jdXJyZW50ID0gc291cmNlUG9zaXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFyZ2V0UG9zQ2hhbmdlZCkge1xyXG4gICAgICAgICAgcHJldlRhcmdldFBvc2l0aW9uLmN1cnJlbnQgPSB0YXJnZXRQb3NpdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVwZGF0ZU5vZGVEaW1lbnNpb25zKFt7XHJcbiAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICBub2RlRWxlbWVudDogbm9kZUVsZW1lbnQuY3VycmVudCxcclxuICAgICAgICAgIGZvcmNlVXBkYXRlOiB0cnVlXHJcbiAgICAgICAgfV0pO1xyXG4gICAgICB9XHJcbiAgICB9LCBbaWQsIHR5cGUsIHNvdXJjZVBvc2l0aW9uLCB0YXJnZXRQb3NpdGlvbl0pO1xyXG5cclxuICAgIGlmIChoaWRkZW4pIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5vZGVDbGFzc2VzID0gY2MoWydyZWFjdC1mbG93X19ub2RlJywgXCJyZWFjdC1mbG93X19ub2RlLVwiLmNvbmNhdCh0eXBlKSwgbm9QYW5DbGFzc05hbWUsIGNsYXNzTmFtZSwge1xyXG4gICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXHJcbiAgICAgIHNlbGVjdGFibGU6IGlzU2VsZWN0YWJsZSxcclxuICAgICAgcGFyZW50OiBpc1BhcmVudFxyXG4gICAgfV0pO1xyXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyYWdnYWJsZUNvcmUsIHtcclxuICAgICAgb25TdGFydDogb25EcmFnU3RhcnQsXHJcbiAgICAgIG9uRHJhZzogb25EcmFnLFxyXG4gICAgICBvblN0b3A6IG9uRHJhZ1N0b3AsXHJcbiAgICAgIHNjYWxlOiBzY2FsZSxcclxuICAgICAgZGlzYWJsZWQ6ICFpc0RyYWdnYWJsZSxcclxuICAgICAgY2FuY2VsOiBcIi5cIi5jb25jYXQobm9EcmFnQ2xhc3NOYW1lKSxcclxuICAgICAgbm9kZVJlZjogbm9kZUVsZW1lbnQsXHJcbiAgICAgIGdyaWQ6IGdyaWQsXHJcbiAgICAgIGVuYWJsZVVzZXJTZWxlY3RIYWNrOiBmYWxzZSxcclxuICAgICAgaGFuZGxlOiBkcmFnSGFuZGxlXHJcbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XHJcbiAgICAgIGNsYXNzTmFtZTogbm9kZUNsYXNzZXMsXHJcbiAgICAgIHJlZjogbm9kZUVsZW1lbnQsXHJcbiAgICAgIHN0eWxlOiBub2RlU3R5bGUsXHJcbiAgICAgIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVySGFuZGxlcixcclxuICAgICAgb25Nb3VzZU1vdmU6IG9uTW91c2VNb3ZlSGFuZGxlcixcclxuICAgICAgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmVIYW5kbGVyLFxyXG4gICAgICBvbkNvbnRleHRNZW51OiBvbkNvbnRleHRNZW51SGFuZGxlcixcclxuICAgICAgb25DbGljazogb25TZWxlY3ROb2RlSGFuZGxlcixcclxuICAgICAgb25Eb3VibGVDbGljazogb25Ob2RlRG91YmxlQ2xpY2tIYW5kbGVyLFxyXG4gICAgICBcImRhdGEtaWRcIjogaWRcclxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFByb3ZpZGVyLCB7XHJcbiAgICAgIHZhbHVlOiBpZFxyXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTm9kZUNvbXBvbmVudCwge1xyXG4gICAgICBpZDogaWQsXHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgIHhQb3M6IHhQb3MsXHJcbiAgICAgIHlQb3M6IHlQb3MsXHJcbiAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcclxuICAgICAgaXNDb25uZWN0YWJsZTogaXNDb25uZWN0YWJsZSxcclxuICAgICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxyXG4gICAgICB0YXJnZXRQb3NpdGlvbjogdGFyZ2V0UG9zaXRpb24sXHJcbiAgICAgIGRyYWdnaW5nOiBkcmFnZ2luZyxcclxuICAgICAgZHJhZ0hhbmRsZTogZHJhZ0hhbmRsZSxcclxuICAgICAgekluZGV4OiB6SW5kZXhcclxuICAgIH0pKSkpO1xyXG4gIH07XHJcblxyXG4gIE5vZGVXcmFwcGVyLmRpc3BsYXlOYW1lID0gJ05vZGVXcmFwcGVyJztcclxuICByZXR1cm4gLyojX19QVVJFX18qL21lbW8oTm9kZVdyYXBwZXIpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIG93bktleXMkMShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyQxKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMkMShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XHJcbmZ1bmN0aW9uIGNyZWF0ZU5vZGVUeXBlcyhub2RlVHlwZXMpIHtcclxuICB2YXIgc3RhbmRhcmRUeXBlcyA9IHtcclxuICAgIGlucHV0OiB3cmFwTm9kZShub2RlVHlwZXMuaW5wdXQgfHwgSW5wdXROb2RlJDEpLFxyXG4gICAgXCJkZWZhdWx0XCI6IHdyYXBOb2RlKG5vZGVUeXBlc1tcImRlZmF1bHRcIl0gfHwgRGVmYXVsdE5vZGUkMSksXHJcbiAgICBvdXRwdXQ6IHdyYXBOb2RlKG5vZGVUeXBlcy5vdXRwdXQgfHwgT3V0cHV0Tm9kZSQxKSxcclxuICAgIGdyb3VwOiB3cmFwTm9kZShub2RlVHlwZXMuZ3JvdXAgfHwgR3JvdXBOb2RlKVxyXG4gIH07XHJcbiAgdmFyIHdyYXBwZWRUeXBlcyA9IHt9O1xyXG4gIHZhciBzcGVjaWFsVHlwZXMgPSBPYmplY3Qua2V5cyhub2RlVHlwZXMpLmZpbHRlcihmdW5jdGlvbiAoaykge1xyXG4gICAgcmV0dXJuICFbJ2lucHV0JywgJ2RlZmF1bHQnLCAnb3V0cHV0JywgJ2dyb3VwJ10uaW5jbHVkZXMoayk7XHJcbiAgfSkucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGtleSkge1xyXG4gICAgcmVzW2tleV0gPSB3cmFwTm9kZShub2RlVHlwZXNba2V5XSB8fCBEZWZhdWx0Tm9kZSQxKTtcclxuICAgIHJldHVybiByZXM7XHJcbiAgfSwgd3JhcHBlZFR5cGVzKTtcclxuICByZXR1cm4gX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgc3RhbmRhcmRUeXBlcyksIHNwZWNpYWxUeXBlcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzZU5vZGVPckVkZ2VUeXBlcyhub2RlT3JFZGdlVHlwZXMsIGNyZWF0ZVR5cGVzKSB7XHJcbiAgdmFyIHR5cGVzS2V5c1JlZiA9IHVzZVJlZihudWxsKTtcclxuICB2YXIgdHlwZXNQYXJzZWQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICB2YXIgdHlwZUtleXMgPSBPYmplY3Qua2V5cyhub2RlT3JFZGdlVHlwZXMpO1xyXG5cclxuICAgICAgaWYgKHNoYWxsb3codHlwZXNLZXlzUmVmLmN1cnJlbnQsIHR5cGVLZXlzKSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcIlJlYWN0IEZsb3c6IEl0IGxvb2tzIGxpa2UgdGhhdCB5b3UgY3JlYXRlZCBhIG5ldyBub2RlVHlwZXMgb3IgZWRnZVR5cGVzIG9iamVjdC4gSWYgdGhpcyB3YXNuJ3Qgb24gcHVycG9zZSBwbGVhc2UgZGVmaW5lIHRoZSBub2RlVHlwZXMvZWRnZVR5cGVzIG91dHNpZGUgb2YgdGhlIGNvbXBvbmVudCBvciBtZW1vaXplIHRoZW0uXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0eXBlc0tleXNSZWYuY3VycmVudCA9IHR5cGVLZXlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjcmVhdGVUeXBlcyhub2RlT3JFZGdlVHlwZXMpO1xyXG4gIH0sIFtub2RlT3JFZGdlVHlwZXNdKTtcclxuICByZXR1cm4gdHlwZXNQYXJzZWQ7XHJcbn1cclxuZnVuY3Rpb24gaW5qZWN0U3R5bGUoY3NzKSB7XHJcbiAgaWYgKCFjc3MgfHwgdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xyXG4gIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xyXG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbiAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcbn1cclxuXHJcbnZhciBXcmFwcGVyID0gZnVuY3Rpb24gV3JhcHBlcihfcmVmKSB7XHJcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcclxuICB2YXIgaXNXcmFwcGVkID0gdHJ1ZTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIHVzZVN0b3JlQXBpKCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgaXNXcmFwcGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNXcmFwcGVkKSB7XHJcbiAgICAvLyB3ZSBuZWVkIHRvIHdyYXAgaXQgd2l0aCBhIGZyYWdtZW50IGJlY2F1c2UgaXQncyBub3QgYWxsb3dlZCBmb3IgY2hpbGRyZW4gdG8gYmUgYSBSZWFjdE5vZGVcclxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EZWZpbml0ZWx5VHlwZWQvRGVmaW5pdGVseVR5cGVkL2lzc3Vlcy8xODA1MVxyXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlbik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIkMSwge1xyXG4gICAgY3JlYXRlU3RvcmU6IGNyZWF0ZVN0b3JlXHJcbiAgfSwgY2hpbGRyZW4pO1xyXG59O1xyXG5cclxuV3JhcHBlci5kaXNwbGF5TmFtZSA9ICdSZWFjdEZsb3dXcmFwcGVyJztcclxuXHJcbnZhciBfZXhjbHVkZWQgPSBbXCJub2Rlc1wiLCBcImVkZ2VzXCIsIFwiZGVmYXVsdE5vZGVzXCIsIFwiZGVmYXVsdEVkZ2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwibm9kZVR5cGVzXCIsIFwiZWRnZVR5cGVzXCIsIFwib25Ob2RlQ2xpY2tcIiwgXCJvbkVkZ2VDbGlja1wiLCBcIm9uSW5pdFwiLCBcIm9uTW92ZVwiLCBcIm9uTW92ZVN0YXJ0XCIsIFwib25Nb3ZlRW5kXCIsIFwib25Db25uZWN0XCIsIFwib25Db25uZWN0U3RhcnRcIiwgXCJvbkNvbm5lY3RTdG9wXCIsIFwib25Db25uZWN0RW5kXCIsIFwib25Ob2RlTW91c2VFbnRlclwiLCBcIm9uTm9kZU1vdXNlTW92ZVwiLCBcIm9uTm9kZU1vdXNlTGVhdmVcIiwgXCJvbk5vZGVDb250ZXh0TWVudVwiLCBcIm9uTm9kZURvdWJsZUNsaWNrXCIsIFwib25Ob2RlRHJhZ1N0YXJ0XCIsIFwib25Ob2RlRHJhZ1wiLCBcIm9uTm9kZURyYWdTdG9wXCIsIFwib25Ob2Rlc0RlbGV0ZVwiLCBcIm9uRWRnZXNEZWxldGVcIiwgXCJvblNlbGVjdGlvbkNoYW5nZVwiLCBcIm9uU2VsZWN0aW9uRHJhZ1N0YXJ0XCIsIFwib25TZWxlY3Rpb25EcmFnXCIsIFwib25TZWxlY3Rpb25EcmFnU3RvcFwiLCBcIm9uU2VsZWN0aW9uQ29udGV4dE1lbnVcIiwgXCJjb25uZWN0aW9uTW9kZVwiLCBcImNvbm5lY3Rpb25MaW5lVHlwZVwiLCBcImNvbm5lY3Rpb25MaW5lU3R5bGVcIiwgXCJjb25uZWN0aW9uTGluZUNvbXBvbmVudFwiLCBcImRlbGV0ZUtleUNvZGVcIiwgXCJzZWxlY3Rpb25LZXlDb2RlXCIsIFwibXVsdGlTZWxlY3Rpb25LZXlDb2RlXCIsIFwiem9vbUFjdGl2YXRpb25LZXlDb2RlXCIsIFwic25hcFRvR3JpZFwiLCBcInNuYXBHcmlkXCIsIFwib25seVJlbmRlclZpc2libGVFbGVtZW50c1wiLCBcInNlbGVjdE5vZGVzT25EcmFnXCIsIFwibm9kZXNEcmFnZ2FibGVcIiwgXCJub2Rlc0Nvbm5lY3RhYmxlXCIsIFwiZWxlbWVudHNTZWxlY3RhYmxlXCIsIFwibWluWm9vbVwiLCBcIm1heFpvb21cIiwgXCJkZWZhdWx0Wm9vbVwiLCBcImRlZmF1bHRQb3NpdGlvblwiLCBcInRyYW5zbGF0ZUV4dGVudFwiLCBcInByZXZlbnRTY3JvbGxpbmdcIiwgXCJub2RlRXh0ZW50XCIsIFwiZGVmYXVsdE1hcmtlckNvbG9yXCIsIFwiem9vbU9uU2Nyb2xsXCIsIFwiem9vbU9uUGluY2hcIiwgXCJwYW5PblNjcm9sbFwiLCBcInBhbk9uU2Nyb2xsU3BlZWRcIiwgXCJwYW5PblNjcm9sbE1vZGVcIiwgXCJ6b29tT25Eb3VibGVDbGlja1wiLCBcInBhbk9uRHJhZ1wiLCBcIm9uUGFuZUNsaWNrXCIsIFwib25QYW5lU2Nyb2xsXCIsIFwib25QYW5lQ29udGV4dE1lbnVcIiwgXCJjaGlsZHJlblwiLCBcIm9uRWRnZVVwZGF0ZVwiLCBcIm9uRWRnZUNvbnRleHRNZW51XCIsIFwib25FZGdlRG91YmxlQ2xpY2tcIiwgXCJvbkVkZ2VNb3VzZUVudGVyXCIsIFwib25FZGdlTW91c2VNb3ZlXCIsIFwib25FZGdlTW91c2VMZWF2ZVwiLCBcIm9uRWRnZVVwZGF0ZVN0YXJ0XCIsIFwib25FZGdlVXBkYXRlRW5kXCIsIFwiZWRnZVVwZGF0ZXJSYWRpdXNcIiwgXCJvbk5vZGVzQ2hhbmdlXCIsIFwib25FZGdlc0NoYW5nZVwiLCBcIm5vRHJhZ0NsYXNzTmFtZVwiLCBcIm5vV2hlZWxDbGFzc05hbWVcIiwgXCJub1BhbkNsYXNzTmFtZVwiLCBcImZpdFZpZXdcIiwgXCJmaXRWaWV3T3B0aW9uc1wiLCBcImNvbm5lY3RPbkNsaWNrXCIsIFwiYXR0cmlidXRpb25Qb3NpdGlvblwiLCBcInByb09wdGlvbnNcIiwgXCJkZWZhdWx0RWRnZU9wdGlvbnNcIl07XHJcblxyXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgZW51bWVyYWJsZU9ubHkgJiYgKHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxyXG5cclxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cclxuXHJcbntcclxuICBpbmplY3RTdHlsZShjc3NfMjQ4eiQxKTtcclxuICBpbmplY3RTdHlsZShjc3NfMjQ4eik7XHJcbn1cclxuXHJcbnZhciBkZWZhdWx0Tm9kZVR5cGVzID0ge1xyXG4gIGlucHV0OiBJbnB1dE5vZGUkMSxcclxuICBcImRlZmF1bHRcIjogRGVmYXVsdE5vZGUkMSxcclxuICBvdXRwdXQ6IE91dHB1dE5vZGUkMVxyXG59O1xyXG52YXIgZGVmYXVsdEVkZ2VUeXBlcyA9IHtcclxuICBcImRlZmF1bHRcIjogQmV6aWVyRWRnZSxcclxuICBzdHJhaWdodDogU3RyYWlnaHRFZGdlLFxyXG4gIHN0ZXA6IFN0ZXBFZGdlLFxyXG4gIHNtb290aHN0ZXA6IFNtb290aFN0ZXBFZGdlLFxyXG4gIHNpbXBsZWJlemllcjogU2ltcGxlQmV6aWVyRWRnZVxyXG59O1xyXG52YXIgaW5pdFNuYXBHcmlkID0gWzE1LCAxNV07XHJcbnZhciBpbml0RGVmYXVsdFBvc2l0aW9uID0gWzAsIDBdO1xyXG52YXIgUmVhY3RGbG93ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xyXG4gIHZhciBub2RlcyA9IF9yZWYubm9kZXMsXHJcbiAgICAgIGVkZ2VzID0gX3JlZi5lZGdlcyxcclxuICAgICAgZGVmYXVsdE5vZGVzID0gX3JlZi5kZWZhdWx0Tm9kZXMsXHJcbiAgICAgIGRlZmF1bHRFZGdlcyA9IF9yZWYuZGVmYXVsdEVkZ2VzLFxyXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcclxuICAgICAgX3JlZiRub2RlVHlwZXMgPSBfcmVmLm5vZGVUeXBlcyxcclxuICAgICAgbm9kZVR5cGVzID0gX3JlZiRub2RlVHlwZXMgPT09IHZvaWQgMCA/IGRlZmF1bHROb2RlVHlwZXMgOiBfcmVmJG5vZGVUeXBlcyxcclxuICAgICAgX3JlZiRlZGdlVHlwZXMgPSBfcmVmLmVkZ2VUeXBlcyxcclxuICAgICAgZWRnZVR5cGVzID0gX3JlZiRlZGdlVHlwZXMgPT09IHZvaWQgMCA/IGRlZmF1bHRFZGdlVHlwZXMgOiBfcmVmJGVkZ2VUeXBlcyxcclxuICAgICAgb25Ob2RlQ2xpY2sgPSBfcmVmLm9uTm9kZUNsaWNrLFxyXG4gICAgICBvbkVkZ2VDbGljayA9IF9yZWYub25FZGdlQ2xpY2ssXHJcbiAgICAgIG9uSW5pdCA9IF9yZWYub25Jbml0LFxyXG4gICAgICBvbk1vdmUgPSBfcmVmLm9uTW92ZSxcclxuICAgICAgb25Nb3ZlU3RhcnQgPSBfcmVmLm9uTW92ZVN0YXJ0LFxyXG4gICAgICBvbk1vdmVFbmQgPSBfcmVmLm9uTW92ZUVuZCxcclxuICAgICAgb25Db25uZWN0ID0gX3JlZi5vbkNvbm5lY3QsXHJcbiAgICAgIG9uQ29ubmVjdFN0YXJ0ID0gX3JlZi5vbkNvbm5lY3RTdGFydCxcclxuICAgICAgb25Db25uZWN0U3RvcCA9IF9yZWYub25Db25uZWN0U3RvcCxcclxuICAgICAgb25Db25uZWN0RW5kID0gX3JlZi5vbkNvbm5lY3RFbmQsXHJcbiAgICAgIG9uTm9kZU1vdXNlRW50ZXIgPSBfcmVmLm9uTm9kZU1vdXNlRW50ZXIsXHJcbiAgICAgIG9uTm9kZU1vdXNlTW92ZSA9IF9yZWYub25Ob2RlTW91c2VNb3ZlLFxyXG4gICAgICBvbk5vZGVNb3VzZUxlYXZlID0gX3JlZi5vbk5vZGVNb3VzZUxlYXZlLFxyXG4gICAgICBvbk5vZGVDb250ZXh0TWVudSA9IF9yZWYub25Ob2RlQ29udGV4dE1lbnUsXHJcbiAgICAgIG9uTm9kZURvdWJsZUNsaWNrID0gX3JlZi5vbk5vZGVEb3VibGVDbGljayxcclxuICAgICAgb25Ob2RlRHJhZ1N0YXJ0ID0gX3JlZi5vbk5vZGVEcmFnU3RhcnQsXHJcbiAgICAgIG9uTm9kZURyYWcgPSBfcmVmLm9uTm9kZURyYWcsXHJcbiAgICAgIG9uTm9kZURyYWdTdG9wID0gX3JlZi5vbk5vZGVEcmFnU3RvcCxcclxuICAgICAgb25Ob2Rlc0RlbGV0ZSA9IF9yZWYub25Ob2Rlc0RlbGV0ZSxcclxuICAgICAgb25FZGdlc0RlbGV0ZSA9IF9yZWYub25FZGdlc0RlbGV0ZSxcclxuICAgICAgb25TZWxlY3Rpb25DaGFuZ2UgPSBfcmVmLm9uU2VsZWN0aW9uQ2hhbmdlLFxyXG4gICAgICBvblNlbGVjdGlvbkRyYWdTdGFydCA9IF9yZWYub25TZWxlY3Rpb25EcmFnU3RhcnQsXHJcbiAgICAgIG9uU2VsZWN0aW9uRHJhZyA9IF9yZWYub25TZWxlY3Rpb25EcmFnLFxyXG4gICAgICBvblNlbGVjdGlvbkRyYWdTdG9wID0gX3JlZi5vblNlbGVjdGlvbkRyYWdTdG9wLFxyXG4gICAgICBvblNlbGVjdGlvbkNvbnRleHRNZW51ID0gX3JlZi5vblNlbGVjdGlvbkNvbnRleHRNZW51LFxyXG4gICAgICBfcmVmJGNvbm5lY3Rpb25Nb2RlID0gX3JlZi5jb25uZWN0aW9uTW9kZSxcclxuICAgICAgY29ubmVjdGlvbk1vZGUgPSBfcmVmJGNvbm5lY3Rpb25Nb2RlID09PSB2b2lkIDAgPyBDb25uZWN0aW9uTW9kZS5TdHJpY3QgOiBfcmVmJGNvbm5lY3Rpb25Nb2RlLFxyXG4gICAgICBfcmVmJGNvbm5lY3Rpb25MaW5lVHkgPSBfcmVmLmNvbm5lY3Rpb25MaW5lVHlwZSxcclxuICAgICAgY29ubmVjdGlvbkxpbmVUeXBlID0gX3JlZiRjb25uZWN0aW9uTGluZVR5ID09PSB2b2lkIDAgPyBDb25uZWN0aW9uTGluZVR5cGUuQmV6aWVyIDogX3JlZiRjb25uZWN0aW9uTGluZVR5LFxyXG4gICAgICBjb25uZWN0aW9uTGluZVN0eWxlID0gX3JlZi5jb25uZWN0aW9uTGluZVN0eWxlLFxyXG4gICAgICBjb25uZWN0aW9uTGluZUNvbXBvbmVudCA9IF9yZWYuY29ubmVjdGlvbkxpbmVDb21wb25lbnQsXHJcbiAgICAgIF9yZWYkZGVsZXRlS2V5Q29kZSA9IF9yZWYuZGVsZXRlS2V5Q29kZSxcclxuICAgICAgZGVsZXRlS2V5Q29kZSA9IF9yZWYkZGVsZXRlS2V5Q29kZSA9PT0gdm9pZCAwID8gJ0JhY2tzcGFjZScgOiBfcmVmJGRlbGV0ZUtleUNvZGUsXHJcbiAgICAgIF9yZWYkc2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYuc2VsZWN0aW9uS2V5Q29kZSxcclxuICAgICAgc2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYkc2VsZWN0aW9uS2V5Q29kZSA9PT0gdm9pZCAwID8gJ1NoaWZ0JyA6IF9yZWYkc2VsZWN0aW9uS2V5Q29kZSxcclxuICAgICAgX3JlZiRtdWx0aVNlbGVjdGlvbktlID0gX3JlZi5tdWx0aVNlbGVjdGlvbktleUNvZGUsXHJcbiAgICAgIG11bHRpU2VsZWN0aW9uS2V5Q29kZSA9IF9yZWYkbXVsdGlTZWxlY3Rpb25LZSA9PT0gdm9pZCAwID8gJ01ldGEnIDogX3JlZiRtdWx0aVNlbGVjdGlvbktlLFxyXG4gICAgICBfcmVmJHpvb21BY3RpdmF0aW9uS2UgPSBfcmVmLnpvb21BY3RpdmF0aW9uS2V5Q29kZSxcclxuICAgICAgem9vbUFjdGl2YXRpb25LZXlDb2RlID0gX3JlZiR6b29tQWN0aXZhdGlvbktlID09PSB2b2lkIDAgPyAnTWV0YScgOiBfcmVmJHpvb21BY3RpdmF0aW9uS2UsXHJcbiAgICAgIF9yZWYkc25hcFRvR3JpZCA9IF9yZWYuc25hcFRvR3JpZCxcclxuICAgICAgc25hcFRvR3JpZCA9IF9yZWYkc25hcFRvR3JpZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJHNuYXBUb0dyaWQsXHJcbiAgICAgIF9yZWYkc25hcEdyaWQgPSBfcmVmLnNuYXBHcmlkLFxyXG4gICAgICBzbmFwR3JpZCA9IF9yZWYkc25hcEdyaWQgPT09IHZvaWQgMCA/IGluaXRTbmFwR3JpZCA6IF9yZWYkc25hcEdyaWQsXHJcbiAgICAgIF9yZWYkb25seVJlbmRlclZpc2libCA9IF9yZWYub25seVJlbmRlclZpc2libGVFbGVtZW50cyxcclxuICAgICAgb25seVJlbmRlclZpc2libGVFbGVtZW50cyA9IF9yZWYkb25seVJlbmRlclZpc2libCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJG9ubHlSZW5kZXJWaXNpYmwsXHJcbiAgICAgIF9yZWYkc2VsZWN0Tm9kZXNPbkRyYSA9IF9yZWYuc2VsZWN0Tm9kZXNPbkRyYWcsXHJcbiAgICAgIHNlbGVjdE5vZGVzT25EcmFnID0gX3JlZiRzZWxlY3ROb2Rlc09uRHJhID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRzZWxlY3ROb2Rlc09uRHJhLFxyXG4gICAgICBub2Rlc0RyYWdnYWJsZSA9IF9yZWYubm9kZXNEcmFnZ2FibGUsXHJcbiAgICAgIG5vZGVzQ29ubmVjdGFibGUgPSBfcmVmLm5vZGVzQ29ubmVjdGFibGUsXHJcbiAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZSA9IF9yZWYuZWxlbWVudHNTZWxlY3RhYmxlLFxyXG4gICAgICBtaW5ab29tID0gX3JlZi5taW5ab29tLFxyXG4gICAgICBtYXhab29tID0gX3JlZi5tYXhab29tLFxyXG4gICAgICBfcmVmJGRlZmF1bHRab29tID0gX3JlZi5kZWZhdWx0Wm9vbSxcclxuICAgICAgZGVmYXVsdFpvb20gPSBfcmVmJGRlZmF1bHRab29tID09PSB2b2lkIDAgPyAxIDogX3JlZiRkZWZhdWx0Wm9vbSxcclxuICAgICAgX3JlZiRkZWZhdWx0UG9zaXRpb24gPSBfcmVmLmRlZmF1bHRQb3NpdGlvbixcclxuICAgICAgZGVmYXVsdFBvc2l0aW9uID0gX3JlZiRkZWZhdWx0UG9zaXRpb24gPT09IHZvaWQgMCA/IGluaXREZWZhdWx0UG9zaXRpb24gOiBfcmVmJGRlZmF1bHRQb3NpdGlvbixcclxuICAgICAgdHJhbnNsYXRlRXh0ZW50ID0gX3JlZi50cmFuc2xhdGVFeHRlbnQsXHJcbiAgICAgIF9yZWYkcHJldmVudFNjcm9sbGluZyA9IF9yZWYucHJldmVudFNjcm9sbGluZyxcclxuICAgICAgcHJldmVudFNjcm9sbGluZyA9IF9yZWYkcHJldmVudFNjcm9sbGluZyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkcHJldmVudFNjcm9sbGluZyxcclxuICAgICAgbm9kZUV4dGVudCA9IF9yZWYubm9kZUV4dGVudCxcclxuICAgICAgX3JlZiRkZWZhdWx0TWFya2VyQ29sID0gX3JlZi5kZWZhdWx0TWFya2VyQ29sb3IsXHJcbiAgICAgIGRlZmF1bHRNYXJrZXJDb2xvciA9IF9yZWYkZGVmYXVsdE1hcmtlckNvbCA9PT0gdm9pZCAwID8gJyNiMWIxYjcnIDogX3JlZiRkZWZhdWx0TWFya2VyQ29sLFxyXG4gICAgICBfcmVmJHpvb21PblNjcm9sbCA9IF9yZWYuem9vbU9uU2Nyb2xsLFxyXG4gICAgICB6b29tT25TY3JvbGwgPSBfcmVmJHpvb21PblNjcm9sbCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkem9vbU9uU2Nyb2xsLFxyXG4gICAgICBfcmVmJHpvb21PblBpbmNoID0gX3JlZi56b29tT25QaW5jaCxcclxuICAgICAgem9vbU9uUGluY2ggPSBfcmVmJHpvb21PblBpbmNoID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiR6b29tT25QaW5jaCxcclxuICAgICAgX3JlZiRwYW5PblNjcm9sbCA9IF9yZWYucGFuT25TY3JvbGwsXHJcbiAgICAgIHBhbk9uU2Nyb2xsID0gX3JlZiRwYW5PblNjcm9sbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJHBhbk9uU2Nyb2xsLFxyXG4gICAgICBfcmVmJHBhbk9uU2Nyb2xsU3BlZWQgPSBfcmVmLnBhbk9uU2Nyb2xsU3BlZWQsXHJcbiAgICAgIHBhbk9uU2Nyb2xsU3BlZWQgPSBfcmVmJHBhbk9uU2Nyb2xsU3BlZWQgPT09IHZvaWQgMCA/IDAuNSA6IF9yZWYkcGFuT25TY3JvbGxTcGVlZCxcclxuICAgICAgX3JlZiRwYW5PblNjcm9sbE1vZGUgPSBfcmVmLnBhbk9uU2Nyb2xsTW9kZSxcclxuICAgICAgcGFuT25TY3JvbGxNb2RlID0gX3JlZiRwYW5PblNjcm9sbE1vZGUgPT09IHZvaWQgMCA/IFBhbk9uU2Nyb2xsTW9kZS5GcmVlIDogX3JlZiRwYW5PblNjcm9sbE1vZGUsXHJcbiAgICAgIF9yZWYkem9vbU9uRG91YmxlQ2xpYyA9IF9yZWYuem9vbU9uRG91YmxlQ2xpY2ssXHJcbiAgICAgIHpvb21PbkRvdWJsZUNsaWNrID0gX3JlZiR6b29tT25Eb3VibGVDbGljID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiR6b29tT25Eb3VibGVDbGljLFxyXG4gICAgICBfcmVmJHBhbk9uRHJhZyA9IF9yZWYucGFuT25EcmFnLFxyXG4gICAgICBwYW5PbkRyYWcgPSBfcmVmJHBhbk9uRHJhZyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkcGFuT25EcmFnLFxyXG4gICAgICBvblBhbmVDbGljayA9IF9yZWYub25QYW5lQ2xpY2ssXHJcbiAgICAgIG9uUGFuZVNjcm9sbCA9IF9yZWYub25QYW5lU2Nyb2xsLFxyXG4gICAgICBvblBhbmVDb250ZXh0TWVudSA9IF9yZWYub25QYW5lQ29udGV4dE1lbnUsXHJcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcclxuICAgICAgb25FZGdlVXBkYXRlID0gX3JlZi5vbkVkZ2VVcGRhdGUsXHJcbiAgICAgIG9uRWRnZUNvbnRleHRNZW51ID0gX3JlZi5vbkVkZ2VDb250ZXh0TWVudSxcclxuICAgICAgb25FZGdlRG91YmxlQ2xpY2sgPSBfcmVmLm9uRWRnZURvdWJsZUNsaWNrLFxyXG4gICAgICBvbkVkZ2VNb3VzZUVudGVyID0gX3JlZi5vbkVkZ2VNb3VzZUVudGVyLFxyXG4gICAgICBvbkVkZ2VNb3VzZU1vdmUgPSBfcmVmLm9uRWRnZU1vdXNlTW92ZSxcclxuICAgICAgb25FZGdlTW91c2VMZWF2ZSA9IF9yZWYub25FZGdlTW91c2VMZWF2ZSxcclxuICAgICAgb25FZGdlVXBkYXRlU3RhcnQgPSBfcmVmLm9uRWRnZVVwZGF0ZVN0YXJ0LFxyXG4gICAgICBvbkVkZ2VVcGRhdGVFbmQgPSBfcmVmLm9uRWRnZVVwZGF0ZUVuZCxcclxuICAgICAgX3JlZiRlZGdlVXBkYXRlclJhZGl1ID0gX3JlZi5lZGdlVXBkYXRlclJhZGl1cyxcclxuICAgICAgZWRnZVVwZGF0ZXJSYWRpdXMgPSBfcmVmJGVkZ2VVcGRhdGVyUmFkaXUgPT09IHZvaWQgMCA/IDEwIDogX3JlZiRlZGdlVXBkYXRlclJhZGl1LFxyXG4gICAgICBvbk5vZGVzQ2hhbmdlID0gX3JlZi5vbk5vZGVzQ2hhbmdlLFxyXG4gICAgICBvbkVkZ2VzQ2hhbmdlID0gX3JlZi5vbkVkZ2VzQ2hhbmdlLFxyXG4gICAgICBfcmVmJG5vRHJhZ0NsYXNzTmFtZSA9IF9yZWYubm9EcmFnQ2xhc3NOYW1lLFxyXG4gICAgICBub0RyYWdDbGFzc05hbWUgPSBfcmVmJG5vRHJhZ0NsYXNzTmFtZSA9PT0gdm9pZCAwID8gJ25vZHJhZycgOiBfcmVmJG5vRHJhZ0NsYXNzTmFtZSxcclxuICAgICAgX3JlZiRub1doZWVsQ2xhc3NOYW1lID0gX3JlZi5ub1doZWVsQ2xhc3NOYW1lLFxyXG4gICAgICBub1doZWVsQ2xhc3NOYW1lID0gX3JlZiRub1doZWVsQ2xhc3NOYW1lID09PSB2b2lkIDAgPyAnbm93aGVlbCcgOiBfcmVmJG5vV2hlZWxDbGFzc05hbWUsXHJcbiAgICAgIF9yZWYkbm9QYW5DbGFzc05hbWUgPSBfcmVmLm5vUGFuQ2xhc3NOYW1lLFxyXG4gICAgICBub1BhbkNsYXNzTmFtZSA9IF9yZWYkbm9QYW5DbGFzc05hbWUgPT09IHZvaWQgMCA/ICdub3BhbicgOiBfcmVmJG5vUGFuQ2xhc3NOYW1lLFxyXG4gICAgICBfcmVmJGZpdFZpZXcgPSBfcmVmLmZpdFZpZXcsXHJcbiAgICAgIGZpdFZpZXcgPSBfcmVmJGZpdFZpZXcgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRmaXRWaWV3LFxyXG4gICAgICBmaXRWaWV3T3B0aW9ucyA9IF9yZWYuZml0Vmlld09wdGlvbnMsXHJcbiAgICAgIF9yZWYkY29ubmVjdE9uQ2xpY2sgPSBfcmVmLmNvbm5lY3RPbkNsaWNrLFxyXG4gICAgICBjb25uZWN0T25DbGljayA9IF9yZWYkY29ubmVjdE9uQ2xpY2sgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGNvbm5lY3RPbkNsaWNrLFxyXG4gICAgICBhdHRyaWJ1dGlvblBvc2l0aW9uID0gX3JlZi5hdHRyaWJ1dGlvblBvc2l0aW9uLFxyXG4gICAgICBwcm9PcHRpb25zID0gX3JlZi5wcm9PcHRpb25zLFxyXG4gICAgICBkZWZhdWx0RWRnZU9wdGlvbnMgPSBfcmVmLmRlZmF1bHRFZGdlT3B0aW9ucyxcclxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQpO1xyXG5cclxuICB2YXIgbm9kZVR5cGVzUGFyc2VkID0gdXNlTm9kZU9yRWRnZVR5cGVzKG5vZGVUeXBlcywgY3JlYXRlTm9kZVR5cGVzKTtcclxuICB2YXIgZWRnZVR5cGVzUGFyc2VkID0gdXNlTm9kZU9yRWRnZVR5cGVzKGVkZ2VUeXBlcywgY3JlYXRlRWRnZVR5cGVzKTtcclxuICB2YXIgcmVhY3RGbG93Q2xhc3NlcyA9IGNjKFsncmVhY3QtZmxvdycsIGNsYXNzTmFtZV0pO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlc3QpLCB7fSwge1xyXG4gICAgcmVmOiByZWYsXHJcbiAgICBjbGFzc05hbWU6IHJlYWN0Rmxvd0NsYXNzZXNcclxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoR3JhcGhWaWV3JDEsIHtcclxuICAgIG9uSW5pdDogb25Jbml0LFxyXG4gICAgb25Nb3ZlOiBvbk1vdmUsXHJcbiAgICBvbk1vdmVTdGFydDogb25Nb3ZlU3RhcnQsXHJcbiAgICBvbk1vdmVFbmQ6IG9uTW92ZUVuZCxcclxuICAgIG9uTm9kZUNsaWNrOiBvbk5vZGVDbGljayxcclxuICAgIG9uRWRnZUNsaWNrOiBvbkVkZ2VDbGljayxcclxuICAgIG9uTm9kZU1vdXNlRW50ZXI6IG9uTm9kZU1vdXNlRW50ZXIsXHJcbiAgICBvbk5vZGVNb3VzZU1vdmU6IG9uTm9kZU1vdXNlTW92ZSxcclxuICAgIG9uTm9kZU1vdXNlTGVhdmU6IG9uTm9kZU1vdXNlTGVhdmUsXHJcbiAgICBvbk5vZGVDb250ZXh0TWVudTogb25Ob2RlQ29udGV4dE1lbnUsXHJcbiAgICBvbk5vZGVEb3VibGVDbGljazogb25Ob2RlRG91YmxlQ2xpY2ssXHJcbiAgICBvbk5vZGVEcmFnU3RhcnQ6IG9uTm9kZURyYWdTdGFydCxcclxuICAgIG9uTm9kZURyYWc6IG9uTm9kZURyYWcsXHJcbiAgICBvbk5vZGVEcmFnU3RvcDogb25Ob2RlRHJhZ1N0b3AsXHJcbiAgICBub2RlVHlwZXM6IG5vZGVUeXBlc1BhcnNlZCxcclxuICAgIGVkZ2VUeXBlczogZWRnZVR5cGVzUGFyc2VkLFxyXG4gICAgY29ubmVjdGlvbkxpbmVUeXBlOiBjb25uZWN0aW9uTGluZVR5cGUsXHJcbiAgICBjb25uZWN0aW9uTGluZVN0eWxlOiBjb25uZWN0aW9uTGluZVN0eWxlLFxyXG4gICAgY29ubmVjdGlvbkxpbmVDb21wb25lbnQ6IGNvbm5lY3Rpb25MaW5lQ29tcG9uZW50LFxyXG4gICAgc2VsZWN0aW9uS2V5Q29kZTogc2VsZWN0aW9uS2V5Q29kZSxcclxuICAgIGRlbGV0ZUtleUNvZGU6IGRlbGV0ZUtleUNvZGUsXHJcbiAgICBtdWx0aVNlbGVjdGlvbktleUNvZGU6IG11bHRpU2VsZWN0aW9uS2V5Q29kZSxcclxuICAgIHpvb21BY3RpdmF0aW9uS2V5Q29kZTogem9vbUFjdGl2YXRpb25LZXlDb2RlLFxyXG4gICAgb25seVJlbmRlclZpc2libGVFbGVtZW50czogb25seVJlbmRlclZpc2libGVFbGVtZW50cyxcclxuICAgIHNlbGVjdE5vZGVzT25EcmFnOiBzZWxlY3ROb2Rlc09uRHJhZyxcclxuICAgIGRlZmF1bHRab29tOiBkZWZhdWx0Wm9vbSxcclxuICAgIGRlZmF1bHRQb3NpdGlvbjogZGVmYXVsdFBvc2l0aW9uLFxyXG4gICAgcHJldmVudFNjcm9sbGluZzogcHJldmVudFNjcm9sbGluZyxcclxuICAgIHpvb21PblNjcm9sbDogem9vbU9uU2Nyb2xsLFxyXG4gICAgem9vbU9uUGluY2g6IHpvb21PblBpbmNoLFxyXG4gICAgem9vbU9uRG91YmxlQ2xpY2s6IHpvb21PbkRvdWJsZUNsaWNrLFxyXG4gICAgcGFuT25TY3JvbGw6IHBhbk9uU2Nyb2xsLFxyXG4gICAgcGFuT25TY3JvbGxTcGVlZDogcGFuT25TY3JvbGxTcGVlZCxcclxuICAgIHBhbk9uU2Nyb2xsTW9kZTogcGFuT25TY3JvbGxNb2RlLFxyXG4gICAgcGFuT25EcmFnOiBwYW5PbkRyYWcsXHJcbiAgICBvblBhbmVDbGljazogb25QYW5lQ2xpY2ssXHJcbiAgICBvblBhbmVTY3JvbGw6IG9uUGFuZVNjcm9sbCxcclxuICAgIG9uUGFuZUNvbnRleHRNZW51OiBvblBhbmVDb250ZXh0TWVudSxcclxuICAgIG9uU2VsZWN0aW9uRHJhZ1N0YXJ0OiBvblNlbGVjdGlvbkRyYWdTdGFydCxcclxuICAgIG9uU2VsZWN0aW9uRHJhZzogb25TZWxlY3Rpb25EcmFnLFxyXG4gICAgb25TZWxlY3Rpb25EcmFnU3RvcDogb25TZWxlY3Rpb25EcmFnU3RvcCxcclxuICAgIG9uU2VsZWN0aW9uQ29udGV4dE1lbnU6IG9uU2VsZWN0aW9uQ29udGV4dE1lbnUsXHJcbiAgICBvbkVkZ2VVcGRhdGU6IG9uRWRnZVVwZGF0ZSxcclxuICAgIG9uRWRnZUNvbnRleHRNZW51OiBvbkVkZ2VDb250ZXh0TWVudSxcclxuICAgIG9uRWRnZURvdWJsZUNsaWNrOiBvbkVkZ2VEb3VibGVDbGljayxcclxuICAgIG9uRWRnZU1vdXNlRW50ZXI6IG9uRWRnZU1vdXNlRW50ZXIsXHJcbiAgICBvbkVkZ2VNb3VzZU1vdmU6IG9uRWRnZU1vdXNlTW92ZSxcclxuICAgIG9uRWRnZU1vdXNlTGVhdmU6IG9uRWRnZU1vdXNlTGVhdmUsXHJcbiAgICBvbkVkZ2VVcGRhdGVTdGFydDogb25FZGdlVXBkYXRlU3RhcnQsXHJcbiAgICBvbkVkZ2VVcGRhdGVFbmQ6IG9uRWRnZVVwZGF0ZUVuZCxcclxuICAgIGVkZ2VVcGRhdGVyUmFkaXVzOiBlZGdlVXBkYXRlclJhZGl1cyxcclxuICAgIGRlZmF1bHRNYXJrZXJDb2xvcjogZGVmYXVsdE1hcmtlckNvbG9yLFxyXG4gICAgbm9EcmFnQ2xhc3NOYW1lOiBub0RyYWdDbGFzc05hbWUsXHJcbiAgICBub1doZWVsQ2xhc3NOYW1lOiBub1doZWVsQ2xhc3NOYW1lLFxyXG4gICAgbm9QYW5DbGFzc05hbWU6IG5vUGFuQ2xhc3NOYW1lXHJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN0b3JlVXBkYXRlciwge1xyXG4gICAgbm9kZXM6IG5vZGVzLFxyXG4gICAgZWRnZXM6IGVkZ2VzLFxyXG4gICAgZGVmYXVsdE5vZGVzOiBkZWZhdWx0Tm9kZXMsXHJcbiAgICBkZWZhdWx0RWRnZXM6IGRlZmF1bHRFZGdlcyxcclxuICAgIG9uQ29ubmVjdDogb25Db25uZWN0LFxyXG4gICAgb25Db25uZWN0U3RhcnQ6IG9uQ29ubmVjdFN0YXJ0LFxyXG4gICAgb25Db25uZWN0U3RvcDogb25Db25uZWN0U3RvcCxcclxuICAgIG9uQ29ubmVjdEVuZDogb25Db25uZWN0RW5kLFxyXG4gICAgbm9kZXNEcmFnZ2FibGU6IG5vZGVzRHJhZ2dhYmxlLFxyXG4gICAgbm9kZXNDb25uZWN0YWJsZTogbm9kZXNDb25uZWN0YWJsZSxcclxuICAgIGVsZW1lbnRzU2VsZWN0YWJsZTogZWxlbWVudHNTZWxlY3RhYmxlLFxyXG4gICAgbWluWm9vbTogbWluWm9vbSxcclxuICAgIG1heFpvb206IG1heFpvb20sXHJcbiAgICBub2RlRXh0ZW50OiBub2RlRXh0ZW50LFxyXG4gICAgb25Ob2Rlc0NoYW5nZTogb25Ob2Rlc0NoYW5nZSxcclxuICAgIG9uRWRnZXNDaGFuZ2U6IG9uRWRnZXNDaGFuZ2UsXHJcbiAgICBzbmFwVG9HcmlkOiBzbmFwVG9HcmlkLFxyXG4gICAgc25hcEdyaWQ6IHNuYXBHcmlkLFxyXG4gICAgY29ubmVjdGlvbk1vZGU6IGNvbm5lY3Rpb25Nb2RlLFxyXG4gICAgdHJhbnNsYXRlRXh0ZW50OiB0cmFuc2xhdGVFeHRlbnQsXHJcbiAgICBjb25uZWN0T25DbGljazogY29ubmVjdE9uQ2xpY2ssXHJcbiAgICBkZWZhdWx0RWRnZU9wdGlvbnM6IGRlZmF1bHRFZGdlT3B0aW9ucyxcclxuICAgIGZpdFZpZXc6IGZpdFZpZXcsXHJcbiAgICBmaXRWaWV3T3B0aW9uczogZml0Vmlld09wdGlvbnMsXHJcbiAgICBvbk5vZGVzRGVsZXRlOiBvbk5vZGVzRGVsZXRlLFxyXG4gICAgb25FZGdlc0RlbGV0ZTogb25FZGdlc0RlbGV0ZVxyXG4gIH0pLCBvblNlbGVjdGlvbkNoYW5nZSAmJiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTZWxlY3Rpb25MaXN0ZW5lciQxLCB7XHJcbiAgICBvblNlbGVjdGlvbkNoYW5nZTogb25TZWxlY3Rpb25DaGFuZ2VcclxuICB9KSwgY2hpbGRyZW4sIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEF0dHJpYnV0aW9uLCB7XHJcbiAgICBwcm9PcHRpb25zOiBwcm9PcHRpb25zLFxyXG4gICAgcG9zaXRpb246IGF0dHJpYnV0aW9uUG9zaXRpb25cclxuICB9KSkpO1xyXG59KTtcclxuUmVhY3RGbG93LmRpc3BsYXlOYW1lID0gJ1JlYWN0Rmxvdyc7XHJcblxyXG52YXIgUmVhY3RGbG93UHJvdmlkZXIgPSBmdW5jdGlvbiBSZWFjdEZsb3dQcm92aWRlcihfcmVmKSB7XHJcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIkMSwge1xyXG4gICAgY3JlYXRlU3RvcmU6IGNyZWF0ZVN0b3JlXHJcbiAgfSwgY2hpbGRyZW4pO1xyXG59O1xyXG5cclxuUmVhY3RGbG93UHJvdmlkZXIuZGlzcGxheU5hbWUgPSAnUmVhY3RGbG93UHJvdmlkZXInO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlVXNlSXRlbXNTdGF0ZShhcHBseUNoYW5nZXMpIHtcclxuICByZXR1cm4gZnVuY3Rpb24gKGluaXRpYWxJdGVtcykge1xyXG4gICAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGluaXRpYWxJdGVtcyksXHJcbiAgICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXHJcbiAgICAgICAgaXRlbXMgPSBfdXNlU3RhdGUyWzBdLFxyXG4gICAgICAgIHNldEl0ZW1zID0gX3VzZVN0YXRlMlsxXTtcclxuXHJcbiAgICB2YXIgb25JdGVtc0NoYW5nZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGFuZ2VzKSB7XHJcbiAgICAgIHJldHVybiBzZXRJdGVtcyhmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgICAgICByZXR1cm4gYXBwbHlDaGFuZ2VzKGNoYW5nZXMsIGl0ZW1zKTtcclxuICAgICAgfSk7XHJcbiAgICB9LCBbXSk7XHJcbiAgICByZXR1cm4gW2l0ZW1zLCBzZXRJdGVtcywgb25JdGVtc0NoYW5nZV07XHJcbiAgfTtcclxufVxyXG5cclxudmFyIHVzZU5vZGVzU3RhdGUgPSBjcmVhdGVVc2VJdGVtc1N0YXRlKGFwcGx5Tm9kZUNoYW5nZXMpO1xyXG52YXIgdXNlRWRnZXNTdGF0ZSA9IGNyZWF0ZVVzZUl0ZW1zU3RhdGUoYXBwbHlFZGdlQ2hhbmdlcyk7XHJcblxyXG5leHBvcnQgeyBCZXppZXJFZGdlLCBFZGdlVGV4dCQxIGFzIEVkZ2VUZXh0LCBIYW5kbGUkMSBhcyBIYW5kbGUsIFJlYWN0Rmxvd1Byb3ZpZGVyLCBTaW1wbGVCZXppZXJFZGdlLCBTbW9vdGhTdGVwRWRnZSwgU3RlcEVkZ2UsIFN0cmFpZ2h0RWRnZSwgUmVhY3RGbG93IGFzIGRlZmF1bHQsIGdldEJlemllckNlbnRlciBhcyBnZXRCZXppZXJFZGdlQ2VudGVyLCBnZXRCZXppZXJQYXRoLCBnZXRDZW50ZXIgYXMgZ2V0RWRnZUNlbnRlciwgZ2V0TWFya2VyRW5kLCBnZXRTaW1wbGVCZXppZXJDZW50ZXIgYXMgZ2V0U2ltcGxlQmV6aWVyRWRnZUNlbnRlciwgZ2V0U2ltcGxlQmV6aWVyUGF0aCwgZ2V0U21vb3RoU3RlcFBhdGgsIHVzZUVkZ2VzU3RhdGUsIHVzZUtleVByZXNzLCB1c2VOb2Rlc1N0YXRlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/index.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/index2.js":
/*!**************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/index2.js ***!
  \**************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ index)\n/* harmony export */ });\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var classcat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classcat */ \"classcat\");\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand/shallow */ \"zustand/shallow\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, classcat__WEBPACK_IMPORTED_MODULE_2__, zustand_shallow__WEBPACK_IMPORTED_MODULE_3__, zustand__WEBPACK_IMPORTED_MODULE_4__, zustand_context__WEBPACK_IMPORTED_MODULE_5__, d3_zoom__WEBPACK_IMPORTED_MODULE_6__]);\n([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, classcat__WEBPACK_IMPORTED_MODULE_2__, zustand_shallow__WEBPACK_IMPORTED_MODULE_3__, zustand__WEBPACK_IMPORTED_MODULE_4__, zustand_context__WEBPACK_IMPORTED_MODULE_5__, d3_zoom__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MiniMapNode = function MiniMapNode(_ref) {\r\n  var x = _ref.x,\r\n      y = _ref.y,\r\n      width = _ref.width,\r\n      height = _ref.height,\r\n      style = _ref.style,\r\n      color = _ref.color,\r\n      strokeColor = _ref.strokeColor,\r\n      strokeWidth = _ref.strokeWidth,\r\n      className = _ref.className,\r\n      borderRadius = _ref.borderRadius,\r\n      shapeRendering = _ref.shapeRendering;\r\n\r\n  var _ref2 = style || {},\r\n      background = _ref2.background,\r\n      backgroundColor = _ref2.backgroundColor;\r\n\r\n  var fill = color || background || backgroundColor;\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"rect\", {\r\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__minimap-node', className]),\r\n    x: x,\r\n    y: y,\r\n    rx: borderRadius,\r\n    ry: borderRadius,\r\n    width: width,\r\n    height: height,\r\n    fill: fill,\r\n    stroke: strokeColor,\r\n    strokeWidth: strokeWidth,\r\n    shapeRendering: shapeRendering\r\n  });\r\n};\r\n\r\nMiniMapNode.displayName = 'MiniMapNode';\r\nvar MiniMapNode$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(MiniMapNode);\r\n\r\nvar defaultWidth = 200;\r\nvar defaultHeight = 150;\r\n\r\nvar selector = function selector(s) {\r\n  return {\r\n    width: s.width,\r\n    height: s.height,\r\n    transform: s.transform,\r\n    nodeInternals: s.nodeInternals\r\n  };\r\n};\r\n\r\nvar MiniMap = function MiniMap(_ref) {\r\n  var style = _ref.style,\r\n      className = _ref.className,\r\n      _ref$nodeStrokeColor = _ref.nodeStrokeColor,\r\n      nodeStrokeColor = _ref$nodeStrokeColor === void 0 ? '#555' : _ref$nodeStrokeColor,\r\n      _ref$nodeColor = _ref.nodeColor,\r\n      nodeColor = _ref$nodeColor === void 0 ? '#fff' : _ref$nodeColor,\r\n      _ref$nodeClassName = _ref.nodeClassName,\r\n      nodeClassName = _ref$nodeClassName === void 0 ? '' : _ref$nodeClassName,\r\n      _ref$nodeBorderRadius = _ref.nodeBorderRadius,\r\n      nodeBorderRadius = _ref$nodeBorderRadius === void 0 ? 5 : _ref$nodeBorderRadius,\r\n      _ref$nodeStrokeWidth = _ref.nodeStrokeWidth,\r\n      nodeStrokeWidth = _ref$nodeStrokeWidth === void 0 ? 2 : _ref$nodeStrokeWidth,\r\n      _ref$maskColor = _ref.maskColor,\r\n      maskColor = _ref$maskColor === void 0 ? 'rgb(240, 242, 243, 0.7)' : _ref$maskColor;\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\r\n      containerWidth = _useStore.width,\r\n      containerHeight = _useStore.height,\r\n      transform = _useStore.transform,\r\n      nodeInternals = _useStore.nodeInternals;\r\n\r\n  var _transform = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(transform, 3),\r\n      tX = _transform[0],\r\n      tY = _transform[1],\r\n      tScale = _transform[2];\r\n\r\n  var mapClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(['react-flow__minimap', className]);\r\n  var elementWidth = (style === null || style === void 0 ? void 0 : style.width) || defaultWidth;\r\n  var elementHeight = (style === null || style === void 0 ? void 0 : style.height) || defaultHeight;\r\n  var nodeColorFunc = nodeColor instanceof Function ? nodeColor : function () {\r\n    return nodeColor;\r\n  };\r\n  var nodeStrokeColorFunc = nodeStrokeColor instanceof Function ? nodeStrokeColor : function () {\r\n    return nodeStrokeColor;\r\n  };\r\n  var nodeClassNameFunc = nodeClassName instanceof Function ? nodeClassName : function () {\r\n    return nodeClassName;\r\n  };\r\n  var hasNodes = nodeInternals && nodeInternals.size > 0; // @TODO: work with nodeInternals instead of converting it to an array\r\n\r\n  var nodes = Array.from(nodeInternals).map(function (_ref2) {\r\n    var _ref3 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref2, 2);\r\n        _ref3[0];\r\n        var node = _ref3[1];\r\n\r\n    return node;\r\n  });\r\n  var bb = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.l)(nodes);\r\n  var viewBB = {\r\n    x: -tX / tScale,\r\n    y: -tY / tScale,\r\n    width: containerWidth / tScale,\r\n    height: containerHeight / tScale\r\n  };\r\n  var boundingRect = hasNodes ? (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.A)(bb, viewBB) : viewBB;\r\n  var scaledWidth = boundingRect.width / elementWidth;\r\n  var scaledHeight = boundingRect.height / elementHeight;\r\n  var viewScale = Math.max(scaledWidth, scaledHeight);\r\n  var viewWidth = viewScale * elementWidth;\r\n  var viewHeight = viewScale * elementHeight;\r\n  var offset = 5 * viewScale;\r\n  var x = boundingRect.x - (viewWidth - boundingRect.width) / 2 - offset;\r\n  var y = boundingRect.y - (viewHeight - boundingRect.height) / 2 - offset;\r\n  var width = viewWidth + offset * 2;\r\n  var height = viewHeight + offset * 2;\r\n  var shapeRendering = typeof window === 'undefined' || !!window.chrome ? 'crispEdges' : 'geometricPrecision';\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"svg\", {\r\n    width: elementWidth,\r\n    height: elementHeight,\r\n    viewBox: \"\".concat(x, \" \").concat(y, \" \").concat(width, \" \").concat(height),\r\n    style: style,\r\n    className: mapClasses\r\n  }, Array.from(nodeInternals).filter(function (_ref4) {\r\n    var _ref5 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref4, 2);\r\n        _ref5[0];\r\n        var node = _ref5[1];\r\n\r\n    return !node.hidden && node.width && node.height;\r\n  }).map(function (_ref6) {\r\n    var _nodeInternals$get;\r\n\r\n    var _ref7 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_ref6, 2);\r\n        _ref7[0];\r\n        var node = _ref7[1];\r\n\r\n    var positionAbsolute = (_nodeInternals$get = nodeInternals.get(node.id)) === null || _nodeInternals$get === void 0 ? void 0 : _nodeInternals$get.positionAbsolute;\r\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(MiniMapNode$1, {\r\n      key: node.id,\r\n      x: (positionAbsolute === null || positionAbsolute === void 0 ? void 0 : positionAbsolute.x) || 0,\r\n      y: (positionAbsolute === null || positionAbsolute === void 0 ? void 0 : positionAbsolute.y) || 0,\r\n      width: node.width,\r\n      height: node.height,\r\n      style: node.style,\r\n      className: nodeClassNameFunc(node),\r\n      color: nodeColorFunc(node),\r\n      borderRadius: nodeBorderRadius,\r\n      strokeColor: nodeStrokeColorFunc(node),\r\n      strokeWidth: nodeStrokeWidth,\r\n      shapeRendering: shapeRendering\r\n    });\r\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"path\", {\r\n    className: \"react-flow__minimap-mask\",\r\n    d: \"M\".concat(x - offset, \",\").concat(y - offset, \"h\").concat(width + offset * 2, \"v\").concat(height + offset * 2, \"h\").concat(-width - offset * 2, \"z\\n        M\").concat(viewBB.x, \",\").concat(viewBB.y, \"h\").concat(viewBB.width, \"v\").concat(viewBB.height, \"h\").concat(-viewBB.width, \"z\"),\r\n    fill: maskColor,\r\n    fillRule: \"evenodd\"\r\n  }));\r\n};\r\n\r\nMiniMap.displayName = 'MiniMap';\r\nvar index = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(MiniMap);\r\n\r\n\r\n//# sourceMappingURL=index2.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXgyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXFIO0FBQ3hFO0FBQ25CO0FBQ1k7QUFDckI7QUFDUTtBQUNSO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQTRCO0FBQ2xELGVBQWUsb0RBQUU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDJDQUFJO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQVEsV0FBVyx1REFBTztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFEQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9EQUFFO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXLHFEQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBZ0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBNEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxnQkFBZ0IscURBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdCQUFnQixxREFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnREFBNEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUcsZ0JBQWdCLGdEQUE0QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQUk7QUFDN0I7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXgyLmpzP2ZkYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYiBhcyB1c2VTdG9yZSwgXyBhcyBfc2xpY2VkVG9BcnJheSwgbCBhcyBnZXRSZWN0T2ZOb2RlcywgQSBhcyBnZXRCb3VuZHNvZlJlY3RzIH0gZnJvbSAnLi9pbmRleC0zZGUyYjRkZC5qcyc7XHJcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBtZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgY2MgZnJvbSAnY2xhc3NjYXQnO1xyXG5pbXBvcnQgc2hhbGxvdyBmcm9tICd6dXN0YW5kL3NoYWxsb3cnO1xyXG5pbXBvcnQgJ3p1c3RhbmQnO1xyXG5pbXBvcnQgJ3p1c3RhbmQvY29udGV4dCc7XHJcbmltcG9ydCAnZDMtem9vbSc7XHJcblxyXG52YXIgTWluaU1hcE5vZGUgPSBmdW5jdGlvbiBNaW5pTWFwTm9kZShfcmVmKSB7XHJcbiAgdmFyIHggPSBfcmVmLngsXHJcbiAgICAgIHkgPSBfcmVmLnksXHJcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aCxcclxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXHJcbiAgICAgIHN0eWxlID0gX3JlZi5zdHlsZSxcclxuICAgICAgY29sb3IgPSBfcmVmLmNvbG9yLFxyXG4gICAgICBzdHJva2VDb2xvciA9IF9yZWYuc3Ryb2tlQ29sb3IsXHJcbiAgICAgIHN0cm9rZVdpZHRoID0gX3JlZi5zdHJva2VXaWR0aCxcclxuICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXHJcbiAgICAgIGJvcmRlclJhZGl1cyA9IF9yZWYuYm9yZGVyUmFkaXVzLFxyXG4gICAgICBzaGFwZVJlbmRlcmluZyA9IF9yZWYuc2hhcGVSZW5kZXJpbmc7XHJcblxyXG4gIHZhciBfcmVmMiA9IHN0eWxlIHx8IHt9LFxyXG4gICAgICBiYWNrZ3JvdW5kID0gX3JlZjIuYmFja2dyb3VuZCxcclxuICAgICAgYmFja2dyb3VuZENvbG9yID0gX3JlZjIuYmFja2dyb3VuZENvbG9yO1xyXG5cclxuICB2YXIgZmlsbCA9IGNvbG9yIHx8IGJhY2tncm91bmQgfHwgYmFja2dyb3VuZENvbG9yO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xyXG4gICAgY2xhc3NOYW1lOiBjYyhbJ3JlYWN0LWZsb3dfX21pbmltYXAtbm9kZScsIGNsYXNzTmFtZV0pLFxyXG4gICAgeDogeCxcclxuICAgIHk6IHksXHJcbiAgICByeDogYm9yZGVyUmFkaXVzLFxyXG4gICAgcnk6IGJvcmRlclJhZGl1cyxcclxuICAgIHdpZHRoOiB3aWR0aCxcclxuICAgIGhlaWdodDogaGVpZ2h0LFxyXG4gICAgZmlsbDogZmlsbCxcclxuICAgIHN0cm9rZTogc3Ryb2tlQ29sb3IsXHJcbiAgICBzdHJva2VXaWR0aDogc3Ryb2tlV2lkdGgsXHJcbiAgICBzaGFwZVJlbmRlcmluZzogc2hhcGVSZW5kZXJpbmdcclxuICB9KTtcclxufTtcclxuXHJcbk1pbmlNYXBOb2RlLmRpc3BsYXlOYW1lID0gJ01pbmlNYXBOb2RlJztcclxudmFyIE1pbmlNYXBOb2RlJDEgPSAvKiNfX1BVUkVfXyovbWVtbyhNaW5pTWFwTm9kZSk7XHJcblxyXG52YXIgZGVmYXVsdFdpZHRoID0gMjAwO1xyXG52YXIgZGVmYXVsdEhlaWdodCA9IDE1MDtcclxuXHJcbnZhciBzZWxlY3RvciA9IGZ1bmN0aW9uIHNlbGVjdG9yKHMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgd2lkdGg6IHMud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHMuaGVpZ2h0LFxyXG4gICAgdHJhbnNmb3JtOiBzLnRyYW5zZm9ybSxcclxuICAgIG5vZGVJbnRlcm5hbHM6IHMubm9kZUludGVybmFsc1xyXG4gIH07XHJcbn07XHJcblxyXG52YXIgTWluaU1hcCA9IGZ1bmN0aW9uIE1pbmlNYXAoX3JlZikge1xyXG4gIHZhciBzdHlsZSA9IF9yZWYuc3R5bGUsXHJcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxyXG4gICAgICBfcmVmJG5vZGVTdHJva2VDb2xvciA9IF9yZWYubm9kZVN0cm9rZUNvbG9yLFxyXG4gICAgICBub2RlU3Ryb2tlQ29sb3IgPSBfcmVmJG5vZGVTdHJva2VDb2xvciA9PT0gdm9pZCAwID8gJyM1NTUnIDogX3JlZiRub2RlU3Ryb2tlQ29sb3IsXHJcbiAgICAgIF9yZWYkbm9kZUNvbG9yID0gX3JlZi5ub2RlQ29sb3IsXHJcbiAgICAgIG5vZGVDb2xvciA9IF9yZWYkbm9kZUNvbG9yID09PSB2b2lkIDAgPyAnI2ZmZicgOiBfcmVmJG5vZGVDb2xvcixcclxuICAgICAgX3JlZiRub2RlQ2xhc3NOYW1lID0gX3JlZi5ub2RlQ2xhc3NOYW1lLFxyXG4gICAgICBub2RlQ2xhc3NOYW1lID0gX3JlZiRub2RlQ2xhc3NOYW1lID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkbm9kZUNsYXNzTmFtZSxcclxuICAgICAgX3JlZiRub2RlQm9yZGVyUmFkaXVzID0gX3JlZi5ub2RlQm9yZGVyUmFkaXVzLFxyXG4gICAgICBub2RlQm9yZGVyUmFkaXVzID0gX3JlZiRub2RlQm9yZGVyUmFkaXVzID09PSB2b2lkIDAgPyA1IDogX3JlZiRub2RlQm9yZGVyUmFkaXVzLFxyXG4gICAgICBfcmVmJG5vZGVTdHJva2VXaWR0aCA9IF9yZWYubm9kZVN0cm9rZVdpZHRoLFxyXG4gICAgICBub2RlU3Ryb2tlV2lkdGggPSBfcmVmJG5vZGVTdHJva2VXaWR0aCA9PT0gdm9pZCAwID8gMiA6IF9yZWYkbm9kZVN0cm9rZVdpZHRoLFxyXG4gICAgICBfcmVmJG1hc2tDb2xvciA9IF9yZWYubWFza0NvbG9yLFxyXG4gICAgICBtYXNrQ29sb3IgPSBfcmVmJG1hc2tDb2xvciA9PT0gdm9pZCAwID8gJ3JnYigyNDAsIDI0MiwgMjQzLCAwLjcpJyA6IF9yZWYkbWFza0NvbG9yO1xyXG5cclxuICB2YXIgX3VzZVN0b3JlID0gdXNlU3RvcmUoc2VsZWN0b3IsIHNoYWxsb3cpLFxyXG4gICAgICBjb250YWluZXJXaWR0aCA9IF91c2VTdG9yZS53aWR0aCxcclxuICAgICAgY29udGFpbmVySGVpZ2h0ID0gX3VzZVN0b3JlLmhlaWdodCxcclxuICAgICAgdHJhbnNmb3JtID0gX3VzZVN0b3JlLnRyYW5zZm9ybSxcclxuICAgICAgbm9kZUludGVybmFscyA9IF91c2VTdG9yZS5ub2RlSW50ZXJuYWxzO1xyXG5cclxuICB2YXIgX3RyYW5zZm9ybSA9IF9zbGljZWRUb0FycmF5KHRyYW5zZm9ybSwgMyksXHJcbiAgICAgIHRYID0gX3RyYW5zZm9ybVswXSxcclxuICAgICAgdFkgPSBfdHJhbnNmb3JtWzFdLFxyXG4gICAgICB0U2NhbGUgPSBfdHJhbnNmb3JtWzJdO1xyXG5cclxuICB2YXIgbWFwQ2xhc3NlcyA9IGNjKFsncmVhY3QtZmxvd19fbWluaW1hcCcsIGNsYXNzTmFtZV0pO1xyXG4gIHZhciBlbGVtZW50V2lkdGggPSAoc3R5bGUgPT09IG51bGwgfHwgc3R5bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0eWxlLndpZHRoKSB8fCBkZWZhdWx0V2lkdGg7XHJcbiAgdmFyIGVsZW1lbnRIZWlnaHQgPSAoc3R5bGUgPT09IG51bGwgfHwgc3R5bGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0eWxlLmhlaWdodCkgfHwgZGVmYXVsdEhlaWdodDtcclxuICB2YXIgbm9kZUNvbG9yRnVuYyA9IG5vZGVDb2xvciBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gbm9kZUNvbG9yIDogZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIG5vZGVDb2xvcjtcclxuICB9O1xyXG4gIHZhciBub2RlU3Ryb2tlQ29sb3JGdW5jID0gbm9kZVN0cm9rZUNvbG9yIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBub2RlU3Ryb2tlQ29sb3IgOiBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbm9kZVN0cm9rZUNvbG9yO1xyXG4gIH07XHJcbiAgdmFyIG5vZGVDbGFzc05hbWVGdW5jID0gbm9kZUNsYXNzTmFtZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gbm9kZUNsYXNzTmFtZSA6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBub2RlQ2xhc3NOYW1lO1xyXG4gIH07XHJcbiAgdmFyIGhhc05vZGVzID0gbm9kZUludGVybmFscyAmJiBub2RlSW50ZXJuYWxzLnNpemUgPiAwOyAvLyBAVE9ETzogd29yayB3aXRoIG5vZGVJbnRlcm5hbHMgaW5zdGVhZCBvZiBjb252ZXJ0aW5nIGl0IHRvIGFuIGFycmF5XHJcblxyXG4gIHZhciBub2RlcyA9IEFycmF5LmZyb20obm9kZUludGVybmFscykubWFwKGZ1bmN0aW9uIChfcmVmMikge1xyXG4gICAgdmFyIF9yZWYzID0gX3NsaWNlZFRvQXJyYXkoX3JlZjIsIDIpO1xyXG4gICAgICAgIF9yZWYzWzBdO1xyXG4gICAgICAgIHZhciBub2RlID0gX3JlZjNbMV07XHJcblxyXG4gICAgcmV0dXJuIG5vZGU7XHJcbiAgfSk7XHJcbiAgdmFyIGJiID0gZ2V0UmVjdE9mTm9kZXMobm9kZXMpO1xyXG4gIHZhciB2aWV3QkIgPSB7XHJcbiAgICB4OiAtdFggLyB0U2NhbGUsXHJcbiAgICB5OiAtdFkgLyB0U2NhbGUsXHJcbiAgICB3aWR0aDogY29udGFpbmVyV2lkdGggLyB0U2NhbGUsXHJcbiAgICBoZWlnaHQ6IGNvbnRhaW5lckhlaWdodCAvIHRTY2FsZVxyXG4gIH07XHJcbiAgdmFyIGJvdW5kaW5nUmVjdCA9IGhhc05vZGVzID8gZ2V0Qm91bmRzb2ZSZWN0cyhiYiwgdmlld0JCKSA6IHZpZXdCQjtcclxuICB2YXIgc2NhbGVkV2lkdGggPSBib3VuZGluZ1JlY3Qud2lkdGggLyBlbGVtZW50V2lkdGg7XHJcbiAgdmFyIHNjYWxlZEhlaWdodCA9IGJvdW5kaW5nUmVjdC5oZWlnaHQgLyBlbGVtZW50SGVpZ2h0O1xyXG4gIHZhciB2aWV3U2NhbGUgPSBNYXRoLm1heChzY2FsZWRXaWR0aCwgc2NhbGVkSGVpZ2h0KTtcclxuICB2YXIgdmlld1dpZHRoID0gdmlld1NjYWxlICogZWxlbWVudFdpZHRoO1xyXG4gIHZhciB2aWV3SGVpZ2h0ID0gdmlld1NjYWxlICogZWxlbWVudEhlaWdodDtcclxuICB2YXIgb2Zmc2V0ID0gNSAqIHZpZXdTY2FsZTtcclxuICB2YXIgeCA9IGJvdW5kaW5nUmVjdC54IC0gKHZpZXdXaWR0aCAtIGJvdW5kaW5nUmVjdC53aWR0aCkgLyAyIC0gb2Zmc2V0O1xyXG4gIHZhciB5ID0gYm91bmRpbmdSZWN0LnkgLSAodmlld0hlaWdodCAtIGJvdW5kaW5nUmVjdC5oZWlnaHQpIC8gMiAtIG9mZnNldDtcclxuICB2YXIgd2lkdGggPSB2aWV3V2lkdGggKyBvZmZzZXQgKiAyO1xyXG4gIHZhciBoZWlnaHQgPSB2aWV3SGVpZ2h0ICsgb2Zmc2V0ICogMjtcclxuICB2YXIgc2hhcGVSZW5kZXJpbmcgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhIXdpbmRvdy5jaHJvbWUgPyAnY3Jpc3BFZGdlcycgOiAnZ2VvbWV0cmljUHJlY2lzaW9uJztcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xyXG4gICAgd2lkdGg6IGVsZW1lbnRXaWR0aCxcclxuICAgIGhlaWdodDogZWxlbWVudEhlaWdodCxcclxuICAgIHZpZXdCb3g6IFwiXCIuY29uY2F0KHgsIFwiIFwiKS5jb25jYXQoeSwgXCIgXCIpLmNvbmNhdCh3aWR0aCwgXCIgXCIpLmNvbmNhdChoZWlnaHQpLFxyXG4gICAgc3R5bGU6IHN0eWxlLFxyXG4gICAgY2xhc3NOYW1lOiBtYXBDbGFzc2VzXHJcbiAgfSwgQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzKS5maWx0ZXIoZnVuY3Rpb24gKF9yZWY0KSB7XHJcbiAgICB2YXIgX3JlZjUgPSBfc2xpY2VkVG9BcnJheShfcmVmNCwgMik7XHJcbiAgICAgICAgX3JlZjVbMF07XHJcbiAgICAgICAgdmFyIG5vZGUgPSBfcmVmNVsxXTtcclxuXHJcbiAgICByZXR1cm4gIW5vZGUuaGlkZGVuICYmIG5vZGUud2lkdGggJiYgbm9kZS5oZWlnaHQ7XHJcbiAgfSkubWFwKGZ1bmN0aW9uIChfcmVmNikge1xyXG4gICAgdmFyIF9ub2RlSW50ZXJuYWxzJGdldDtcclxuXHJcbiAgICB2YXIgX3JlZjcgPSBfc2xpY2VkVG9BcnJheShfcmVmNiwgMik7XHJcbiAgICAgICAgX3JlZjdbMF07XHJcbiAgICAgICAgdmFyIG5vZGUgPSBfcmVmN1sxXTtcclxuXHJcbiAgICB2YXIgcG9zaXRpb25BYnNvbHV0ZSA9IChfbm9kZUludGVybmFscyRnZXQgPSBub2RlSW50ZXJuYWxzLmdldChub2RlLmlkKSkgPT09IG51bGwgfHwgX25vZGVJbnRlcm5hbHMkZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZUludGVybmFscyRnZXQucG9zaXRpb25BYnNvbHV0ZTtcclxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChNaW5pTWFwTm9kZSQxLCB7XHJcbiAgICAgIGtleTogbm9kZS5pZCxcclxuICAgICAgeDogKHBvc2l0aW9uQWJzb2x1dGUgPT09IG51bGwgfHwgcG9zaXRpb25BYnNvbHV0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9zaXRpb25BYnNvbHV0ZS54KSB8fCAwLFxyXG4gICAgICB5OiAocG9zaXRpb25BYnNvbHV0ZSA9PT0gbnVsbCB8fCBwb3NpdGlvbkFic29sdXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3NpdGlvbkFic29sdXRlLnkpIHx8IDAsXHJcbiAgICAgIHdpZHRoOiBub2RlLndpZHRoLFxyXG4gICAgICBoZWlnaHQ6IG5vZGUuaGVpZ2h0LFxyXG4gICAgICBzdHlsZTogbm9kZS5zdHlsZSxcclxuICAgICAgY2xhc3NOYW1lOiBub2RlQ2xhc3NOYW1lRnVuYyhub2RlKSxcclxuICAgICAgY29sb3I6IG5vZGVDb2xvckZ1bmMobm9kZSksXHJcbiAgICAgIGJvcmRlclJhZGl1czogbm9kZUJvcmRlclJhZGl1cyxcclxuICAgICAgc3Ryb2tlQ29sb3I6IG5vZGVTdHJva2VDb2xvckZ1bmMobm9kZSksXHJcbiAgICAgIHN0cm9rZVdpZHRoOiBub2RlU3Ryb2tlV2lkdGgsXHJcbiAgICAgIHNoYXBlUmVuZGVyaW5nOiBzaGFwZVJlbmRlcmluZ1xyXG4gICAgfSk7XHJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XHJcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fbWluaW1hcC1tYXNrXCIsXHJcbiAgICBkOiBcIk1cIi5jb25jYXQoeCAtIG9mZnNldCwgXCIsXCIpLmNvbmNhdCh5IC0gb2Zmc2V0LCBcImhcIikuY29uY2F0KHdpZHRoICsgb2Zmc2V0ICogMiwgXCJ2XCIpLmNvbmNhdChoZWlnaHQgKyBvZmZzZXQgKiAyLCBcImhcIikuY29uY2F0KC13aWR0aCAtIG9mZnNldCAqIDIsIFwielxcbiAgICAgICAgTVwiKS5jb25jYXQodmlld0JCLngsIFwiLFwiKS5jb25jYXQodmlld0JCLnksIFwiaFwiKS5jb25jYXQodmlld0JCLndpZHRoLCBcInZcIikuY29uY2F0KHZpZXdCQi5oZWlnaHQsIFwiaFwiKS5jb25jYXQoLXZpZXdCQi53aWR0aCwgXCJ6XCIpLFxyXG4gICAgZmlsbDogbWFza0NvbG9yLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiXHJcbiAgfSkpO1xyXG59O1xyXG5cclxuTWluaU1hcC5kaXNwbGF5TmFtZSA9ICdNaW5pTWFwJztcclxudmFyIGluZGV4ID0gLyojX19QVVJFX18qL21lbW8oTWluaU1hcCk7XHJcblxyXG5leHBvcnQgeyBpbmRleCBhcyBkZWZhdWx0IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Mi5qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/index2.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/index3.js":
/*!**************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/index3.js ***!
  \**************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ControlButton\": () => (/* binding */ ControlButton),\n/* harmony export */   \"default\": () => (/* binding */ index)\n/* harmony export */ });\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var _useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useReactFlow-3e694915.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/useReactFlow-3e694915.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var classcat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classcat */ \"classcat\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! zustand/shallow */ \"zustand/shallow\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, _useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__, classcat__WEBPACK_IMPORTED_MODULE_3__, zustand__WEBPACK_IMPORTED_MODULE_4__, zustand_context__WEBPACK_IMPORTED_MODULE_5__, d3_zoom__WEBPACK_IMPORTED_MODULE_6__, zustand_shallow__WEBPACK_IMPORTED_MODULE_7__]);\n([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, _useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__, classcat__WEBPACK_IMPORTED_MODULE_3__, zustand__WEBPACK_IMPORTED_MODULE_4__, zustand_context__WEBPACK_IMPORTED_MODULE_5__, d3_zoom__WEBPACK_IMPORTED_MODULE_6__, zustand_shallow__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar _path$4;\r\n\r\nfunction _extends$4() { _extends$4 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$4.apply(this, arguments); }\r\n\r\nvar SvgPlus = function SvgPlus(props) {\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"svg\", _extends$4({\r\n    xmlns: \"http://www.w3.org/2000/svg\",\r\n    viewBox: \"0 0 32 32\"\r\n  }, props), _path$4 || (_path$4 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"path\", {\r\n    d: \"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\"\r\n  })));\r\n};\r\n\r\nvar _path$3;\r\n\r\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\r\n\r\nvar SvgMinus = function SvgMinus(props) {\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"svg\", _extends$3({\r\n    xmlns: \"http://www.w3.org/2000/svg\",\r\n    viewBox: \"0 0 32 5\"\r\n  }, props), _path$3 || (_path$3 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"path\", {\r\n    d: \"M0 0h32v4.2H0z\"\r\n  })));\r\n};\r\n\r\nvar _path$2;\r\n\r\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\r\n\r\nvar SvgFitview = function SvgFitview(props) {\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"svg\", _extends$2({\r\n    xmlns: \"http://www.w3.org/2000/svg\",\r\n    viewBox: \"0 0 32 30\"\r\n  }, props), _path$2 || (_path$2 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"path\", {\r\n    d: \"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\"\r\n  })));\r\n};\r\n\r\nvar _path$1;\r\n\r\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\r\n\r\nvar SvgLock = function SvgLock(props) {\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"svg\", _extends$1({\r\n    xmlns: \"http://www.w3.org/2000/svg\",\r\n    viewBox: \"0 0 25 32\"\r\n  }, props), _path$1 || (_path$1 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"path\", {\r\n    d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\"\r\n  })));\r\n};\r\n\r\nvar _path;\r\n\r\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\n\r\nvar SvgUnlock = function SvgUnlock(props) {\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"svg\", _extends({\r\n    xmlns: \"http://www.w3.org/2000/svg\",\r\n    viewBox: \"0 0 25 32\"\r\n  }, props), _path || (_path = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"path\", {\r\n    d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z\"\r\n  })));\r\n};\r\n\r\nvar _excluded = [\"children\", \"className\"];\r\n\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\nvar ControlButton = function ControlButton(_ref) {\r\n  var children = _ref.children,\r\n      className = _ref.className,\r\n      rest = (0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__.a)(_ref, _excluded);\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"button\", _objectSpread({\r\n    type: \"button\",\r\n    className: (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__controls-button', className])\r\n  }, rest), children);\r\n};\r\n\r\nvar isInteractiveSelector = function isInteractiveSelector(s) {\r\n  return s.nodesDraggable && s.nodesConnectable && s.elementsSelectable;\r\n};\r\n\r\nvar Controls = function Controls(_ref2) {\r\n  var style = _ref2.style,\r\n      _ref2$showZoom = _ref2.showZoom,\r\n      showZoom = _ref2$showZoom === void 0 ? true : _ref2$showZoom,\r\n      _ref2$showFitView = _ref2.showFitView,\r\n      showFitView = _ref2$showFitView === void 0 ? true : _ref2$showFitView,\r\n      _ref2$showInteractive = _ref2.showInteractive,\r\n      showInteractive = _ref2$showInteractive === void 0 ? true : _ref2$showInteractive,\r\n      fitViewOptions = _ref2.fitViewOptions,\r\n      onZoomIn = _ref2.onZoomIn,\r\n      onZoomOut = _ref2.onZoomOut,\r\n      onFitView = _ref2.onFitView,\r\n      onInteractiveChange = _ref2.onInteractiveChange,\r\n      className = _ref2.className,\r\n      children = _ref2.children;\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n\r\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\r\n      _useState2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useState, 2),\r\n      isVisible = _useState2[0],\r\n      setIsVisible = _useState2[1];\r\n\r\n  var isInteractive = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(isInteractiveSelector);\r\n\r\n  var _useReactFlow = (0,_useReactFlow_3e694915_js__WEBPACK_IMPORTED_MODULE_1__.u)(),\r\n      zoomIn = _useReactFlow.zoomIn,\r\n      zoomOut = _useReactFlow.zoomOut,\r\n      fitView = _useReactFlow.fitView;\r\n\r\n  var mapClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(['react-flow__controls', className]);\r\n  var onZoomInHandler = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {\r\n    zoomIn === null || zoomIn === void 0 ? void 0 : zoomIn();\r\n    onZoomIn === null || onZoomIn === void 0 ? void 0 : onZoomIn();\r\n  }, [zoomIn, onZoomIn]);\r\n  var onZoomOutHandler = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {\r\n    zoomOut === null || zoomOut === void 0 ? void 0 : zoomOut();\r\n    onZoomOut === null || onZoomOut === void 0 ? void 0 : onZoomOut();\r\n  }, [zoomOut, onZoomOut]);\r\n  var onFitViewHandler = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {\r\n    fitView === null || fitView === void 0 ? void 0 : fitView(fitViewOptions);\r\n    onFitView === null || onFitView === void 0 ? void 0 : onFitView();\r\n  }, [fitView, fitViewOptions, onFitView]);\r\n  var onInteractiveChangeHandler = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(function () {\r\n    store.setState({\r\n      nodesDraggable: !isInteractive,\r\n      nodesConnectable: !isInteractive,\r\n      elementsSelectable: !isInteractive\r\n    });\r\n    onInteractiveChange === null || onInteractiveChange === void 0 ? void 0 : onInteractiveChange(!isInteractive);\r\n  }, [isInteractive, onInteractiveChange]);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\r\n    setIsVisible(true);\r\n  }, []);\r\n\r\n  if (!isVisible) {\r\n    return null;\r\n  }\r\n\r\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"div\", {\r\n    className: mapClasses,\r\n    style: style\r\n  }, showZoom && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(ControlButton, {\r\n    onClick: onZoomInHandler,\r\n    className: \"react-flow__controls-zoomin\",\r\n    title: \"zoom in\",\r\n    \"aria-label\": \"zoom in\"\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(SvgPlus, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(ControlButton, {\r\n    onClick: onZoomOutHandler,\r\n    className: \"react-flow__controls-zoomout\",\r\n    title: \"zoom out\",\r\n    \"aria-label\": \"zoom out\"\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(SvgMinus, null))), showFitView && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(ControlButton, {\r\n    className: \"react-flow__controls-fitview\",\r\n    onClick: onFitViewHandler,\r\n    title: \"fit view\",\r\n    \"aria-label\": \"fit view\"\r\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(SvgFitview, null)), showInteractive && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(ControlButton, {\r\n    className: \"react-flow__controls-interactive\",\r\n    onClick: onInteractiveChangeHandler,\r\n    title: \"toggle interactivity\",\r\n    \"aria-label\": \"toggle interactivity\"\r\n  }, isInteractive ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(SvgUnlock, null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(SvgLock, null)), children);\r\n};\r\n\r\nControls.displayName = 'Controls';\r\nvar index = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(Controls);\r\n\r\n\r\n//# sourceMappingURL=index3.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXgzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUg7QUFDbkI7QUFDL0Q7QUFDZ0Q7QUFDckQ7QUFDVDtBQUNRO0FBQ1I7QUFDUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQWtELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCxpQ0FBaUMsa0JBQWtCO0FBQ3hSO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHLDZDQUE2QyxnREFBbUI7QUFDbkU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQWtELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCxpQ0FBaUMsa0JBQWtCO0FBQ3hSO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHLDZDQUE2QyxnREFBbUI7QUFDbkU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQWtELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCxpQ0FBaUMsa0JBQWtCO0FBQ3hSO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHLDZDQUE2QyxnREFBbUI7QUFDbkU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQWtELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCxpQ0FBaUMsa0JBQWtCO0FBQ3hSO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHLDZDQUE2QyxnREFBbUI7QUFDbkU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQWdELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCxpQ0FBaUMsa0JBQWtCO0FBQ3BSO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHLHlDQUF5QyxnREFBbUI7QUFDL0Q7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsZ0NBQWdDLG9DQUFvQyxvREFBb0QsNkRBQTZELGlFQUFpRSxzQ0FBc0M7QUFDdlU7QUFDQSxpQ0FBaUMsZ0JBQWdCLHNCQUFzQixPQUFPLHVEQUF1RCw2REFBNkQscURBQWUsNkJBQTZCLG9LQUFvSyxtRkFBbUYsS0FBSztBQUMxZTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUF3QjtBQUNyQztBQUNBLHNCQUFzQixnREFBNEI7QUFDbEQ7QUFDQSxlQUFlLG9EQUFFO0FBQ2pCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFXO0FBQ3pCO0FBQ0Esa0JBQWtCLCtDQUFRO0FBQzFCLG1CQUFtQixxREFBYztBQUNqQztBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscURBQVE7QUFDOUI7QUFDQSxzQkFBc0IsNERBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0RBQUU7QUFDckIsd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLGtEQUFXO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLGtEQUFXO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbUNBQW1DLGtEQUFXO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdEQUE0QjtBQUNsRDtBQUNBO0FBQ0EsR0FBRywyQkFBMkIsZ0RBQTRCLENBQUMsMkNBQXVCLHFCQUFxQixnREFBNEI7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGVBQWUsZ0RBQTRCLCtCQUErQixnREFBNEI7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGVBQWUsZ0RBQTRCLGdEQUFnRCxnREFBNEI7QUFDMUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGVBQWUsZ0RBQTRCLHFEQUFxRCxnREFBNEI7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLCtCQUErQixnREFBNEIsaUNBQWlDLGdEQUE0QjtBQUMzSDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQUk7QUFDN0I7QUFDMkM7QUFDM0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXgzLmpzPzNhNDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdSBhcyB1c2VTdG9yZUFwaSwgXyBhcyBfc2xpY2VkVG9BcnJheSwgYiBhcyB1c2VTdG9yZSwgYSBhcyBfZGVmaW5lUHJvcGVydHkgfSBmcm9tICcuL2luZGV4LTNkZTJiNGRkLmpzJztcclxuaW1wb3J0IHsgYSBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMsIHUgYXMgdXNlUmVhY3RGbG93IH0gZnJvbSAnLi91c2VSZWFjdEZsb3ctM2U2OTQ5MTUuanMnO1xyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBtZW1vLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNjIGZyb20gJ2NsYXNzY2F0JztcclxuaW1wb3J0ICd6dXN0YW5kJztcclxuaW1wb3J0ICd6dXN0YW5kL2NvbnRleHQnO1xyXG5pbXBvcnQgJ2QzLXpvb20nO1xyXG5pbXBvcnQgJ3p1c3RhbmQvc2hhbGxvdyc7XHJcblxyXG52YXIgX3BhdGgkNDtcclxuXHJcbmZ1bmN0aW9uIF9leHRlbmRzJDQoKSB7IF9leHRlbmRzJDQgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMkNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XHJcblxyXG52YXIgU3ZnUGx1cyA9IGZ1bmN0aW9uIFN2Z1BsdXMocHJvcHMpIHtcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkNCh7XHJcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgdmlld0JveDogXCIwIDAgMzIgMzJcIlxyXG4gIH0sIHByb3BzKSwgX3BhdGgkNCB8fCAoX3BhdGgkNCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XHJcbiAgICBkOiBcIk0zMiAxOC4xMzNIMTguMTMzVjMyaC00LjI2NlYxOC4xMzNIMHYtNC4yNjZoMTMuODY3VjBoNC4yNjZ2MTMuODY3SDMyelwiXHJcbiAgfSkpKTtcclxufTtcclxuXHJcbnZhciBfcGF0aCQzO1xyXG5cclxuZnVuY3Rpb24gX2V4dGVuZHMkMygpIHsgX2V4dGVuZHMkMyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcyQzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cclxuXHJcbnZhciBTdmdNaW51cyA9IGZ1bmN0aW9uIFN2Z01pbnVzKHByb3BzKSB7XHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJDMoe1xyXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcclxuICAgIHZpZXdCb3g6IFwiMCAwIDMyIDVcIlxyXG4gIH0sIHByb3BzKSwgX3BhdGgkMyB8fCAoX3BhdGgkMyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XHJcbiAgICBkOiBcIk0wIDBoMzJ2NC4ySDB6XCJcclxuICB9KSkpO1xyXG59O1xyXG5cclxudmFyIF9wYXRoJDI7XHJcblxyXG5mdW5jdGlvbiBfZXh0ZW5kcyQyKCkgeyBfZXh0ZW5kcyQyID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzJDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxyXG5cclxudmFyIFN2Z0ZpdHZpZXcgPSBmdW5jdGlvbiBTdmdGaXR2aWV3KHByb3BzKSB7XHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJDIoe1xyXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcclxuICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMwXCJcclxuICB9LCBwcm9wcyksIF9wYXRoJDIgfHwgKF9wYXRoJDIgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xyXG4gICAgZDogXCJNMy42OTIgNC42M2MwLS41My40LS45MzguOTM5LS45MzhoNS4yMTVWMEg0LjcwOEMyLjEzIDAgMCAyLjA1NCAwIDQuNjN2NS4yMTZoMy42OTJWNC42MzF6TTI3LjM1NCAwaC01LjJ2My42OTJoNS4xN2MuNTMgMCAuOTg0LjQuOTg0LjkzOXY1LjIxNUgzMlY0LjYzMUE0LjYyNCA0LjYyNCAwIDAgMCAyNy4zNTQgMHptLjk1NCAyNC44M2MwIC41MzItLjQuOTQtLjkzOS45NGgtNS4yMTV2My43NjhoNS4yMTVjMi41NzcgMCA0LjYzMS0yLjEzIDQuNjMxLTQuNzA3di01LjEzOWgtMy42OTJ2NS4xMzl6bS0yMy42NzcuOTRhLjkxOS45MTkgMCAwIDEtLjkzOS0uOTR2LTUuMTM4SDB2NS4xMzljMCAyLjU3NyAyLjEzIDQuNzA3IDQuNzA4IDQuNzA3aDUuMTM4VjI1Ljc3SDQuNjMxelwiXHJcbiAgfSkpKTtcclxufTtcclxuXHJcbnZhciBfcGF0aCQxO1xyXG5cclxuZnVuY3Rpb24gX2V4dGVuZHMkMSgpIHsgX2V4dGVuZHMkMSA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcyQxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cclxuXHJcbnZhciBTdmdMb2NrID0gZnVuY3Rpb24gU3ZnTG9jayhwcm9wcykge1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyQxKHtcclxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXHJcbiAgICB2aWV3Qm94OiBcIjAgMCAyNSAzMlwiXHJcbiAgfSwgcHJvcHMpLCBfcGF0aCQxIHx8IChfcGF0aCQxID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcclxuICAgIGQ6IFwiTTIxLjMzMyAxMC42NjdIMTkuODFWNy42MTlDMTkuODEgMy40MjkgMTYuMzggMCAxMi4xOSAwIDggMCA0LjU3MSAzLjQyOSA0LjU3MSA3LjYxOXYzLjA0OEgzLjA0OEEzLjA1NiAzLjA1NiAwIDAgMCAwIDEzLjcxNHYxNS4yMzhBMy4wNTYgMy4wNTYgMCAwIDAgMy4wNDggMzJoMTguMjg1YTMuMDU2IDMuMDU2IDAgMCAwIDMuMDQ4LTMuMDQ4VjEzLjcxNGEzLjA1NiAzLjA1NiAwIDAgMC0zLjA0OC0zLjA0N3pNMTIuMTkgMjQuNTMzYTMuMDU2IDMuMDU2IDAgMCAxLTMuMDQ3LTMuMDQ3IDMuMDU2IDMuMDU2IDAgMCAxIDMuMDQ3LTMuMDQ4IDMuMDU2IDMuMDU2IDAgMCAxIDMuMDQ4IDMuMDQ4IDMuMDU2IDMuMDU2IDAgMCAxLTMuMDQ4IDMuMDQ3em00LjcyNC0xMy44NjZINy40NjdWNy42MTljMC0yLjU5IDIuMTMzLTQuNzI0IDQuNzIzLTQuNzI0IDIuNTkxIDAgNC43MjQgMi4xMzMgNC43MjQgNC43MjR2My4wNDh6XCJcclxuICB9KSkpO1xyXG59O1xyXG5cclxudmFyIF9wYXRoO1xyXG5cclxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cclxuXHJcbnZhciBTdmdVbmxvY2sgPSBmdW5jdGlvbiBTdmdVbmxvY2socHJvcHMpIHtcclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xyXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcclxuICAgIHZpZXdCb3g6IFwiMCAwIDI1IDMyXCJcclxuICB9LCBwcm9wcyksIF9wYXRoIHx8IChfcGF0aCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XHJcbiAgICBkOiBcIk0yMS4zMzMgMTAuNjY3SDE5LjgxVjcuNjE5QzE5LjgxIDMuNDI5IDE2LjM4IDAgMTIuMTkgMGMtNC4xMTQgMS44MjgtMS4zNyAyLjEzMy4zMDUgMi40MzggMS42NzYuMzA1IDQuNDIgMi41OSA0LjQyIDUuMTgxdjMuMDQ4SDMuMDQ3QTMuMDU2IDMuMDU2IDAgMCAwIDAgMTMuNzE0djE1LjIzOEEzLjA1NiAzLjA1NiAwIDAgMCAzLjA0OCAzMmgxOC4yODVhMy4wNTYgMy4wNTYgMCAwIDAgMy4wNDgtMy4wNDhWMTMuNzE0YTMuMDU2IDMuMDU2IDAgMCAwLTMuMDQ4LTMuMDQ3ek0xMi4xOSAyNC41MzNhMy4wNTYgMy4wNTYgMCAwIDEtMy4wNDctMy4wNDcgMy4wNTYgMy4wNTYgMCAwIDEgMy4wNDctMy4wNDggMy4wNTYgMy4wNTYgMCAwIDEgMy4wNDggMy4wNDggMy4wNTYgMy4wNTYgMCAwIDEtMy4wNDggMy4wNDd6XCJcclxuICB9KSkpO1xyXG59O1xyXG5cclxudmFyIF9leGNsdWRlZCA9IFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCJdO1xyXG5cclxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XHJcbnZhciBDb250cm9sQnV0dG9uID0gZnVuY3Rpb24gQ29udHJvbEJ1dHRvbihfcmVmKSB7XHJcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcclxuICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXHJcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcclxuXHJcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIF9vYmplY3RTcHJlYWQoe1xyXG4gICAgdHlwZTogXCJidXR0b25cIixcclxuICAgIGNsYXNzTmFtZTogY2MoWydyZWFjdC1mbG93X19jb250cm9scy1idXR0b24nLCBjbGFzc05hbWVdKVxyXG4gIH0sIHJlc3QpLCBjaGlsZHJlbik7XHJcbn07XHJcblxyXG52YXIgaXNJbnRlcmFjdGl2ZVNlbGVjdG9yID0gZnVuY3Rpb24gaXNJbnRlcmFjdGl2ZVNlbGVjdG9yKHMpIHtcclxuICByZXR1cm4gcy5ub2Rlc0RyYWdnYWJsZSAmJiBzLm5vZGVzQ29ubmVjdGFibGUgJiYgcy5lbGVtZW50c1NlbGVjdGFibGU7XHJcbn07XHJcblxyXG52YXIgQ29udHJvbHMgPSBmdW5jdGlvbiBDb250cm9scyhfcmVmMikge1xyXG4gIHZhciBzdHlsZSA9IF9yZWYyLnN0eWxlLFxyXG4gICAgICBfcmVmMiRzaG93Wm9vbSA9IF9yZWYyLnNob3dab29tLFxyXG4gICAgICBzaG93Wm9vbSA9IF9yZWYyJHNob3dab29tID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjIkc2hvd1pvb20sXHJcbiAgICAgIF9yZWYyJHNob3dGaXRWaWV3ID0gX3JlZjIuc2hvd0ZpdFZpZXcsXHJcbiAgICAgIHNob3dGaXRWaWV3ID0gX3JlZjIkc2hvd0ZpdFZpZXcgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmMiRzaG93Rml0VmlldyxcclxuICAgICAgX3JlZjIkc2hvd0ludGVyYWN0aXZlID0gX3JlZjIuc2hvd0ludGVyYWN0aXZlLFxyXG4gICAgICBzaG93SW50ZXJhY3RpdmUgPSBfcmVmMiRzaG93SW50ZXJhY3RpdmUgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmMiRzaG93SW50ZXJhY3RpdmUsXHJcbiAgICAgIGZpdFZpZXdPcHRpb25zID0gX3JlZjIuZml0Vmlld09wdGlvbnMsXHJcbiAgICAgIG9uWm9vbUluID0gX3JlZjIub25ab29tSW4sXHJcbiAgICAgIG9uWm9vbU91dCA9IF9yZWYyLm9uWm9vbU91dCxcclxuICAgICAgb25GaXRWaWV3ID0gX3JlZjIub25GaXRWaWV3LFxyXG4gICAgICBvbkludGVyYWN0aXZlQ2hhbmdlID0gX3JlZjIub25JbnRlcmFjdGl2ZUNoYW5nZSxcclxuICAgICAgY2xhc3NOYW1lID0gX3JlZjIuY2xhc3NOYW1lLFxyXG4gICAgICBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuO1xyXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XHJcblxyXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXHJcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxyXG4gICAgICBpc1Zpc2libGUgPSBfdXNlU3RhdGUyWzBdLFxyXG4gICAgICBzZXRJc1Zpc2libGUgPSBfdXNlU3RhdGUyWzFdO1xyXG5cclxuICB2YXIgaXNJbnRlcmFjdGl2ZSA9IHVzZVN0b3JlKGlzSW50ZXJhY3RpdmVTZWxlY3Rvcik7XHJcblxyXG4gIHZhciBfdXNlUmVhY3RGbG93ID0gdXNlUmVhY3RGbG93KCksXHJcbiAgICAgIHpvb21JbiA9IF91c2VSZWFjdEZsb3cuem9vbUluLFxyXG4gICAgICB6b29tT3V0ID0gX3VzZVJlYWN0Rmxvdy56b29tT3V0LFxyXG4gICAgICBmaXRWaWV3ID0gX3VzZVJlYWN0Rmxvdy5maXRWaWV3O1xyXG5cclxuICB2YXIgbWFwQ2xhc3NlcyA9IGNjKFsncmVhY3QtZmxvd19fY29udHJvbHMnLCBjbGFzc05hbWVdKTtcclxuICB2YXIgb25ab29tSW5IYW5kbGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgem9vbUluID09PSBudWxsIHx8IHpvb21JbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbUluKCk7XHJcbiAgICBvblpvb21JbiA9PT0gbnVsbCB8fCBvblpvb21JbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25ab29tSW4oKTtcclxuICB9LCBbem9vbUluLCBvblpvb21Jbl0pO1xyXG4gIHZhciBvblpvb21PdXRIYW5kbGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgem9vbU91dCA9PT0gbnVsbCB8fCB6b29tT3V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tT3V0KCk7XHJcbiAgICBvblpvb21PdXQgPT09IG51bGwgfHwgb25ab29tT3V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblpvb21PdXQoKTtcclxuICB9LCBbem9vbU91dCwgb25ab29tT3V0XSk7XHJcbiAgdmFyIG9uRml0Vmlld0hhbmRsZXIgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XHJcbiAgICBmaXRWaWV3ID09PSBudWxsIHx8IGZpdFZpZXcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpdFZpZXcoZml0Vmlld09wdGlvbnMpO1xyXG4gICAgb25GaXRWaWV3ID09PSBudWxsIHx8IG9uRml0VmlldyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25GaXRWaWV3KCk7XHJcbiAgfSwgW2ZpdFZpZXcsIGZpdFZpZXdPcHRpb25zLCBvbkZpdFZpZXddKTtcclxuICB2YXIgb25JbnRlcmFjdGl2ZUNoYW5nZUhhbmRsZXIgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XHJcbiAgICBzdG9yZS5zZXRTdGF0ZSh7XHJcbiAgICAgIG5vZGVzRHJhZ2dhYmxlOiAhaXNJbnRlcmFjdGl2ZSxcclxuICAgICAgbm9kZXNDb25uZWN0YWJsZTogIWlzSW50ZXJhY3RpdmUsXHJcbiAgICAgIGVsZW1lbnRzU2VsZWN0YWJsZTogIWlzSW50ZXJhY3RpdmVcclxuICAgIH0pO1xyXG4gICAgb25JbnRlcmFjdGl2ZUNoYW5nZSA9PT0gbnVsbCB8fCBvbkludGVyYWN0aXZlQ2hhbmdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkludGVyYWN0aXZlQ2hhbmdlKCFpc0ludGVyYWN0aXZlKTtcclxuICB9LCBbaXNJbnRlcmFjdGl2ZSwgb25JbnRlcmFjdGl2ZUNoYW5nZV0pO1xyXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICBzZXRJc1Zpc2libGUodHJ1ZSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBpZiAoIWlzVmlzaWJsZSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xyXG4gICAgY2xhc3NOYW1lOiBtYXBDbGFzc2VzLFxyXG4gICAgc3R5bGU6IHN0eWxlXHJcbiAgfSwgc2hvd1pvb20gJiYgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbnRyb2xCdXR0b24sIHtcclxuICAgIG9uQ2xpY2s6IG9uWm9vbUluSGFuZGxlcixcclxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19jb250cm9scy16b29taW5cIixcclxuICAgIHRpdGxlOiBcInpvb20gaW5cIixcclxuICAgIFwiYXJpYS1sYWJlbFwiOiBcInpvb20gaW5cIlxyXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN2Z1BsdXMsIG51bGwpKSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29udHJvbEJ1dHRvbiwge1xyXG4gICAgb25DbGljazogb25ab29tT3V0SGFuZGxlcixcclxuICAgIGNsYXNzTmFtZTogXCJyZWFjdC1mbG93X19jb250cm9scy16b29tb3V0XCIsXHJcbiAgICB0aXRsZTogXCJ6b29tIG91dFwiLFxyXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiem9vbSBvdXRcIlxyXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN2Z01pbnVzLCBudWxsKSkpLCBzaG93Rml0VmlldyAmJiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb250cm9sQnV0dG9uLCB7XHJcbiAgICBjbGFzc05hbWU6IFwicmVhY3QtZmxvd19fY29udHJvbHMtZml0dmlld1wiLFxyXG4gICAgb25DbGljazogb25GaXRWaWV3SGFuZGxlcixcclxuICAgIHRpdGxlOiBcImZpdCB2aWV3XCIsXHJcbiAgICBcImFyaWEtbGFiZWxcIjogXCJmaXQgdmlld1wiXHJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU3ZnRml0dmlldywgbnVsbCkpLCBzaG93SW50ZXJhY3RpdmUgJiYgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29udHJvbEJ1dHRvbiwge1xyXG4gICAgY2xhc3NOYW1lOiBcInJlYWN0LWZsb3dfX2NvbnRyb2xzLWludGVyYWN0aXZlXCIsXHJcbiAgICBvbkNsaWNrOiBvbkludGVyYWN0aXZlQ2hhbmdlSGFuZGxlcixcclxuICAgIHRpdGxlOiBcInRvZ2dsZSBpbnRlcmFjdGl2aXR5XCIsXHJcbiAgICBcImFyaWEtbGFiZWxcIjogXCJ0b2dnbGUgaW50ZXJhY3Rpdml0eVwiXHJcbiAgfSwgaXNJbnRlcmFjdGl2ZSA/IC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFN2Z1VubG9jaywgbnVsbCkgOiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTdmdMb2NrLCBudWxsKSksIGNoaWxkcmVuKTtcclxufTtcclxuXHJcbkNvbnRyb2xzLmRpc3BsYXlOYW1lID0gJ0NvbnRyb2xzJztcclxudmFyIGluZGV4ID0gLyojX19QVVJFX18qL21lbW8oQ29udHJvbHMpO1xyXG5cclxuZXhwb3J0IHsgQ29udHJvbEJ1dHRvbiwgaW5kZXggYXMgZGVmYXVsdCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleDMuanMubWFwXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/index3.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/index4.js":
/*!**************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/index4.js ***!
  \**************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ index)\n/* harmony export */ });\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var classcat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classcat */ \"classcat\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, classcat__WEBPACK_IMPORTED_MODULE_2__, zustand__WEBPACK_IMPORTED_MODULE_3__, zustand_context__WEBPACK_IMPORTED_MODULE_4__, d3_zoom__WEBPACK_IMPORTED_MODULE_5__]);\n([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, classcat__WEBPACK_IMPORTED_MODULE_2__, zustand__WEBPACK_IMPORTED_MODULE_3__, zustand_context__WEBPACK_IMPORTED_MODULE_4__, d3_zoom__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar createGridLinesPath = function createGridLinesPath(\r\n  size,\r\n  strokeWidth,\r\n  stroke\r\n) {\r\n  return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"path\", {\r\n    stroke: stroke,\r\n    strokeWidth: strokeWidth,\r\n    d: \"M\"\r\n      .concat(size / 2, \" 0 V\")\r\n      .concat(size, \" M0 \")\r\n      .concat(size / 2, \" H\")\r\n      .concat(size),\r\n  });\r\n};\r\nvar createGridDotsPath = function createGridDotsPath(size, fill) {\r\n  return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"circle\", {\r\n    cx: size,\r\n    cy: size,\r\n    r: size,\r\n    fill: fill,\r\n  });\r\n};\r\n\r\nvar _defaultColors;\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly &&\r\n      (symbols = symbols.filter(function (sym) {\r\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n      })),\r\n      keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2\r\n      ? ownKeys(Object(source), !0).forEach(function (key) {\r\n          (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]);\r\n        })\r\n      : Object.getOwnPropertyDescriptors\r\n      ? Object.defineProperties(\r\n          target,\r\n          Object.getOwnPropertyDescriptors(source)\r\n        )\r\n      : ownKeys(Object(source)).forEach(function (key) {\r\n          Object.defineProperty(\r\n            target,\r\n            key,\r\n            Object.getOwnPropertyDescriptor(source, key)\r\n          );\r\n        });\r\n  }\r\n  return target;\r\n}\r\nvar defaultColors =\r\n  ((_defaultColors = {}),\r\n  (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_defaultColors, _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.B.Dots, \"#81818a\"),\r\n  (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(_defaultColors, _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.B.Lines, \"#eee\"),\r\n  _defaultColors);\r\n\r\nvar transformSelector = function transformSelector(s) {\r\n  return s.transform;\r\n};\r\n\r\nvar Background = function Background(_ref) {\r\n  var _ref$variant = _ref.variant,\r\n    variant = _ref$variant === void 0 ? _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.B.Dots : _ref$variant,\r\n    _ref$gap = _ref.gap,\r\n    gap = _ref$gap === void 0 ? 15 : _ref$gap,\r\n    _ref$size = _ref.size,\r\n    size = _ref$size === void 0 ? 0.4 : _ref$size,\r\n    color = _ref.color,\r\n    style = _ref.style,\r\n    className = _ref.className;\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(transformSelector),\r\n    _useStore2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_useStore, 3),\r\n    x = _useStore2[0],\r\n    y = _useStore2[1],\r\n    scale = _useStore2[2]; // when there are multiple flows on a page we need to make sure that every background gets its own pattern.\r\n\r\n  var patternId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\r\n    return \"pattern-\".concat(Math.floor(Math.random() * 100000));\r\n  }, []);\r\n  var bgClasses = (0,classcat__WEBPACK_IMPORTED_MODULE_2__[\"default\"])([\r\n    \"react-flow__background\",\r\n    \"react-flow__container\",\r\n    className,\r\n  ]);\r\n  var scaledGap = gap * scale;\r\n  var xOffset = x % scaledGap;\r\n  var yOffset = y % scaledGap;\r\n  var isLines = variant === _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.B.Lines;\r\n  var bgColor = color ? color : defaultColors[variant];\r\n  var path = isLines\r\n    ? createGridLinesPath(scaledGap, size, bgColor)\r\n    : createGridDotsPath(size * scale, bgColor);\r\n  return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\r\n    \"svg\",\r\n    {\r\n      className: bgClasses,\r\n      style: _objectSpread(\r\n        _objectSpread({}, style),\r\n        {},\r\n        {\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n        }\r\n      ),\r\n    },\r\n    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\r\n      \"pattern\",\r\n      {\r\n        id: patternId,\r\n        x: xOffset,\r\n        y: yOffset,\r\n        width: scaledGap,\r\n        height: scaledGap,\r\n        patternUnits: \"userSpaceOnUse\",\r\n      },\r\n      path\r\n    ),\r\n    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"rect\", {\r\n      x: \"0\",\r\n      y: \"0\",\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      fill: \"url(#\".concat(patternId, \")\"),\r\n    })\r\n  );\r\n};\r\n\r\nBackground.displayName = \"Background\";\r\nvar index = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(Background);\r\n\r\n\r\n//# sourceMappingURL=index4.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXg0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFLNkI7QUFDeUI7QUFDNUI7QUFDVDtBQUNRO0FBQ1I7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdEQUE0QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsdUJBQXVCLGdEQUE0QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxREFBZTtBQUN6QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixFQUFFLHFEQUFlLGlCQUFpQixzREFBc0I7QUFDeEQsRUFBRSxxREFBZSxpQkFBaUIsdURBQXVCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msc0RBQXNCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQVE7QUFDMUIsaUJBQWlCLHFEQUFjO0FBQy9CO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSxrQkFBa0IsOENBQU87QUFDekI7QUFDQSxHQUFHO0FBQ0gsa0JBQWtCLG9EQUFFO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVEQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBNEI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLGdEQUE0QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxrQkFBa0IsZ0RBQTRCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMkNBQUk7QUFDOUI7QUFDNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vaW5kZXg0LmpzP2ZlNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBhIGFzIF9kZWZpbmVQcm9wZXJ0eSxcclxuICBCIGFzIEJhY2tncm91bmRWYXJpYW50LFxyXG4gIGIgYXMgdXNlU3RvcmUsXHJcbiAgXyBhcyBfc2xpY2VkVG9BcnJheSxcclxufSBmcm9tIFwiLi9pbmRleC0zZGUyYjRkZC5qc1wiO1xyXG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgbWVtbywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgY2MgZnJvbSBcImNsYXNzY2F0XCI7XHJcbmltcG9ydCBcInp1c3RhbmRcIjtcclxuaW1wb3J0IFwienVzdGFuZC9jb250ZXh0XCI7XHJcbmltcG9ydCBcImQzLXpvb21cIjtcclxuXHJcbnZhciBjcmVhdGVHcmlkTGluZXNQYXRoID0gZnVuY3Rpb24gY3JlYXRlR3JpZExpbmVzUGF0aChcclxuICBzaXplLFxyXG4gIHN0cm9rZVdpZHRoLFxyXG4gIHN0cm9rZVxyXG4pIHtcclxuICByZXR1cm4gLyojX19QVVJFX18qLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XHJcbiAgICBzdHJva2U6IHN0cm9rZSxcclxuICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcclxuICAgIGQ6IFwiTVwiXHJcbiAgICAgIC5jb25jYXQoc2l6ZSAvIDIsIFwiIDAgVlwiKVxyXG4gICAgICAuY29uY2F0KHNpemUsIFwiIE0wIFwiKVxyXG4gICAgICAuY29uY2F0KHNpemUgLyAyLCBcIiBIXCIpXHJcbiAgICAgIC5jb25jYXQoc2l6ZSksXHJcbiAgfSk7XHJcbn07XHJcbnZhciBjcmVhdGVHcmlkRG90c1BhdGggPSBmdW5jdGlvbiBjcmVhdGVHcmlkRG90c1BhdGgoc2l6ZSwgZmlsbCkge1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xyXG4gICAgY3g6IHNpemUsXHJcbiAgICBjeTogc2l6ZSxcclxuICAgIHI6IHNpemUsXHJcbiAgICBmaWxsOiBmaWxsLFxyXG4gIH0pO1xyXG59O1xyXG5cclxudmFyIF9kZWZhdWx0Q29sb3JzO1xyXG5cclxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XHJcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xyXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XHJcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcclxuICAgIGVudW1lcmFibGVPbmx5ICYmXHJcbiAgICAgIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xyXG4gICAgICB9KSksXHJcbiAgICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcclxuICB9XHJcbiAgcmV0dXJuIGtleXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XHJcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9O1xyXG4gICAgaSAlIDJcclxuICAgICAgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcclxuICAgICAgICB9KVxyXG4gICAgICA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzXHJcbiAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXHJcbiAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpXHJcbiAgICAgICAgKVxyXG4gICAgICA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxyXG4gICAgICAgICAgICB0YXJnZXQsXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiB0YXJnZXQ7XHJcbn1cclxudmFyIGRlZmF1bHRDb2xvcnMgPVxyXG4gICgoX2RlZmF1bHRDb2xvcnMgPSB7fSksXHJcbiAgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0Q29sb3JzLCBCYWNrZ3JvdW5kVmFyaWFudC5Eb3RzLCBcIiM4MTgxOGFcIiksXHJcbiAgX2RlZmluZVByb3BlcnR5KF9kZWZhdWx0Q29sb3JzLCBCYWNrZ3JvdW5kVmFyaWFudC5MaW5lcywgXCIjZWVlXCIpLFxyXG4gIF9kZWZhdWx0Q29sb3JzKTtcclxuXHJcbnZhciB0cmFuc2Zvcm1TZWxlY3RvciA9IGZ1bmN0aW9uIHRyYW5zZm9ybVNlbGVjdG9yKHMpIHtcclxuICByZXR1cm4gcy50cmFuc2Zvcm07XHJcbn07XHJcblxyXG52YXIgQmFja2dyb3VuZCA9IGZ1bmN0aW9uIEJhY2tncm91bmQoX3JlZikge1xyXG4gIHZhciBfcmVmJHZhcmlhbnQgPSBfcmVmLnZhcmlhbnQsXHJcbiAgICB2YXJpYW50ID0gX3JlZiR2YXJpYW50ID09PSB2b2lkIDAgPyBCYWNrZ3JvdW5kVmFyaWFudC5Eb3RzIDogX3JlZiR2YXJpYW50LFxyXG4gICAgX3JlZiRnYXAgPSBfcmVmLmdhcCxcclxuICAgIGdhcCA9IF9yZWYkZ2FwID09PSB2b2lkIDAgPyAxNSA6IF9yZWYkZ2FwLFxyXG4gICAgX3JlZiRzaXplID0gX3JlZi5zaXplLFxyXG4gICAgc2l6ZSA9IF9yZWYkc2l6ZSA9PT0gdm9pZCAwID8gMC40IDogX3JlZiRzaXplLFxyXG4gICAgY29sb3IgPSBfcmVmLmNvbG9yLFxyXG4gICAgc3R5bGUgPSBfcmVmLnN0eWxlLFxyXG4gICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWU7XHJcblxyXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZSh0cmFuc2Zvcm1TZWxlY3RvciksXHJcbiAgICBfdXNlU3RvcmUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0b3JlLCAzKSxcclxuICAgIHggPSBfdXNlU3RvcmUyWzBdLFxyXG4gICAgeSA9IF91c2VTdG9yZTJbMV0sXHJcbiAgICBzY2FsZSA9IF91c2VTdG9yZTJbMl07IC8vIHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGZsb3dzIG9uIGEgcGFnZSB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGV2ZXJ5IGJhY2tncm91bmQgZ2V0cyBpdHMgb3duIHBhdHRlcm4uXHJcblxyXG4gIHZhciBwYXR0ZXJuSWQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBcInBhdHRlcm4tXCIuY29uY2F0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCkpO1xyXG4gIH0sIFtdKTtcclxuICB2YXIgYmdDbGFzc2VzID0gY2MoW1xyXG4gICAgXCJyZWFjdC1mbG93X19iYWNrZ3JvdW5kXCIsXHJcbiAgICBcInJlYWN0LWZsb3dfX2NvbnRhaW5lclwiLFxyXG4gICAgY2xhc3NOYW1lLFxyXG4gIF0pO1xyXG4gIHZhciBzY2FsZWRHYXAgPSBnYXAgKiBzY2FsZTtcclxuICB2YXIgeE9mZnNldCA9IHggJSBzY2FsZWRHYXA7XHJcbiAgdmFyIHlPZmZzZXQgPSB5ICUgc2NhbGVkR2FwO1xyXG4gIHZhciBpc0xpbmVzID0gdmFyaWFudCA9PT0gQmFja2dyb3VuZFZhcmlhbnQuTGluZXM7XHJcbiAgdmFyIGJnQ29sb3IgPSBjb2xvciA/IGNvbG9yIDogZGVmYXVsdENvbG9yc1t2YXJpYW50XTtcclxuICB2YXIgcGF0aCA9IGlzTGluZXNcclxuICAgID8gY3JlYXRlR3JpZExpbmVzUGF0aChzY2FsZWRHYXAsIHNpemUsIGJnQ29sb3IpXHJcbiAgICA6IGNyZWF0ZUdyaWREb3RzUGF0aChzaXplICogc2NhbGUsIGJnQ29sb3IpO1xyXG4gIHJldHVybiAvKiNfX1BVUkVfXyovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICBcInN2Z1wiLFxyXG4gICAge1xyXG4gICAgICBjbGFzc05hbWU6IGJnQ2xhc3NlcyxcclxuICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoXHJcbiAgICAgICAgX29iamVjdFNwcmVhZCh7fSwgc3R5bGUpLFxyXG4gICAgICAgIHt9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgfVxyXG4gICAgICApLFxyXG4gICAgfSxcclxuICAgIC8qI19fUFVSRV9fKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcclxuICAgICAgXCJwYXR0ZXJuXCIsXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogcGF0dGVybklkLFxyXG4gICAgICAgIHg6IHhPZmZzZXQsXHJcbiAgICAgICAgeTogeU9mZnNldCxcclxuICAgICAgICB3aWR0aDogc2NhbGVkR2FwLFxyXG4gICAgICAgIGhlaWdodDogc2NhbGVkR2FwLFxyXG4gICAgICAgIHBhdHRlcm5Vbml0czogXCJ1c2VyU3BhY2VPblVzZVwiLFxyXG4gICAgICB9LFxyXG4gICAgICBwYXRoXHJcbiAgICApLFxyXG4gICAgLyojX19QVVJFX18qLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XHJcbiAgICAgIHg6IFwiMFwiLFxyXG4gICAgICB5OiBcIjBcIixcclxuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICBmaWxsOiBcInVybCgjXCIuY29uY2F0KHBhdHRlcm5JZCwgXCIpXCIpLFxyXG4gICAgfSlcclxuICApO1xyXG59O1xyXG5cclxuQmFja2dyb3VuZC5kaXNwbGF5TmFtZSA9IFwiQmFja2dyb3VuZFwiO1xyXG52YXIgaW5kZXggPSAvKiNfX1BVUkVfXyovIG1lbW8oQmFja2dyb3VuZCk7XHJcblxyXG5leHBvcnQgeyBpbmRleCBhcyBkZWZhdWx0IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4NC5qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/index4.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/useEdges.js":
/*!****************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/useEdges.js ***!
  \****************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useEdges)\n/* harmony export */ });\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, zustand__WEBPACK_IMPORTED_MODULE_1__, zustand_context__WEBPACK_IMPORTED_MODULE_2__, d3_zoom__WEBPACK_IMPORTED_MODULE_3__]);\n([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, zustand__WEBPACK_IMPORTED_MODULE_1__, zustand_context__WEBPACK_IMPORTED_MODULE_2__, d3_zoom__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\nvar edgesSelector = function edgesSelector(state) {\r\n  return state.edges;\r\n};\r\n\r\nfunction useEdges() {\r\n  var edges = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(edgesSelector);\r\n  return edges;\r\n}\r\n\r\n\r\n//# sourceMappingURL=useEdges.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vdXNlRWRnZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0Q7QUFDbkM7QUFDUTtBQUNSO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscURBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQytCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy55YWxjL3JlYWN0LWZsb3ctcmVuZGVyZXItdjEyL2Rpc3QvZXNtL3VzZUVkZ2VzLmpzP2Y0NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYiBhcyB1c2VTdG9yZSB9IGZyb20gJy4vaW5kZXgtM2RlMmI0ZGQuanMnO1xyXG5pbXBvcnQgJ3p1c3RhbmQnO1xyXG5pbXBvcnQgJ3p1c3RhbmQvY29udGV4dCc7XHJcbmltcG9ydCAnZDMtem9vbSc7XHJcblxyXG52YXIgZWRnZXNTZWxlY3RvciA9IGZ1bmN0aW9uIGVkZ2VzU2VsZWN0b3Ioc3RhdGUpIHtcclxuICByZXR1cm4gc3RhdGUuZWRnZXM7XHJcbn07XHJcblxyXG5mdW5jdGlvbiB1c2VFZGdlcygpIHtcclxuICB2YXIgZWRnZXMgPSB1c2VTdG9yZShlZGdlc1NlbGVjdG9yKTtcclxuICByZXR1cm4gZWRnZXM7XHJcbn1cclxuXHJcbmV4cG9ydCB7IHVzZUVkZ2VzIGFzIGRlZmF1bHQgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlRWRnZXMuanMubWFwXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/useEdges.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/useNodes.js":
/*!****************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/useNodes.js ***!
  \****************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useNodes)\n/* harmony export */ });\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, zustand__WEBPACK_IMPORTED_MODULE_1__, zustand_context__WEBPACK_IMPORTED_MODULE_2__, d3_zoom__WEBPACK_IMPORTED_MODULE_3__]);\n([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, zustand__WEBPACK_IMPORTED_MODULE_1__, zustand_context__WEBPACK_IMPORTED_MODULE_2__, d3_zoom__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\nvar nodesSelector = function nodesSelector(state) {\r\n  return Array.from(state.nodeInternals.values());\r\n};\r\n\r\nfunction useNodes() {\r\n  var nodes = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(nodesSelector);\r\n  return nodes;\r\n}\r\n\r\n\r\n//# sourceMappingURL=useNodes.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vdXNlTm9kZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0Q7QUFDbkM7QUFDUTtBQUNSO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscURBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQytCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy55YWxjL3JlYWN0LWZsb3ctcmVuZGVyZXItdjEyL2Rpc3QvZXNtL3VzZU5vZGVzLmpzPzhjYzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYiBhcyB1c2VTdG9yZSB9IGZyb20gJy4vaW5kZXgtM2RlMmI0ZGQuanMnO1xyXG5pbXBvcnQgJ3p1c3RhbmQnO1xyXG5pbXBvcnQgJ3p1c3RhbmQvY29udGV4dCc7XHJcbmltcG9ydCAnZDMtem9vbSc7XHJcblxyXG52YXIgbm9kZXNTZWxlY3RvciA9IGZ1bmN0aW9uIG5vZGVzU2VsZWN0b3Ioc3RhdGUpIHtcclxuICByZXR1cm4gQXJyYXkuZnJvbShzdGF0ZS5ub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHVzZU5vZGVzKCkge1xyXG4gIHZhciBub2RlcyA9IHVzZVN0b3JlKG5vZGVzU2VsZWN0b3IpO1xyXG4gIHJldHVybiBub2RlcztcclxufVxyXG5cclxuZXhwb3J0IHsgdXNlTm9kZXMgYXMgZGVmYXVsdCB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VOb2Rlcy5qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/useNodes.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/useReactFlow-3e694915.js":
/*!*****************************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/useReactFlow-3e694915.js ***!
  \*****************************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_\": () => (/* binding */ _toConsumableArray),\n/* harmony export */   \"a\": () => (/* binding */ _objectWithoutProperties),\n/* harmony export */   \"u\": () => (/* binding */ useReactFlow)\n/* harmony export */ });\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand/shallow */ \"zustand/shallow\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, d3_zoom__WEBPACK_IMPORTED_MODULE_2__, zustand_shallow__WEBPACK_IMPORTED_MODULE_3__]);\n([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__, d3_zoom__WEBPACK_IMPORTED_MODULE_2__, zustand_shallow__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\nfunction _objectWithoutPropertiesLoose(source, excluded) {\r\n  if (source == null) return {};\r\n  var target = {};\r\n  var sourceKeys = Object.keys(source);\r\n  var key, i;\r\n\r\n  for (i = 0; i < sourceKeys.length; i++) {\r\n    key = sourceKeys[i];\r\n    if (excluded.indexOf(key) >= 0) continue;\r\n    target[key] = source[key];\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\nfunction _objectWithoutProperties(source, excluded) {\r\n  if (source == null) return {};\r\n  var target = _objectWithoutPropertiesLoose(source, excluded);\r\n  var key, i;\r\n\r\n  if (Object.getOwnPropertySymbols) {\r\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\r\n\r\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\r\n      key = sourceSymbolKeys[i];\r\n      if (excluded.indexOf(key) >= 0) continue;\r\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\r\n      target[key] = source[key];\r\n    }\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\nfunction _arrayWithoutHoles(arr) {\r\n  if (Array.isArray(arr)) return (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.D)(arr);\r\n}\r\n\r\nfunction _iterableToArray(iter) {\r\n  if (\r\n    (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null) ||\r\n    iter[\"@@iterator\"] != null\r\n  )\r\n    return Array.from(iter);\r\n}\r\n\r\nfunction _nonIterableSpread() {\r\n  throw new TypeError(\r\n    \"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"\r\n  );\r\n}\r\n\r\nfunction _toConsumableArray(arr) {\r\n  return (\r\n    _arrayWithoutHoles(arr) ||\r\n    _iterableToArray(arr) ||\r\n    (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.E)(arr) ||\r\n    _nonIterableSpread()\r\n  );\r\n}\r\n\r\nvar initialViewportHelper = {\r\n  zoomIn: function zoomIn() {},\r\n  zoomOut: function zoomOut() {},\r\n  zoomTo: function zoomTo(_) {},\r\n  getZoom: function getZoom() {\r\n    return 1;\r\n  },\r\n  setViewport: function setViewport(_) {},\r\n  getViewport: function getViewport() {\r\n    return {\r\n      x: 0,\r\n      y: 0,\r\n      zoom: 1,\r\n    };\r\n  },\r\n  fitView: function fitView() {},\r\n  setCenter: function setCenter(_, __) {},\r\n  fitBounds: function fitBounds(_) {},\r\n  project: function project(position) {\r\n    return position;\r\n  },\r\n  initialized: false,\r\n};\r\n\r\nvar selector = function selector(s) {\r\n  return {\r\n    d3Zoom: s.d3Zoom,\r\n    d3Selection: s.d3Selection,\r\n  };\r\n};\r\n\r\nvar useViewportHelper = function useViewportHelper() {\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n\r\n  var _useStore = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.b)(selector, zustand_shallow__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\r\n    d3Zoom = _useStore.d3Zoom,\r\n    d3Selection = _useStore.d3Selection;\r\n\r\n  var viewportHelperFunctions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\r\n    function () {\r\n      if (d3Selection && d3Zoom) {\r\n        return {\r\n          zoomIn: function zoomIn(options) {\r\n            return d3Zoom.scaleBy(\r\n              (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.F)(\r\n                d3Selection,\r\n                options === null || options === void 0\r\n                  ? void 0\r\n                  : options.duration\r\n              ),\r\n              1.2\r\n            );\r\n          },\r\n          zoomOut: function zoomOut(options) {\r\n            return d3Zoom.scaleBy(\r\n              (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.F)(\r\n                d3Selection,\r\n                options === null || options === void 0\r\n                  ? void 0\r\n                  : options.duration\r\n              ),\r\n              1 / 1.2\r\n            );\r\n          },\r\n          zoomTo: function zoomTo(zoomLevel, options) {\r\n            return d3Zoom.scaleTo(\r\n              (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.F)(\r\n                d3Selection,\r\n                options === null || options === void 0\r\n                  ? void 0\r\n                  : options.duration\r\n              ),\r\n              zoomLevel\r\n            );\r\n          },\r\n          getZoom: function getZoom() {\r\n            var _store$getState$trans = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(\r\n                store.getState().transform,\r\n                3\r\n              ),\r\n              zoom = _store$getState$trans[2];\r\n\r\n            return zoom;\r\n          },\r\n          setViewport: function setViewport(transform, options) {\r\n            var nextTransform = d3_zoom__WEBPACK_IMPORTED_MODULE_2__.zoomIdentity.translate(transform.x, transform.y)\r\n              .scale(transform.zoom);\r\n            d3Zoom.transform(\r\n              (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.F)(\r\n                d3Selection,\r\n                options === null || options === void 0\r\n                  ? void 0\r\n                  : options.duration\r\n              ),\r\n              nextTransform\r\n            );\r\n          },\r\n          getViewport: function getViewport() {\r\n            var _store$getState$trans2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(\r\n                store.getState().transform,\r\n                3\r\n              ),\r\n              x = _store$getState$trans2[0],\r\n              y = _store$getState$trans2[1],\r\n              zoom = _store$getState$trans2[2];\r\n\r\n            return {\r\n              x: x,\r\n              y: y,\r\n              zoom: zoom,\r\n            };\r\n          },\r\n          fitView: function fitView$1(options) {\r\n            return (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.G)(store.getState, options);\r\n          },\r\n          setCenter: function setCenter(x, y, options) {\r\n            var _store$getState = store.getState(),\r\n              width = _store$getState.width,\r\n              height = _store$getState.height,\r\n              maxZoom = _store$getState.maxZoom;\r\n\r\n            var nextZoom =\r\n              typeof (options === null || options === void 0\r\n                ? void 0\r\n                : options.zoom) !== \"undefined\"\r\n                ? options.zoom\r\n                : maxZoom;\r\n            var centerX = width / 2 - x * nextZoom;\r\n            var centerY = height / 2 - y * nextZoom;\r\n            var transform = d3_zoom__WEBPACK_IMPORTED_MODULE_2__.zoomIdentity.translate(centerX, centerY)\r\n              .scale(nextZoom);\r\n\r\n            d3Zoom.transform(\r\n              (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.F)(\r\n                d3Selection,\r\n                options === null || options === void 0\r\n                  ? void 0\r\n                  : options.duration\r\n              ),\r\n              transform\r\n            );\r\n          },\r\n          fitBounds: function fitBounds(bounds, options) {\r\n            var _options$padding;\r\n\r\n            var _store$getState2 = store.getState(),\r\n              width = _store$getState2.width,\r\n              height = _store$getState2.height,\r\n              minZoom = _store$getState2.minZoom,\r\n              maxZoom = _store$getState2.maxZoom;\r\n\r\n            var _getTransformForBound = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.z)(\r\n                bounds,\r\n                width,\r\n                height,\r\n                minZoom,\r\n                maxZoom,\r\n                (_options$padding =\r\n                  options === null || options === void 0\r\n                    ? void 0\r\n                    : options.padding) !== null && _options$padding !== void 0\r\n                  ? _options$padding\r\n                  : 0.1\r\n              ),\r\n              _getTransformForBound2 = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(_getTransformForBound, 3),\r\n              x = _getTransformForBound2[0],\r\n              y = _getTransformForBound2[1],\r\n              zoom = _getTransformForBound2[2];\r\n\r\n            var transform = d3_zoom__WEBPACK_IMPORTED_MODULE_2__.zoomIdentity.translate(x, y).scale(zoom);\r\n            d3Zoom.transform(\r\n              (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.F)(\r\n                d3Selection,\r\n                options === null || options === void 0\r\n                  ? void 0\r\n                  : options.duration\r\n              ),\r\n              transform\r\n            );\r\n          },\r\n          project: function project(position) {\r\n            var _store$getState3 = store.getState(),\r\n              transform = _store$getState3.transform,\r\n              snapToGrid = _store$getState3.snapToGrid,\r\n              snapGrid = _store$getState3.snapGrid;\r\n\r\n            return (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.H)(\r\n              position,\r\n              transform,\r\n              snapToGrid,\r\n              snapGrid\r\n            );\r\n          },\r\n          initialized: true,\r\n        };\r\n      }\r\n\r\n      return initialViewportHelper;\r\n    },\r\n    [d3Zoom, d3Selection]\r\n  );\r\n  return viewportHelperFunctions;\r\n};\r\n\r\nvar _excluded = [\"initialized\"];\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly &&\r\n      (symbols = symbols.filter(function (sym) {\r\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n      })),\r\n      keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2\r\n      ? ownKeys(Object(source), !0).forEach(function (key) {\r\n          (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, key, source[key]);\r\n        })\r\n      : Object.getOwnPropertyDescriptors\r\n      ? Object.defineProperties(\r\n          target,\r\n          Object.getOwnPropertyDescriptors(source)\r\n        )\r\n      : ownKeys(Object(source)).forEach(function (key) {\r\n          Object.defineProperty(\r\n            target,\r\n            key,\r\n            Object.getOwnPropertyDescriptor(source, key)\r\n          );\r\n        });\r\n  }\r\n  return target;\r\n}\r\nfunction useReactFlow() {\r\n  var _useViewportHelper = useViewportHelper(),\r\n    viewportInitialized = _useViewportHelper.initialized,\r\n    viewportHelperFunctions = _objectWithoutProperties(\r\n      _useViewportHelper,\r\n      _excluded\r\n    );\r\n\r\n  var store = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__.u)();\r\n  var getNodes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\r\n    var _store$getState = store.getState(),\r\n      nodeInternals = _store$getState.nodeInternals;\r\n\r\n    var nodes = Array.from(nodeInternals.values());\r\n    return nodes.map(function (n) {\r\n      return _objectSpread({}, n);\r\n    });\r\n  }, []);\r\n  var getNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (id) {\r\n    var _store$getState2 = store.getState(),\r\n      nodeInternals = _store$getState2.nodeInternals;\r\n\r\n    return nodeInternals.get(id);\r\n  }, []);\r\n  var getEdges = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\r\n    var _store$getState3 = store.getState(),\r\n      _store$getState3$edge = _store$getState3.edges,\r\n      edges = _store$getState3$edge === void 0 ? [] : _store$getState3$edge;\r\n\r\n    return edges.map(function (e) {\r\n      return _objectSpread({}, e);\r\n    });\r\n  }, []);\r\n  var getEdge = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (id) {\r\n    var _store$getState4 = store.getState(),\r\n      _store$getState4$edge = _store$getState4.edges,\r\n      edges = _store$getState4$edge === void 0 ? [] : _store$getState4$edge;\r\n\r\n    return edges.find(function (e) {\r\n      return e.id === id;\r\n    });\r\n  }, []);\r\n  var setNodes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (payload) {\r\n    var _store$getState5 = store.getState(),\r\n      nodeInternals = _store$getState5.nodeInternals,\r\n      setNodes = _store$getState5.setNodes,\r\n      hasDefaultNodes = _store$getState5.hasDefaultNodes,\r\n      onNodesChange = _store$getState5.onNodesChange;\r\n\r\n    var nodes = Array.from(nodeInternals.values());\r\n    var nextNodes = typeof payload === \"function\" ? payload(nodes) : payload;\r\n\r\n    if (hasDefaultNodes) {\r\n      setNodes(nextNodes);\r\n    } else if (onNodesChange) {\r\n      var changes = nextNodes.map(function (node) {\r\n        return {\r\n          item: node,\r\n          type: \"reset\",\r\n        };\r\n      });\r\n      onNodesChange(changes);\r\n    }\r\n  }, []);\r\n  var setEdges = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (payload, change) {\r\n    var _store$getState6 = store.getState(),\r\n      _store$getState6$edge = _store$getState6.edges,\r\n      edges = _store$getState6$edge === void 0 ? [] : _store$getState6$edge,\r\n      setEdges = _store$getState6.setEdges,\r\n      hasDefaultEdges = _store$getState6.hasDefaultEdges,\r\n      onEdgesChange = _store$getState6.onEdgesChange;\r\n\r\n    var nextEdges = typeof payload === \"function\" ? payload(edges) : payload;\r\n\r\n    if (hasDefaultEdges) {\r\n      setEdges(nextEdges);\r\n    } else if (onEdgesChange) {\r\n      if (change === \"remove\")\r\n        onEdgesChange(\r\n          nextEdges.map(function (edge) {\r\n            return {\r\n              id: edge.id,\r\n              type: \"remove\",\r\n            };\r\n          })\r\n        );\r\n      else {\r\n        var changes = nextEdges.map(function (edge) {\r\n          return {\r\n            item: edge,\r\n            type: change,\r\n          };\r\n        });\r\n        onEdgesChange(changes);\r\n      }\r\n    }\r\n  }, []);\r\n  var removeEdge = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (id) {\r\n    var _store$getState7 = store.getState(),\r\n      _store$getState7$edge = _store$getState7.edges,\r\n      edges = _store$getState7$edge === void 0 ? [] : _store$getState7$edge,\r\n      setEdges = _store$getState7.setEdges;\r\n\r\n    setEdges(\r\n      edges.filter(function (edge) {\r\n        return edge.id !== id;\r\n      })\r\n    );\r\n  }, []);\r\n  var removeNode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (id) {\r\n    var _nodes$find;\r\n\r\n    var _store$getState8 = store.getState(),\r\n      nodeInternals = _store$getState8.nodeInternals,\r\n      onNodesChange = _store$getState8.onNodesChange;\r\n\r\n    var nodes = Array.from(nodeInternals.values());\r\n    var changes = nodes.map(function (node) {\r\n      return node.id !== id\r\n        ? {\r\n            item: node,\r\n            type: \"reset\",\r\n          }\r\n        : {\r\n            id: id,\r\n            type: \"remove\",\r\n          };\r\n    });\r\n    if (onNodesChange) onNodesChange(changes);\r\n    return (_nodes$find = nodes.find(function (node) {\r\n      return node.id === id;\r\n    })) === null || _nodes$find === void 0\r\n      ? void 0\r\n      : _nodes$find.handleBounds;\r\n  }, []);\r\n  var addNodes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (payload) {\r\n    var nodes = Array.isArray(payload) ? payload : [payload];\r\n\r\n    var _store$getState9 = store.getState(),\r\n      nodeInternals = _store$getState9.nodeInternals,\r\n      setNodes = _store$getState9.setNodes,\r\n      hasDefaultNodes = _store$getState9.hasDefaultNodes,\r\n      onNodesChange = _store$getState9.onNodesChange;\r\n\r\n    if (hasDefaultNodes) {\r\n      var currentNodes = Array.from(nodeInternals.values());\r\n      var nextNodes = [].concat(\r\n        _toConsumableArray(currentNodes),\r\n        _toConsumableArray(nodes)\r\n      );\r\n      setNodes(nextNodes);\r\n    } else if (onNodesChange) {\r\n      var changes = nodes.map(function (node) {\r\n        return {\r\n          item: node,\r\n          type: \"add\",\r\n        };\r\n      });\r\n      onNodesChange(changes);\r\n    }\r\n  }, []);\r\n  var addEdges = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (payload) {\r\n    var nextEdges = Array.isArray(payload) ? payload : [payload];\r\n\r\n    var _store$getState10 = store.getState(),\r\n      _store$getState10$edg = _store$getState10.edges,\r\n      edges = _store$getState10$edg === void 0 ? [] : _store$getState10$edg,\r\n      setEdges = _store$getState10.setEdges,\r\n      hasDefaultEdges = _store$getState10.hasDefaultEdges,\r\n      onEdgesChange = _store$getState10.onEdgesChange;\r\n\r\n    if (hasDefaultEdges) {\r\n      setEdges(\r\n        [].concat(_toConsumableArray(edges), _toConsumableArray(nextEdges))\r\n      );\r\n    } else if (onEdgesChange) {\r\n      var changes = nextEdges.map(function (edge) {\r\n        return {\r\n          item: edge,\r\n          type: \"add\",\r\n        };\r\n      });\r\n      onEdgesChange(changes);\r\n    }\r\n  }, []);\r\n  var toObject = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\r\n    var _store$getState11 = store.getState(),\r\n      nodeInternals = _store$getState11.nodeInternals,\r\n      _store$getState11$edg = _store$getState11.edges,\r\n      edges = _store$getState11$edg === void 0 ? [] : _store$getState11$edg,\r\n      transform = _store$getState11.transform;\r\n\r\n    var nodes = Array.from(nodeInternals.values());\r\n\r\n    var _transform = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_0__._)(transform, 3),\r\n      x = _transform[0],\r\n      y = _transform[1],\r\n      zoom = _transform[2];\r\n\r\n    return {\r\n      nodes: nodes.map(function (n) {\r\n        return _objectSpread({}, n);\r\n      }),\r\n      edges: edges.map(function (e) {\r\n        return _objectSpread({}, e);\r\n      }),\r\n      viewport: {\r\n        x: x,\r\n        y: y,\r\n        zoom: zoom,\r\n      },\r\n    };\r\n  }, []);\r\n  return _objectSpread(\r\n    _objectSpread({}, viewportHelperFunctions),\r\n    {},\r\n    {\r\n      viewportInitialized: viewportInitialized,\r\n      getNodes: getNodes,\r\n      getNode: getNode,\r\n      removeEdge: removeEdge,\r\n      getEdges: getEdges,\r\n      getEdge: getEdge,\r\n      setNodes: setNodes,\r\n      setEdges: setEdges,\r\n      addNodes: addNodes,\r\n      addEdges: addEdges,\r\n      removeNode: removeNode,\r\n      toObject: toObject,\r\n    }\r\n  );\r\n}\r\n\r\n\r\n//# sourceMappingURL=useReactFlow-3e694915.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vdXNlUmVhY3RGbG93LTNlNjk0OTE1LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFXNkI7QUFDZ0I7QUFDTjtBQUNEO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkJBQTZCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscURBQWlCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUEyQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLGdDQUFnQztBQUNoQywrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLEdBQUc7QUFDSCx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGdDQUFnQztBQUNoQyx5Q0FBeUM7QUFDekMscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscURBQVc7QUFDekI7QUFDQSxrQkFBa0IscURBQVEsV0FBVyx1REFBTztBQUM1QztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsOENBQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscURBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy55YWxjL3JlYWN0LWZsb3ctcmVuZGVyZXItdjEyL2Rpc3QvZXNtL3VzZVJlYWN0Rmxvdy0zZTY5NDkxNS5qcz9iMjI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgRCBhcyBfYXJyYXlMaWtlVG9BcnJheSxcclxuICBFIGFzIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSxcclxuICB1IGFzIHVzZVN0b3JlQXBpLFxyXG4gIGIgYXMgdXNlU3RvcmUsXHJcbiAgRiBhcyBnZXREM1RyYW5zaXRpb24sXHJcbiAgXyBhcyBfc2xpY2VkVG9BcnJheSxcclxuICBHIGFzIGZpdFZpZXcsXHJcbiAgeiBhcyBnZXRUcmFuc2Zvcm1Gb3JCb3VuZHMsXHJcbiAgSCBhcyBwb2ludFRvUmVuZGVyZXJQb2ludCxcclxuICBhIGFzIF9kZWZpbmVQcm9wZXJ0eSxcclxufSBmcm9tIFwiLi9pbmRleC0zZGUyYjRkZC5qc1wiO1xyXG5pbXBvcnQgeyB1c2VNZW1vLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB6b29tSWRlbnRpdHkgfSBmcm9tIFwiZDMtem9vbVwiO1xyXG5pbXBvcnQgc2hhbGxvdyBmcm9tIFwienVzdGFuZC9zaGFsbG93XCI7XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XHJcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XHJcbiAgdmFyIHRhcmdldCA9IHt9O1xyXG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcclxuICB2YXIga2V5LCBpO1xyXG5cclxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcclxuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XHJcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5cclxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcclxuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcclxuICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XHJcbiAgdmFyIGtleSwgaTtcclxuXHJcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcclxuICAgIHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO1xyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XHJcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XHJcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XHJcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xyXG4gIGlmIChcclxuICAgICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsKSB8fFxyXG4gICAgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbFxyXG4gIClcclxuICAgIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XHJcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcclxuICAgIFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiXHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xyXG4gIHJldHVybiAoXHJcbiAgICBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fFxyXG4gICAgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8XHJcbiAgICBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fFxyXG4gICAgX25vbkl0ZXJhYmxlU3ByZWFkKClcclxuICApO1xyXG59XHJcblxyXG52YXIgaW5pdGlhbFZpZXdwb3J0SGVscGVyID0ge1xyXG4gIHpvb21JbjogZnVuY3Rpb24gem9vbUluKCkge30sXHJcbiAgem9vbU91dDogZnVuY3Rpb24gem9vbU91dCgpIHt9LFxyXG4gIHpvb21UbzogZnVuY3Rpb24gem9vbVRvKF8pIHt9LFxyXG4gIGdldFpvb206IGZ1bmN0aW9uIGdldFpvb20oKSB7XHJcbiAgICByZXR1cm4gMTtcclxuICB9LFxyXG4gIHNldFZpZXdwb3J0OiBmdW5jdGlvbiBzZXRWaWV3cG9ydChfKSB7fSxcclxuICBnZXRWaWV3cG9ydDogZnVuY3Rpb24gZ2V0Vmlld3BvcnQoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICB6b29tOiAxLFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGZpdFZpZXc6IGZ1bmN0aW9uIGZpdFZpZXcoKSB7fSxcclxuICBzZXRDZW50ZXI6IGZ1bmN0aW9uIHNldENlbnRlcihfLCBfXykge30sXHJcbiAgZml0Qm91bmRzOiBmdW5jdGlvbiBmaXRCb3VuZHMoXykge30sXHJcbiAgcHJvamVjdDogZnVuY3Rpb24gcHJvamVjdChwb3NpdGlvbikge1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gIH0sXHJcbiAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxyXG59O1xyXG5cclxudmFyIHNlbGVjdG9yID0gZnVuY3Rpb24gc2VsZWN0b3Iocykge1xyXG4gIHJldHVybiB7XHJcbiAgICBkM1pvb206IHMuZDNab29tLFxyXG4gICAgZDNTZWxlY3Rpb246IHMuZDNTZWxlY3Rpb24sXHJcbiAgfTtcclxufTtcclxuXHJcbnZhciB1c2VWaWV3cG9ydEhlbHBlciA9IGZ1bmN0aW9uIHVzZVZpZXdwb3J0SGVscGVyKCkge1xyXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XHJcblxyXG4gIHZhciBfdXNlU3RvcmUgPSB1c2VTdG9yZShzZWxlY3Rvciwgc2hhbGxvdyksXHJcbiAgICBkM1pvb20gPSBfdXNlU3RvcmUuZDNab29tLFxyXG4gICAgZDNTZWxlY3Rpb24gPSBfdXNlU3RvcmUuZDNTZWxlY3Rpb247XHJcblxyXG4gIHZhciB2aWV3cG9ydEhlbHBlckZ1bmN0aW9ucyA9IHVzZU1lbW8oXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChkM1NlbGVjdGlvbiAmJiBkM1pvb20pIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgem9vbUluOiBmdW5jdGlvbiB6b29tSW4ob3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZDNab29tLnNjYWxlQnkoXHJcbiAgICAgICAgICAgICAgZ2V0RDNUcmFuc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgZDNTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgICA6IG9wdGlvbnMuZHVyYXRpb25cclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIDEuMlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHpvb21PdXQ6IGZ1bmN0aW9uIHpvb21PdXQob3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gZDNab29tLnNjYWxlQnkoXHJcbiAgICAgICAgICAgICAgZ2V0RDNUcmFuc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgZDNTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgICA6IG9wdGlvbnMuZHVyYXRpb25cclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIDEgLyAxLjJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB6b29tVG86IGZ1bmN0aW9uIHpvb21Ubyh6b29tTGV2ZWwsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQzWm9vbS5zY2FsZVRvKFxyXG4gICAgICAgICAgICAgIGdldEQzVHJhbnNpdGlvbihcclxuICAgICAgICAgICAgICAgIGQzU2VsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDBcclxuICAgICAgICAgICAgICAgICAgPyB2b2lkIDBcclxuICAgICAgICAgICAgICAgICAgOiBvcHRpb25zLmR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB6b29tTGV2ZWxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBnZXRab29tOiBmdW5jdGlvbiBnZXRab29tKCkge1xyXG4gICAgICAgICAgICB2YXIgX3N0b3JlJGdldFN0YXRlJHRyYW5zID0gX3NsaWNlZFRvQXJyYXkoXHJcbiAgICAgICAgICAgICAgICBzdG9yZS5nZXRTdGF0ZSgpLnRyYW5zZm9ybSxcclxuICAgICAgICAgICAgICAgIDNcclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIHpvb20gPSBfc3RvcmUkZ2V0U3RhdGUkdHJhbnNbMl07XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gem9vbTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXRWaWV3cG9ydDogZnVuY3Rpb24gc2V0Vmlld3BvcnQodHJhbnNmb3JtLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXh0VHJhbnNmb3JtID0gem9vbUlkZW50aXR5XHJcbiAgICAgICAgICAgICAgLnRyYW5zbGF0ZSh0cmFuc2Zvcm0ueCwgdHJhbnNmb3JtLnkpXHJcbiAgICAgICAgICAgICAgLnNjYWxlKHRyYW5zZm9ybS56b29tKTtcclxuICAgICAgICAgICAgZDNab29tLnRyYW5zZm9ybShcclxuICAgICAgICAgICAgICBnZXREM1RyYW5zaXRpb24oXHJcbiAgICAgICAgICAgICAgICBkM1NlbGVjdGlvbixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwXHJcbiAgICAgICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgICAgIDogb3B0aW9ucy5kdXJhdGlvblxyXG4gICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgbmV4dFRyYW5zZm9ybVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGdldFZpZXdwb3J0OiBmdW5jdGlvbiBnZXRWaWV3cG9ydCgpIHtcclxuICAgICAgICAgICAgdmFyIF9zdG9yZSRnZXRTdGF0ZSR0cmFuczIgPSBfc2xpY2VkVG9BcnJheShcclxuICAgICAgICAgICAgICAgIHN0b3JlLmdldFN0YXRlKCkudHJhbnNmb3JtLFxyXG4gICAgICAgICAgICAgICAgM1xyXG4gICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgeCA9IF9zdG9yZSRnZXRTdGF0ZSR0cmFuczJbMF0sXHJcbiAgICAgICAgICAgICAgeSA9IF9zdG9yZSRnZXRTdGF0ZSR0cmFuczJbMV0sXHJcbiAgICAgICAgICAgICAgem9vbSA9IF9zdG9yZSRnZXRTdGF0ZSR0cmFuczJbMl07XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgeTogeSxcclxuICAgICAgICAgICAgICB6b29tOiB6b29tLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGZpdFZpZXc6IGZ1bmN0aW9uIGZpdFZpZXckMShvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmaXRWaWV3KHN0b3JlLmdldFN0YXRlLCBvcHRpb25zKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXRDZW50ZXI6IGZ1bmN0aW9uIHNldENlbnRlcih4LCB5LCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLFxyXG4gICAgICAgICAgICAgIHdpZHRoID0gX3N0b3JlJGdldFN0YXRlLndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodCA9IF9zdG9yZSRnZXRTdGF0ZS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgbWF4Wm9vbSA9IF9zdG9yZSRnZXRTdGF0ZS5tYXhab29tO1xyXG5cclxuICAgICAgICAgICAgdmFyIG5leHRab29tID1cclxuICAgICAgICAgICAgICB0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwXHJcbiAgICAgICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLnpvb20pICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMuem9vbVxyXG4gICAgICAgICAgICAgICAgOiBtYXhab29tO1xyXG4gICAgICAgICAgICB2YXIgY2VudGVyWCA9IHdpZHRoIC8gMiAtIHggKiBuZXh0Wm9vbTtcclxuICAgICAgICAgICAgdmFyIGNlbnRlclkgPSBoZWlnaHQgLyAyIC0geSAqIG5leHRab29tO1xyXG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtID0gem9vbUlkZW50aXR5XHJcbiAgICAgICAgICAgICAgLnRyYW5zbGF0ZShjZW50ZXJYLCBjZW50ZXJZKVxyXG4gICAgICAgICAgICAgIC5zY2FsZShuZXh0Wm9vbSk7XHJcblxyXG4gICAgICAgICAgICBkM1pvb20udHJhbnNmb3JtKFxyXG4gICAgICAgICAgICAgIGdldEQzVHJhbnNpdGlvbihcclxuICAgICAgICAgICAgICAgIGQzU2VsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDBcclxuICAgICAgICAgICAgICAgICAgPyB2b2lkIDBcclxuICAgICAgICAgICAgICAgICAgOiBvcHRpb25zLmR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICB0cmFuc2Zvcm1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBmaXRCb3VuZHM6IGZ1bmN0aW9uIGZpdEJvdW5kcyhib3VuZHMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIF9vcHRpb25zJHBhZGRpbmc7XHJcblxyXG4gICAgICAgICAgICB2YXIgX3N0b3JlJGdldFN0YXRlMiA9IHN0b3JlLmdldFN0YXRlKCksXHJcbiAgICAgICAgICAgICAgd2lkdGggPSBfc3RvcmUkZ2V0U3RhdGUyLndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodCA9IF9zdG9yZSRnZXRTdGF0ZTIuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgIG1pblpvb20gPSBfc3RvcmUkZ2V0U3RhdGUyLm1pblpvb20sXHJcbiAgICAgICAgICAgICAgbWF4Wm9vbSA9IF9zdG9yZSRnZXRTdGF0ZTIubWF4Wm9vbTtcclxuXHJcbiAgICAgICAgICAgIHZhciBfZ2V0VHJhbnNmb3JtRm9yQm91bmQgPSBnZXRUcmFuc2Zvcm1Gb3JCb3VuZHMoXHJcbiAgICAgICAgICAgICAgICBib3VuZHMsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgICAgIG1pblpvb20sXHJcbiAgICAgICAgICAgICAgICBtYXhab29tLFxyXG4gICAgICAgICAgICAgICAgKF9vcHRpb25zJHBhZGRpbmcgPVxyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgICAgICAgOiBvcHRpb25zLnBhZGRpbmcpICE9PSBudWxsICYmIF9vcHRpb25zJHBhZGRpbmcgIT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgICA/IF9vcHRpb25zJHBhZGRpbmdcclxuICAgICAgICAgICAgICAgICAgOiAwLjFcclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIF9nZXRUcmFuc2Zvcm1Gb3JCb3VuZDIgPSBfc2xpY2VkVG9BcnJheShfZ2V0VHJhbnNmb3JtRm9yQm91bmQsIDMpLFxyXG4gICAgICAgICAgICAgIHggPSBfZ2V0VHJhbnNmb3JtRm9yQm91bmQyWzBdLFxyXG4gICAgICAgICAgICAgIHkgPSBfZ2V0VHJhbnNmb3JtRm9yQm91bmQyWzFdLFxyXG4gICAgICAgICAgICAgIHpvb20gPSBfZ2V0VHJhbnNmb3JtRm9yQm91bmQyWzJdO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHpvb21JZGVudGl0eS50cmFuc2xhdGUoeCwgeSkuc2NhbGUoem9vbSk7XHJcbiAgICAgICAgICAgIGQzWm9vbS50cmFuc2Zvcm0oXHJcbiAgICAgICAgICAgICAgZ2V0RDNUcmFuc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgZDNTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgICA/IHZvaWQgMFxyXG4gICAgICAgICAgICAgICAgICA6IG9wdGlvbnMuZHVyYXRpb25cclxuICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHByb2plY3Q6IGZ1bmN0aW9uIHByb2plY3QocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTMgPSBzdG9yZS5nZXRTdGF0ZSgpLFxyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybSA9IF9zdG9yZSRnZXRTdGF0ZTMudHJhbnNmb3JtLFxyXG4gICAgICAgICAgICAgIHNuYXBUb0dyaWQgPSBfc3RvcmUkZ2V0U3RhdGUzLnNuYXBUb0dyaWQsXHJcbiAgICAgICAgICAgICAgc25hcEdyaWQgPSBfc3RvcmUkZ2V0U3RhdGUzLnNuYXBHcmlkO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBvaW50VG9SZW5kZXJlclBvaW50KFxyXG4gICAgICAgICAgICAgIHBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybSxcclxuICAgICAgICAgICAgICBzbmFwVG9HcmlkLFxyXG4gICAgICAgICAgICAgIHNuYXBHcmlkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGluaXRpYWxWaWV3cG9ydEhlbHBlcjtcclxuICAgIH0sXHJcbiAgICBbZDNab29tLCBkM1NlbGVjdGlvbl1cclxuICApO1xyXG4gIHJldHVybiB2aWV3cG9ydEhlbHBlckZ1bmN0aW9ucztcclxufTtcclxuXHJcbnZhciBfZXhjbHVkZWQgPSBbXCJpbml0aWFsaXplZFwiXTtcclxuXHJcbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xyXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcclxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xyXG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XHJcbiAgICBlbnVtZXJhYmxlT25seSAmJlxyXG4gICAgICAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcclxuICAgICAgfSkpLFxyXG4gICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XHJcbiAgfVxyXG4gIHJldHVybiBrZXlzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xyXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTtcclxuICAgIGkgJSAyXHJcbiAgICAgID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yc1xyXG4gICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxyXG4gICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKVxyXG4gICAgICAgIClcclxuICAgICAgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbmZ1bmN0aW9uIHVzZVJlYWN0RmxvdygpIHtcclxuICB2YXIgX3VzZVZpZXdwb3J0SGVscGVyID0gdXNlVmlld3BvcnRIZWxwZXIoKSxcclxuICAgIHZpZXdwb3J0SW5pdGlhbGl6ZWQgPSBfdXNlVmlld3BvcnRIZWxwZXIuaW5pdGlhbGl6ZWQsXHJcbiAgICB2aWV3cG9ydEhlbHBlckZ1bmN0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhcclxuICAgICAgX3VzZVZpZXdwb3J0SGVscGVyLFxyXG4gICAgICBfZXhjbHVkZWRcclxuICAgICk7XHJcblxyXG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlQXBpKCk7XHJcbiAgdmFyIGdldE5vZGVzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCksXHJcbiAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGUubm9kZUludGVybmFscztcclxuXHJcbiAgICB2YXIgbm9kZXMgPSBBcnJheS5mcm9tKG5vZGVJbnRlcm5hbHMudmFsdWVzKCkpO1xyXG4gICAgcmV0dXJuIG5vZGVzLm1hcChmdW5jdGlvbiAobikge1xyXG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgbik7XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcbiAgdmFyIGdldE5vZGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaWQpIHtcclxuICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUyID0gc3RvcmUuZ2V0U3RhdGUoKSxcclxuICAgICAgbm9kZUludGVybmFscyA9IF9zdG9yZSRnZXRTdGF0ZTIubm9kZUludGVybmFscztcclxuXHJcbiAgICByZXR1cm4gbm9kZUludGVybmFscy5nZXQoaWQpO1xyXG4gIH0sIFtdKTtcclxuICB2YXIgZ2V0RWRnZXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlMyA9IHN0b3JlLmdldFN0YXRlKCksXHJcbiAgICAgIF9zdG9yZSRnZXRTdGF0ZTMkZWRnZSA9IF9zdG9yZSRnZXRTdGF0ZTMuZWRnZXMsXHJcbiAgICAgIGVkZ2VzID0gX3N0b3JlJGdldFN0YXRlMyRlZGdlID09PSB2b2lkIDAgPyBbXSA6IF9zdG9yZSRnZXRTdGF0ZTMkZWRnZTtcclxuXHJcbiAgICByZXR1cm4gZWRnZXMubWFwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBlKTtcclxuICAgIH0pO1xyXG4gIH0sIFtdKTtcclxuICB2YXIgZ2V0RWRnZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpZCkge1xyXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTQgPSBzdG9yZS5nZXRTdGF0ZSgpLFxyXG4gICAgICBfc3RvcmUkZ2V0U3RhdGU0JGVkZ2UgPSBfc3RvcmUkZ2V0U3RhdGU0LmVkZ2VzLFxyXG4gICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZTQkZWRnZSA9PT0gdm9pZCAwID8gW10gOiBfc3RvcmUkZ2V0U3RhdGU0JGVkZ2U7XHJcblxyXG4gICAgcmV0dXJuIGVkZ2VzLmZpbmQoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgcmV0dXJuIGUuaWQgPT09IGlkO1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG4gIHZhciBzZXROb2RlcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXlsb2FkKSB7XHJcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlNSA9IHN0b3JlLmdldFN0YXRlKCksXHJcbiAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGU1Lm5vZGVJbnRlcm5hbHMsXHJcbiAgICAgIHNldE5vZGVzID0gX3N0b3JlJGdldFN0YXRlNS5zZXROb2RlcyxcclxuICAgICAgaGFzRGVmYXVsdE5vZGVzID0gX3N0b3JlJGdldFN0YXRlNS5oYXNEZWZhdWx0Tm9kZXMsXHJcbiAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGU1Lm9uTm9kZXNDaGFuZ2U7XHJcblxyXG4gICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcclxuICAgIHZhciBuZXh0Tm9kZXMgPSB0eXBlb2YgcGF5bG9hZCA9PT0gXCJmdW5jdGlvblwiID8gcGF5bG9hZChub2RlcykgOiBwYXlsb2FkO1xyXG5cclxuICAgIGlmIChoYXNEZWZhdWx0Tm9kZXMpIHtcclxuICAgICAgc2V0Tm9kZXMobmV4dE5vZGVzKTtcclxuICAgIH0gZWxzZSBpZiAob25Ob2Rlc0NoYW5nZSkge1xyXG4gICAgICB2YXIgY2hhbmdlcyA9IG5leHROb2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaXRlbTogbm9kZSxcclxuICAgICAgICAgIHR5cGU6IFwicmVzZXRcIixcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgICAgb25Ob2Rlc0NoYW5nZShjaGFuZ2VzKTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcbiAgdmFyIHNldEVkZ2VzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHBheWxvYWQsIGNoYW5nZSkge1xyXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTYgPSBzdG9yZS5nZXRTdGF0ZSgpLFxyXG4gICAgICBfc3RvcmUkZ2V0U3RhdGU2JGVkZ2UgPSBfc3RvcmUkZ2V0U3RhdGU2LmVkZ2VzLFxyXG4gICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZTYkZWRnZSA9PT0gdm9pZCAwID8gW10gOiBfc3RvcmUkZ2V0U3RhdGU2JGVkZ2UsXHJcbiAgICAgIHNldEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlNi5zZXRFZGdlcyxcclxuICAgICAgaGFzRGVmYXVsdEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlNi5oYXNEZWZhdWx0RWRnZXMsXHJcbiAgICAgIG9uRWRnZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGU2Lm9uRWRnZXNDaGFuZ2U7XHJcblxyXG4gICAgdmFyIG5leHRFZGdlcyA9IHR5cGVvZiBwYXlsb2FkID09PSBcImZ1bmN0aW9uXCIgPyBwYXlsb2FkKGVkZ2VzKSA6IHBheWxvYWQ7XHJcblxyXG4gICAgaWYgKGhhc0RlZmF1bHRFZGdlcykge1xyXG4gICAgICBzZXRFZGdlcyhuZXh0RWRnZXMpO1xyXG4gICAgfSBlbHNlIGlmIChvbkVkZ2VzQ2hhbmdlKSB7XHJcbiAgICAgIGlmIChjaGFuZ2UgPT09IFwicmVtb3ZlXCIpXHJcbiAgICAgICAgb25FZGdlc0NoYW5nZShcclxuICAgICAgICAgIG5leHRFZGdlcy5tYXAoZnVuY3Rpb24gKGVkZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBpZDogZWRnZS5pZCxcclxuICAgICAgICAgICAgICB0eXBlOiBcInJlbW92ZVwiLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB2YXIgY2hhbmdlcyA9IG5leHRFZGdlcy5tYXAoZnVuY3Rpb24gKGVkZ2UpIHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGl0ZW06IGVkZ2UsXHJcbiAgICAgICAgICAgIHR5cGU6IGNoYW5nZSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb25FZGdlc0NoYW5nZShjaGFuZ2VzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuICB2YXIgcmVtb3ZlRWRnZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpZCkge1xyXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTcgPSBzdG9yZS5nZXRTdGF0ZSgpLFxyXG4gICAgICBfc3RvcmUkZ2V0U3RhdGU3JGVkZ2UgPSBfc3RvcmUkZ2V0U3RhdGU3LmVkZ2VzLFxyXG4gICAgICBlZGdlcyA9IF9zdG9yZSRnZXRTdGF0ZTckZWRnZSA9PT0gdm9pZCAwID8gW10gOiBfc3RvcmUkZ2V0U3RhdGU3JGVkZ2UsXHJcbiAgICAgIHNldEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlNy5zZXRFZGdlcztcclxuXHJcbiAgICBzZXRFZGdlcyhcclxuICAgICAgZWRnZXMuZmlsdGVyKGZ1bmN0aW9uIChlZGdlKSB7XHJcbiAgICAgICAgcmV0dXJuIGVkZ2UuaWQgIT09IGlkO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9LCBbXSk7XHJcbiAgdmFyIHJlbW92ZU5vZGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaWQpIHtcclxuICAgIHZhciBfbm9kZXMkZmluZDtcclxuXHJcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlOCA9IHN0b3JlLmdldFN0YXRlKCksXHJcbiAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGU4Lm5vZGVJbnRlcm5hbHMsXHJcbiAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGU4Lm9uTm9kZXNDaGFuZ2U7XHJcblxyXG4gICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcclxuICAgIHZhciBjaGFuZ2VzID0gbm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgIHJldHVybiBub2RlLmlkICE9PSBpZFxyXG4gICAgICAgID8ge1xyXG4gICAgICAgICAgICBpdGVtOiBub2RlLFxyXG4gICAgICAgICAgICB0eXBlOiBcInJlc2V0XCIsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgOiB7XHJcbiAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgdHlwZTogXCJyZW1vdmVcIixcclxuICAgICAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIGlmIChvbk5vZGVzQ2hhbmdlKSBvbk5vZGVzQ2hhbmdlKGNoYW5nZXMpO1xyXG4gICAgcmV0dXJuIChfbm9kZXMkZmluZCA9IG5vZGVzLmZpbmQoZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgcmV0dXJuIG5vZGUuaWQgPT09IGlkO1xyXG4gICAgfSkpID09PSBudWxsIHx8IF9ub2RlcyRmaW5kID09PSB2b2lkIDBcclxuICAgICAgPyB2b2lkIDBcclxuICAgICAgOiBfbm9kZXMkZmluZC5oYW5kbGVCb3VuZHM7XHJcbiAgfSwgW10pO1xyXG4gIHZhciBhZGROb2RlcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXlsb2FkKSB7XHJcbiAgICB2YXIgbm9kZXMgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IFtwYXlsb2FkXTtcclxuXHJcbiAgICB2YXIgX3N0b3JlJGdldFN0YXRlOSA9IHN0b3JlLmdldFN0YXRlKCksXHJcbiAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGU5Lm5vZGVJbnRlcm5hbHMsXHJcbiAgICAgIHNldE5vZGVzID0gX3N0b3JlJGdldFN0YXRlOS5zZXROb2RlcyxcclxuICAgICAgaGFzRGVmYXVsdE5vZGVzID0gX3N0b3JlJGdldFN0YXRlOS5oYXNEZWZhdWx0Tm9kZXMsXHJcbiAgICAgIG9uTm9kZXNDaGFuZ2UgPSBfc3RvcmUkZ2V0U3RhdGU5Lm9uTm9kZXNDaGFuZ2U7XHJcblxyXG4gICAgaWYgKGhhc0RlZmF1bHROb2Rlcykge1xyXG4gICAgICB2YXIgY3VycmVudE5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcclxuICAgICAgdmFyIG5leHROb2RlcyA9IFtdLmNvbmNhdChcclxuICAgICAgICBfdG9Db25zdW1hYmxlQXJyYXkoY3VycmVudE5vZGVzKSxcclxuICAgICAgICBfdG9Db25zdW1hYmxlQXJyYXkobm9kZXMpXHJcbiAgICAgICk7XHJcbiAgICAgIHNldE5vZGVzKG5leHROb2Rlcyk7XHJcbiAgICB9IGVsc2UgaWYgKG9uTm9kZXNDaGFuZ2UpIHtcclxuICAgICAgdmFyIGNoYW5nZXMgPSBub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaXRlbTogbm9kZSxcclxuICAgICAgICAgIHR5cGU6IFwiYWRkXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICAgIG9uTm9kZXNDaGFuZ2UoY2hhbmdlcyk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG4gIHZhciBhZGRFZGdlcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXlsb2FkKSB7XHJcbiAgICB2YXIgbmV4dEVkZ2VzID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiBbcGF5bG9hZF07XHJcblxyXG4gICAgdmFyIF9zdG9yZSRnZXRTdGF0ZTEwID0gc3RvcmUuZ2V0U3RhdGUoKSxcclxuICAgICAgX3N0b3JlJGdldFN0YXRlMTAkZWRnID0gX3N0b3JlJGdldFN0YXRlMTAuZWRnZXMsXHJcbiAgICAgIGVkZ2VzID0gX3N0b3JlJGdldFN0YXRlMTAkZWRnID09PSB2b2lkIDAgPyBbXSA6IF9zdG9yZSRnZXRTdGF0ZTEwJGVkZyxcclxuICAgICAgc2V0RWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUxMC5zZXRFZGdlcyxcclxuICAgICAgaGFzRGVmYXVsdEVkZ2VzID0gX3N0b3JlJGdldFN0YXRlMTAuaGFzRGVmYXVsdEVkZ2VzLFxyXG4gICAgICBvbkVkZ2VzQ2hhbmdlID0gX3N0b3JlJGdldFN0YXRlMTAub25FZGdlc0NoYW5nZTtcclxuXHJcbiAgICBpZiAoaGFzRGVmYXVsdEVkZ2VzKSB7XHJcbiAgICAgIHNldEVkZ2VzKFxyXG4gICAgICAgIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZWRnZXMpLCBfdG9Db25zdW1hYmxlQXJyYXkobmV4dEVkZ2VzKSlcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAob25FZGdlc0NoYW5nZSkge1xyXG4gICAgICB2YXIgY2hhbmdlcyA9IG5leHRFZGdlcy5tYXAoZnVuY3Rpb24gKGVkZ2UpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaXRlbTogZWRnZSxcclxuICAgICAgICAgIHR5cGU6IFwiYWRkXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICAgIG9uRWRnZXNDaGFuZ2UoY2hhbmdlcyk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG4gIHZhciB0b09iamVjdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBfc3RvcmUkZ2V0U3RhdGUxMSA9IHN0b3JlLmdldFN0YXRlKCksXHJcbiAgICAgIG5vZGVJbnRlcm5hbHMgPSBfc3RvcmUkZ2V0U3RhdGUxMS5ub2RlSW50ZXJuYWxzLFxyXG4gICAgICBfc3RvcmUkZ2V0U3RhdGUxMSRlZGcgPSBfc3RvcmUkZ2V0U3RhdGUxMS5lZGdlcyxcclxuICAgICAgZWRnZXMgPSBfc3RvcmUkZ2V0U3RhdGUxMSRlZGcgPT09IHZvaWQgMCA/IFtdIDogX3N0b3JlJGdldFN0YXRlMTEkZWRnLFxyXG4gICAgICB0cmFuc2Zvcm0gPSBfc3RvcmUkZ2V0U3RhdGUxMS50cmFuc2Zvcm07XHJcblxyXG4gICAgdmFyIG5vZGVzID0gQXJyYXkuZnJvbShub2RlSW50ZXJuYWxzLnZhbHVlcygpKTtcclxuXHJcbiAgICB2YXIgX3RyYW5zZm9ybSA9IF9zbGljZWRUb0FycmF5KHRyYW5zZm9ybSwgMyksXHJcbiAgICAgIHggPSBfdHJhbnNmb3JtWzBdLFxyXG4gICAgICB5ID0gX3RyYW5zZm9ybVsxXSxcclxuICAgICAgem9vbSA9IF90cmFuc2Zvcm1bMl07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbm9kZXM6IG5vZGVzLm1hcChmdW5jdGlvbiAobikge1xyXG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBuKTtcclxuICAgICAgfSksXHJcbiAgICAgIGVkZ2VzOiBlZGdlcy5tYXAoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgZSk7XHJcbiAgICAgIH0pLFxyXG4gICAgICB2aWV3cG9ydDoge1xyXG4gICAgICAgIHg6IHgsXHJcbiAgICAgICAgeTogeSxcclxuICAgICAgICB6b29tOiB6b29tLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcbiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoXHJcbiAgICBfb2JqZWN0U3ByZWFkKHt9LCB2aWV3cG9ydEhlbHBlckZ1bmN0aW9ucyksXHJcbiAgICB7fSxcclxuICAgIHtcclxuICAgICAgdmlld3BvcnRJbml0aWFsaXplZDogdmlld3BvcnRJbml0aWFsaXplZCxcclxuICAgICAgZ2V0Tm9kZXM6IGdldE5vZGVzLFxyXG4gICAgICBnZXROb2RlOiBnZXROb2RlLFxyXG4gICAgICByZW1vdmVFZGdlOiByZW1vdmVFZGdlLFxyXG4gICAgICBnZXRFZGdlczogZ2V0RWRnZXMsXHJcbiAgICAgIGdldEVkZ2U6IGdldEVkZ2UsXHJcbiAgICAgIHNldE5vZGVzOiBzZXROb2RlcyxcclxuICAgICAgc2V0RWRnZXM6IHNldEVkZ2VzLFxyXG4gICAgICBhZGROb2RlczogYWRkTm9kZXMsXHJcbiAgICAgIGFkZEVkZ2VzOiBhZGRFZGdlcyxcclxuICAgICAgcmVtb3ZlTm9kZTogcmVtb3ZlTm9kZSxcclxuICAgICAgdG9PYmplY3Q6IHRvT2JqZWN0LFxyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgX3RvQ29uc3VtYWJsZUFycmF5IGFzIF8sXHJcbiAgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGFzIGEsXHJcbiAgdXNlUmVhY3RGbG93IGFzIHUsXHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZVJlYWN0Rmxvdy0zZTY5NDkxNS5qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/useReactFlow-3e694915.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/useUpdateNodeInternals.js":
/*!******************************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/useUpdateNodeInternals.js ***!
  \******************************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useUpdateNodeInternals)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_1__, zustand__WEBPACK_IMPORTED_MODULE_2__, zustand_context__WEBPACK_IMPORTED_MODULE_3__, d3_zoom__WEBPACK_IMPORTED_MODULE_4__]);\n([_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_1__, zustand__WEBPACK_IMPORTED_MODULE_2__, zustand_context__WEBPACK_IMPORTED_MODULE_3__, d3_zoom__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\nvar selector = function selector(state) {\r\n  return state.updateNodeDimensions;\r\n};\r\n\r\nfunction useUpdateNodeInternals() {\r\n  var updateNodeDimensions = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_1__.b)(selector);\r\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (id) {\r\n    var nodeElement = document.querySelector(\".react-flow__node[data-id=\\\"\".concat(id, \"\\\"]\"));\r\n\r\n    if (nodeElement) {\r\n      updateNodeDimensions([{\r\n        id: id,\r\n        nodeElement: nodeElement,\r\n        forceUpdate: true\r\n      }]);\r\n    }\r\n  }, []);\r\n}\r\n\r\n\r\n//# sourceMappingURL=useUpdateNodeInternals.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vdXNlVXBkYXRlTm9kZUludGVybmFscy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBb0M7QUFDZ0I7QUFDbkM7QUFDUTtBQUNSO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxREFBUTtBQUNyQyxTQUFTLGtEQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDNkM7QUFDN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vdXNlVXBkYXRlTm9kZUludGVybmFscy5qcz84N2Y2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBiIGFzIHVzZVN0b3JlIH0gZnJvbSAnLi9pbmRleC0zZGUyYjRkZC5qcyc7XHJcbmltcG9ydCAnenVzdGFuZCc7XHJcbmltcG9ydCAnenVzdGFuZC9jb250ZXh0JztcclxuaW1wb3J0ICdkMy16b29tJztcclxuXHJcbnZhciBzZWxlY3RvciA9IGZ1bmN0aW9uIHNlbGVjdG9yKHN0YXRlKSB7XHJcbiAgcmV0dXJuIHN0YXRlLnVwZGF0ZU5vZGVEaW1lbnNpb25zO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gdXNlVXBkYXRlTm9kZUludGVybmFscygpIHtcclxuICB2YXIgdXBkYXRlTm9kZURpbWVuc2lvbnMgPSB1c2VTdG9yZShzZWxlY3Rvcik7XHJcbiAgcmV0dXJuIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpZCkge1xyXG4gICAgdmFyIG5vZGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZWFjdC1mbG93X19ub2RlW2RhdGEtaWQ9XFxcIlwiLmNvbmNhdChpZCwgXCJcXFwiXVwiKSk7XHJcblxyXG4gICAgaWYgKG5vZGVFbGVtZW50KSB7XHJcbiAgICAgIHVwZGF0ZU5vZGVEaW1lbnNpb25zKFt7XHJcbiAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgIG5vZGVFbGVtZW50OiBub2RlRWxlbWVudCxcclxuICAgICAgICBmb3JjZVVwZGF0ZTogdHJ1ZVxyXG4gICAgICB9XSk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG59XHJcblxyXG5leHBvcnQgeyB1c2VVcGRhdGVOb2RlSW50ZXJuYWxzIGFzIGRlZmF1bHQgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlVXBkYXRlTm9kZUludGVybmFscy5qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/useUpdateNodeInternals.js\n");

/***/ }),

/***/ "../../.yalc/react-flow-renderer-v12/dist/esm/useViewport.js":
/*!*******************************************************************!*\
  !*** ../../.yalc/react-flow-renderer-v12/dist/esm/useViewport.js ***!
  \*******************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useViewport)\n/* harmony export */ });\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand/shallow */ \"zustand/shallow\");\n/* harmony import */ var _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-3de2b4dd.js */ \"../../.yalc/react-flow-renderer-v12/dist/esm/index-3de2b4dd.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"zustand\");\n/* harmony import */ var zustand_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand/context */ \"zustand/context\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-zoom */ \"d3-zoom\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zustand_shallow__WEBPACK_IMPORTED_MODULE_0__, _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_1__, zustand__WEBPACK_IMPORTED_MODULE_2__, zustand_context__WEBPACK_IMPORTED_MODULE_3__, d3_zoom__WEBPACK_IMPORTED_MODULE_4__]);\n([zustand_shallow__WEBPACK_IMPORTED_MODULE_0__, _index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_1__, zustand__WEBPACK_IMPORTED_MODULE_2__, zustand_context__WEBPACK_IMPORTED_MODULE_3__, d3_zoom__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\r\n\r\n\r\n\r\n\r\n\r\nvar viewportSelector = function viewportSelector(state) {\r\n  return {\r\n    x: state.transform[0],\r\n    y: state.transform[1],\r\n    zoom: state.transform[2]\r\n  };\r\n};\r\n\r\nfunction useViewport() {\r\n  var viewport = (0,_index_3de2b4dd_js__WEBPACK_IMPORTED_MODULE_1__.b)(viewportSelector, zustand_shallow__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\r\n  return viewport;\r\n}\r\n\r\n\r\n//# sourceMappingURL=useViewport.js.map\r\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vdXNlVmlld3BvcnQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ2M7QUFDbkM7QUFDUTtBQUNSO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFRLG1CQUFtQix1REFBTztBQUNuRDtBQUNBO0FBQ0E7QUFDa0M7QUFDbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLnlhbGMvcmVhY3QtZmxvdy1yZW5kZXJlci12MTIvZGlzdC9lc20vdXNlVmlld3BvcnQuanM/NjFiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2hhbGxvdyBmcm9tICd6dXN0YW5kL3NoYWxsb3cnO1xyXG5pbXBvcnQgeyBiIGFzIHVzZVN0b3JlIH0gZnJvbSAnLi9pbmRleC0zZGUyYjRkZC5qcyc7XHJcbmltcG9ydCAnenVzdGFuZCc7XHJcbmltcG9ydCAnenVzdGFuZC9jb250ZXh0JztcclxuaW1wb3J0ICdkMy16b29tJztcclxuXHJcbnZhciB2aWV3cG9ydFNlbGVjdG9yID0gZnVuY3Rpb24gdmlld3BvcnRTZWxlY3RvcihzdGF0ZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICB4OiBzdGF0ZS50cmFuc2Zvcm1bMF0sXHJcbiAgICB5OiBzdGF0ZS50cmFuc2Zvcm1bMV0sXHJcbiAgICB6b29tOiBzdGF0ZS50cmFuc2Zvcm1bMl1cclxuICB9O1xyXG59O1xyXG5cclxuZnVuY3Rpb24gdXNlVmlld3BvcnQoKSB7XHJcbiAgdmFyIHZpZXdwb3J0ID0gdXNlU3RvcmUodmlld3BvcnRTZWxlY3Rvciwgc2hhbGxvdyk7XHJcbiAgcmV0dXJuIHZpZXdwb3J0O1xyXG59XHJcblxyXG5leHBvcnQgeyB1c2VWaWV3cG9ydCBhcyBkZWZhdWx0IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZVZpZXdwb3J0LmpzLm1hcFxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../.yalc/react-flow-renderer-v12/dist/esm/useViewport.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/_app.tsx"));
module.exports = __webpack_exports__;

})();